

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Namespace faiss::gpu &mdash; Faiss  documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/tabs.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Namespace faiss::gpu::utils" href="namespacefaiss_1_1gpu_1_1utils.html" />
    <link rel="prev" title="Namespace faiss" href="namespacefaiss.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Faiss
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Docs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/facebookresearch/faiss/wiki">Wiki</a></li>
</ul>
<p class="caption"><span class="caption-text">C++ API</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../classlist.html">Class list</a></li>
<li class="toctree-l1"><a class="reference internal" href="../filelist.html">File list</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../namespacelist.html">Namespace list</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="namespacefaiss.html">Namespace faiss</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Namespace faiss::gpu</a></li>
<li class="toctree-l2"><a class="reference internal" href="namespacefaiss_1_1gpu_1_1utils.html">Namespace faiss::gpu::utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="namespacefaiss_1_1ivflib.html">Namespace faiss::ivflib</a></li>
<li class="toctree-l2"><a class="reference internal" href="namespacefaiss_1_1quantize__lut.html">Namespace faiss::quantize_lut</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../structlist.html">Struct list</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Faiss</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../namespacelist.html">Namespace list</a> &raquo;</li>
        
      <li>Namespace faiss::gpu</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/cpp_api/namespace/namespacefaiss_1_1gpu.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="namespace-faiss-gpu">
<h1>Namespace faiss::gpu<a class="headerlink" href="#namespace-faiss-gpu" title="Permalink to this headline">¶</a></h1>
<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpuE">
<span id="_CPPv3N5faiss3gpuE"></span><span id="_CPPv2N5faiss3gpuE"></span><span id="faiss::gpu"></span><span class="target" id="namespacefaiss_1_1gpu"></span><em class="property">namespace </em><code class="sig-prename descclassname"><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a><code class="sig-prename descclassname">::</code></code><code class="sig-name descname">gpu</code><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Enums</p>
<dl class="cpp enum">
<dt id="_CPPv4N5faiss3gpu16DistanceDataTypeE">
<span id="_CPPv3N5faiss3gpu16DistanceDataTypeE"></span><span id="_CPPv2N5faiss3gpu16DistanceDataTypeE"></span><span class="target" id="GpuDistance_8h_1aa22865a7603feb994c5946c7c4d12268"></span><em class="property">enum </em><code class="sig-name descname">DistanceDataType</code><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss3gpu16DistanceDataType3F32E">
<span id="_CPPv3N5faiss3gpu16DistanceDataType3F32E"></span><span id="_CPPv2N5faiss3gpu16DistanceDataType3F32E"></span><span class="target" id="dummy_1aa22865a7603feb994c5946c7c4d12268a44ad4ef5a76e6aa6fb3e3fa079a54fda"></span><em class="property">enumerator </em><code class="sig-name descname">F32</code><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss3gpu16DistanceDataType3F16E">
<span id="_CPPv3N5faiss3gpu16DistanceDataType3F16E"></span><span id="_CPPv2N5faiss3gpu16DistanceDataType3F16E"></span><span class="target" id="dummy_1aa22865a7603feb994c5946c7c4d12268a56d8353718e6fdc78b8d69078a2cdb94"></span><em class="property">enumerator </em><code class="sig-name descname">F16</code><br /></dt>
<dd></dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt id="_CPPv4N5faiss3gpu15IndicesDataTypeE">
<span id="_CPPv3N5faiss3gpu15IndicesDataTypeE"></span><span id="_CPPv2N5faiss3gpu15IndicesDataTypeE"></span><span class="target" id="GpuDistance_8h_1a6b68daa1ef37853ef9cab2ae9007b480"></span><em class="property">enum </em><code class="sig-name descname">IndicesDataType</code><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss3gpu15IndicesDataType3I64E">
<span id="_CPPv3N5faiss3gpu15IndicesDataType3I64E"></span><span id="_CPPv2N5faiss3gpu15IndicesDataType3I64E"></span><span class="target" id="dummy_1a6b68daa1ef37853ef9cab2ae9007b480ae7e62f6928f76df671b5a0379793fab6"></span><em class="property">enumerator </em><code class="sig-name descname">I64</code><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss3gpu15IndicesDataType3I32E">
<span id="_CPPv3N5faiss3gpu15IndicesDataType3I32E"></span><span id="_CPPv2N5faiss3gpu15IndicesDataType3I32E"></span><span class="target" id="dummy_1a6b68daa1ef37853ef9cab2ae9007b480ad878ea6016bfe01729548bf442de5a8b"></span><em class="property">enumerator </em><code class="sig-name descname">I32</code><br /></dt>
<dd></dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt id="_CPPv4N5faiss3gpu14IndicesOptionsE">
<span id="_CPPv3N5faiss3gpu14IndicesOptionsE"></span><span id="_CPPv2N5faiss3gpu14IndicesOptionsE"></span><span class="target" id="GpuIndicesOptions_8h_1a863afc54e6d0c3bf6a34490d02acd459"></span><em class="property">enum </em><code class="sig-name descname">IndicesOptions</code><br /></dt>
<dd><p>How user vector index data is stored on the GPU. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss3gpu14IndicesOptions11INDICES_CPUE">
<span id="_CPPv3N5faiss3gpu14IndicesOptions11INDICES_CPUE"></span><span id="_CPPv2N5faiss3gpu14IndicesOptions11INDICES_CPUE"></span><span class="target" id="GpuIndicesOptions_8h_1a863afc54e6d0c3bf6a34490d02acd459a588811aea072aa57c268dec24d16ad81"></span><em class="property">enumerator </em><code class="sig-name descname">INDICES_CPU</code><br /></dt>
<dd><p>The user indices are only stored on the CPU; the GPU returns (inverted list, offset) to the CPU which is then translated to the real user index. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss3gpu14IndicesOptions11INDICES_IVFE">
<span id="_CPPv3N5faiss3gpu14IndicesOptions11INDICES_IVFE"></span><span id="_CPPv2N5faiss3gpu14IndicesOptions11INDICES_IVFE"></span><span class="target" id="GpuIndicesOptions_8h_1a863afc54e6d0c3bf6a34490d02acd459a86cdd363f1311a43e0e99ebdc909311c"></span><em class="property">enumerator </em><code class="sig-name descname">INDICES_IVF</code><br /></dt>
<dd><p>The indices are not stored at all, on either the CPU or GPU. Only (inverted list, offset) is returned to the user as the index. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss3gpu14IndicesOptions14INDICES_32_BITE">
<span id="_CPPv3N5faiss3gpu14IndicesOptions14INDICES_32_BITE"></span><span id="_CPPv2N5faiss3gpu14IndicesOptions14INDICES_32_BITE"></span><span class="target" id="GpuIndicesOptions_8h_1a863afc54e6d0c3bf6a34490d02acd459ad702a8b1a6bcefaa8d731762e4f88936"></span><em class="property">enumerator </em><code class="sig-name descname">INDICES_32_BIT</code><br /></dt>
<dd><p>Indices are stored as 32 bit integers on the GPU, but returned as 64 bit integers </p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss3gpu14IndicesOptions14INDICES_64_BITE">
<span id="_CPPv3N5faiss3gpu14IndicesOptions14INDICES_64_BITE"></span><span id="_CPPv2N5faiss3gpu14IndicesOptions14INDICES_64_BITE"></span><span class="target" id="GpuIndicesOptions_8h_1a863afc54e6d0c3bf6a34490d02acd459a3173a4e316b70ff921a20943bc055aac"></span><em class="property">enumerator </em><code class="sig-name descname">INDICES_64_BIT</code><br /></dt>
<dd><p>Indices are stored as 64 bit integers on the GPU. </p>
</dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt id="_CPPv4N5faiss3gpu9AllocTypeE">
<span id="_CPPv3N5faiss3gpu9AllocTypeE"></span><span id="_CPPv2N5faiss3gpu9AllocTypeE"></span><span class="target" id="GpuResources_8h_1a7038aea27b7026c4b0b4a7afeb1ba437"></span><em class="property">enum </em><code class="sig-name descname">AllocType</code><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss3gpu9AllocType5OtherE">
<span id="_CPPv3N5faiss3gpu9AllocType5OtherE"></span><span id="_CPPv2N5faiss3gpu9AllocType5OtherE"></span><span class="target" id="GpuResources_8h_1a7038aea27b7026c4b0b4a7afeb1ba437a0fcde2e6fdc2c0afd9a35bde9e99a269"></span><em class="property">enumerator </em><code class="sig-name descname">Other</code><br /></dt>
<dd><p>Unknown allocation type or miscellaneous (not currently categorized) </p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss3gpu9AllocType8FlatDataE">
<span id="_CPPv3N5faiss3gpu9AllocType8FlatDataE"></span><span id="_CPPv2N5faiss3gpu9AllocType8FlatDataE"></span><span class="target" id="GpuResources_8h_1a7038aea27b7026c4b0b4a7afeb1ba437a547b2cb3c7589068effabb0cad9fa907"></span><em class="property">enumerator </em><code class="sig-name descname">FlatData</code><br /></dt>
<dd><p>Primary data storage for <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuIndexFlat"><span class="std std-ref">GpuIndexFlat</span></a> (the raw matrix of vectors and vector norms if needed) </p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss3gpu9AllocType8IVFListsE">
<span id="_CPPv3N5faiss3gpu9AllocType8IVFListsE"></span><span id="_CPPv2N5faiss3gpu9AllocType8IVFListsE"></span><span class="target" id="GpuResources_8h_1a7038aea27b7026c4b0b4a7afeb1ba437a0b8e7919f13d089aef4f3bb6fd8420ab"></span><em class="property">enumerator </em><code class="sig-name descname">IVFLists</code><br /></dt>
<dd><p>Primary data storage for GpuIndexIVF* (the storage for each individual IVF list) </p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss3gpu9AllocType9QuantizerE">
<span id="_CPPv3N5faiss3gpu9AllocType9QuantizerE"></span><span id="_CPPv2N5faiss3gpu9AllocType9QuantizerE"></span><span class="target" id="GpuResources_8h_1a7038aea27b7026c4b0b4a7afeb1ba437a65a8f1712a80b76e79e2e36087ece51f"></span><em class="property">enumerator </em><code class="sig-name descname">Quantizer</code><br /></dt>
<dd><p>Quantizer (PQ, SQ) dictionary information. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss3gpu9AllocType25QuantizerPrecomputedCodesE">
<span id="_CPPv3N5faiss3gpu9AllocType25QuantizerPrecomputedCodesE"></span><span id="_CPPv2N5faiss3gpu9AllocType25QuantizerPrecomputedCodesE"></span><span class="target" id="GpuResources_8h_1a7038aea27b7026c4b0b4a7afeb1ba437a73a4afa64cdd0c13b4bc55087eedcc83"></span><em class="property">enumerator </em><code class="sig-name descname">QuantizerPrecomputedCodes</code><br /></dt>
<dd><p>For <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuIndexIVFPQ"><span class="std std-ref">GpuIndexIVFPQ</span></a>, “precomputed codes” for more efficient PQ lookup require the use of possibly large tables. These are marked separately from Quantizer as these can frequently be 100s - 1000s of MiB in size </p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss3gpu9AllocType21TemporaryMemoryBufferE">
<span id="_CPPv3N5faiss3gpu9AllocType21TemporaryMemoryBufferE"></span><span id="_CPPv2N5faiss3gpu9AllocType21TemporaryMemoryBufferE"></span><span class="target" id="GpuResources_8h_1a7038aea27b7026c4b0b4a7afeb1ba437a6da735df4e3424ba16ed6877129cf52b"></span><em class="property">enumerator </em><code class="sig-name descname">TemporaryMemoryBuffer</code><br /></dt>
<dd><p><a class="reference internal" href="#classfaiss_1_1gpu_1_1StandardGpuResources"><span class="std std-ref">StandardGpuResources</span></a> implementation specific typesWhen using <a class="reference internal" href="#classfaiss_1_1gpu_1_1StandardGpuResources"><span class="std std-ref">StandardGpuResources</span></a>, temporary memory allocations (MemorySpace::Temporary) come out of a stack region of memory that is allocated up front for each gpu (e.g., 1.5 GiB upon initialization). This allocation by <a class="reference internal" href="#classfaiss_1_1gpu_1_1StandardGpuResources"><span class="std std-ref">StandardGpuResources</span></a> is marked with this AllocType. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss3gpu9AllocType23TemporaryMemoryOverflowE">
<span id="_CPPv3N5faiss3gpu9AllocType23TemporaryMemoryOverflowE"></span><span id="_CPPv2N5faiss3gpu9AllocType23TemporaryMemoryOverflowE"></span><span class="target" id="GpuResources_8h_1a7038aea27b7026c4b0b4a7afeb1ba437adeddb60bbeb3d0fd449dc5473bfbae74"></span><em class="property">enumerator </em><code class="sig-name descname">TemporaryMemoryOverflow</code><br /></dt>
<dd><p>When using <a class="reference internal" href="#classfaiss_1_1gpu_1_1StandardGpuResources"><span class="std std-ref">StandardGpuResources</span></a>, any MemorySpace::Temporary allocations that cannot be satisfied within the TemporaryMemoryBuffer region fall back to calling cudaMalloc which are sized to just the request at hand. These “overflow” temporary allocations are marked with this AllocType. </p>
</dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt id="_CPPv4N5faiss3gpu11MemorySpaceE">
<span id="_CPPv3N5faiss3gpu11MemorySpaceE"></span><span id="_CPPv2N5faiss3gpu11MemorySpaceE"></span><span class="target" id="GpuResources_8h_1a308a493158ec240731ef7f87029fbd67"></span><em class="property">enum </em><code class="sig-name descname">MemorySpace</code><br /></dt>
<dd><p>Memory regions accessible to the GPU. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss3gpu11MemorySpace9TemporaryE">
<span id="_CPPv3N5faiss3gpu11MemorySpace9TemporaryE"></span><span id="_CPPv2N5faiss3gpu11MemorySpace9TemporaryE"></span><span class="target" id="GpuResources_8h_1a308a493158ec240731ef7f87029fbd67a3cbdb1d642f55fc4c351b62f6f259f76"></span><em class="property">enumerator </em><code class="sig-name descname">Temporary</code><br /></dt>
<dd><p>Temporary device memory (guaranteed to no longer be used upon exit of a top-level index call, and where the streams using it have completed GPU work). Typically backed by Device memory (cudaMalloc/cudaFree). </p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss3gpu11MemorySpace6DeviceE">
<span id="_CPPv3N5faiss3gpu11MemorySpace6DeviceE"></span><span id="_CPPv2N5faiss3gpu11MemorySpace6DeviceE"></span><span class="target" id="GpuResources_8h_1a308a493158ec240731ef7f87029fbd67a18edc24f65a6948be1fd9a2c27df51cc"></span><em class="property">enumerator </em><code class="sig-name descname">Device</code><br /></dt>
<dd><p>Managed using cudaMalloc/cudaFree (typical GPU device memory) </p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss3gpu11MemorySpace7UnifiedE">
<span id="_CPPv3N5faiss3gpu11MemorySpace7UnifiedE"></span><span id="_CPPv2N5faiss3gpu11MemorySpace7UnifiedE"></span><span class="target" id="GpuResources_8h_1a308a493158ec240731ef7f87029fbd67a0ee0f76a9dabbd16f80c5382472af6d6"></span><em class="property">enumerator </em><code class="sig-name descname">Unified</code><br /></dt>
<dd><p>Managed using cudaMallocManaged/cudaFree (typical Unified CPU/GPU memory) </p>
</dd></dl>

</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu16index_gpu_to_cpuEPKN5faiss5IndexE">
<span id="_CPPv3N5faiss3gpu16index_gpu_to_cpuEPKN5faiss5IndexE"></span><span id="_CPPv2N5faiss3gpu16index_gpu_to_cpuEPKN5faiss5IndexE"></span><span id="faiss::gpu::index_gpu_to_cpu__faiss::IndexCP"></span><span class="target" id="GpuCloner_8h_1a500b37234fbe71aed08ff67c3d7926dd"></span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">index_gpu_to_cpu</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>gpu_index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>converts any GPU index inside gpu_index to a CPU index </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu16index_cpu_to_gpuEP20GpuResourcesProvideriPKN5faiss5IndexEPK16GpuClonerOptions">
<span id="_CPPv3N5faiss3gpu16index_cpu_to_gpuEP20GpuResourcesProvideriPKN5faiss5IndexEPK16GpuClonerOptions"></span><span id="_CPPv2N5faiss3gpu16index_cpu_to_gpuEP20GpuResourcesProvideriPKN5faiss5IndexEPK16GpuClonerOptions"></span><span id="faiss::gpu::index_cpu_to_gpu__GpuResourcesProviderP.i.faiss::IndexCP.GpuClonerOptionsCP"></span><span class="target" id="GpuCloner_8h_1a05cb0b5db1ebcd508cb0a259d4b536ab"></span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">index_cpu_to_gpu</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a> *<em>provider</em>, int <em>device</em>, <em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em>, <em class="property">const</em> <a class="reference internal" href="../file/GpuClonerOptions_8h.html#_CPPv4N5faiss3gpu16GpuClonerOptionsE" title="faiss::gpu::GpuClonerOptions">GpuClonerOptions</a> *<em>options</em> = nullptr<span class="sig-paren">)</span><br /></dt>
<dd><p>converts any CPU index that can be converted to GPU </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu25index_cpu_to_gpu_multipleERNSt6vectorIP20GpuResourcesProviderEERNSt6vectorIiEEPKN5faiss5IndexEPK24GpuMultipleClonerOptions">
<span id="_CPPv3N5faiss3gpu25index_cpu_to_gpu_multipleERNSt6vectorIP20GpuResourcesProviderEERNSt6vectorIiEEPKN5faiss5IndexEPK24GpuMultipleClonerOptions"></span><span id="_CPPv2N5faiss3gpu25index_cpu_to_gpu_multipleERNSt6vectorIP20GpuResourcesProviderEERNSt6vectorIiEEPKN5faiss5IndexEPK24GpuMultipleClonerOptions"></span><span id="faiss::gpu::index_cpu_to_gpu_multiple__std::vector:GpuResourcesProviderP:R.std::vector:i:R.faiss::IndexCP.GpuMultipleClonerOptionsCP"></span><span class="target" id="GpuCloner_8h_1ab26ee0f17fbf17d28c91d9107e19f921"></span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">index_cpu_to_gpu_multiple</code><span class="sig-paren">(</span>std::vector&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a>*&gt; &amp;<em>provider</em>, std::vector&lt;int&gt; &amp;<em>devices</em>, <em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em>, <em class="property">const</em> <a class="reference internal" href="../file/GpuClonerOptions_8h.html#_CPPv4N5faiss3gpu24GpuMultipleClonerOptionsE" title="faiss::gpu::GpuMultipleClonerOptions">GpuMultipleClonerOptions</a> *<em>options</em> = nullptr<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu5bfKnnEP20GpuResourcesProviderRK17GpuDistanceParams">
<span id="_CPPv3N5faiss3gpu5bfKnnEP20GpuResourcesProviderRK17GpuDistanceParams"></span><span id="_CPPv2N5faiss3gpu5bfKnnEP20GpuResourcesProviderRK17GpuDistanceParams"></span><span id="faiss::gpu::bfKnn__GpuResourcesProviderP.GpuDistanceParamsCR"></span><span class="target" id="GpuDistance_8h_1a29928698b9b3bae60ff6f7e7d79e0354"></span>void <code class="sig-name descname">bfKnn</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a> *<em>resources</em>, <em class="property">const</em> <a class="reference internal" href="../file/GpuDistance_8h.html#_CPPv4N5faiss3gpu17GpuDistanceParamsE" title="faiss::gpu::GpuDistanceParams">GpuDistanceParams</a> &amp;<em>args</em><span class="sig-paren">)</span><br /></dt>
<dd><p>A wrapper for gpu/impl/Distance.cuh to expose direct brute-force k-nearest neighbor searches on an externally-provided region of memory (e.g., from a pytorch tensor). The data (vectors, queries, outDistances, outIndices) can be resident on the GPU or the CPU, but all calculations are performed on the GPU. If the result buffers are on the CPU, results will be copied back when done.</p>
<p>All GPU computation is performed on the current CUDA device, and ordered with respect to resources-&gt;getDefaultStreamCurrentDevice().</p>
<p>For each vector in <code class="docutils literal notranslate"><span class="pre">queries</span></code>, searches all of <code class="docutils literal notranslate"><span class="pre">vectors</span></code> to find its k nearest neighbors with respect to the given metric </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13bruteForceKnnEP20GpuResourcesProviderN5faiss10MetricTypeEPKfbiPKfbiiiPfPN5Index5idx_tE">
<span id="_CPPv3N5faiss3gpu13bruteForceKnnEP20GpuResourcesProviderN5faiss10MetricTypeEPKfbiPKfbiiiPfPN5Index5idx_tE"></span><span id="_CPPv2N5faiss3gpu13bruteForceKnnEP20GpuResourcesProviderN5faiss10MetricTypeEPKfbiPKfbiiiPfPN5Index5idx_tE"></span><span id="faiss::gpu::bruteForceKnn__GpuResourcesProviderP.faiss::MetricType.floatCP.b.i.floatCP.b.i.i.i.floatP.Index::idx_tP"></span><span class="target" id="GpuDistance_8h_1a36de9d33475f2c592eaf24a0f82f43b7"></span>void <code class="sig-name descname">bruteForceKnn</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a> *<em>resources</em>, <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <em>metric</em>, <em class="property">const</em> float *<em>vectors</em>, bool <em>vectorsRowMajor</em>, int <em>numVectors</em>, <em class="property">const</em> float *<em>queries</em>, bool <em>queriesRowMajor</em>, int <em>numQueries</em>, int <em>dims</em>, int <em>k</em>, float *<em>outDistances</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>outIndices</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Deprecated legacy implementation. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu17allocTypeToStringE9AllocType">
<span id="_CPPv3N5faiss3gpu17allocTypeToStringE9AllocType"></span><span id="_CPPv2N5faiss3gpu17allocTypeToStringE9AllocType"></span><span id="faiss::gpu::allocTypeToString__AllocType"></span><span class="target" id="GpuResources_8h_1a01cfc3c8a312c3e60e1909eeb0941301"></span>std::string <code class="sig-name descname">allocTypeToString</code><span class="sig-paren">(</span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu9AllocTypeE" title="faiss::gpu::AllocType">AllocType</a> <em>t</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Convert an AllocType to string. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu19memorySpaceToStringE11MemorySpace">
<span id="_CPPv3N5faiss3gpu19memorySpaceToStringE11MemorySpace"></span><span id="_CPPv2N5faiss3gpu19memorySpaceToStringE11MemorySpace"></span><span id="faiss::gpu::memorySpaceToString__MemorySpace"></span><span class="target" id="GpuResources_8h_1a26325bc7abaa18271fbe76c2bfbf1c64"></span>std::string <code class="sig-name descname">memorySpaceToString</code><span class="sig-paren">(</span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu11MemorySpaceE" title="faiss::gpu::MemorySpace">MemorySpace</a> <em>s</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Convert a MemorySpace to string. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12makeDevAllocE9AllocType12cudaStream_t">
<span id="_CPPv3N5faiss3gpu12makeDevAllocE9AllocType12cudaStream_t"></span><span id="_CPPv2N5faiss3gpu12makeDevAllocE9AllocType12cudaStream_t"></span><span id="faiss::gpu::makeDevAlloc__AllocType.cudaStream_t"></span><span class="target" id="GpuResources_8h_1a899d29db52c5400a548baa534667f1c5"></span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu9AllocInfoE" title="faiss::gpu::AllocInfo">AllocInfo</a> <code class="sig-name descname">makeDevAlloc</code><span class="sig-paren">(</span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu9AllocTypeE" title="faiss::gpu::AllocType">AllocType</a> <em>at</em>, cudaStream_t <em>st</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Create an <a class="reference internal" href="../struct/structfaiss_1_1gpu_1_1AllocInfo.html#structfaiss_1_1gpu_1_1AllocInfo"><span class="std std-ref">AllocInfo</span></a> for the current device with MemorySpace::Device. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13makeTempAllocE9AllocType12cudaStream_t">
<span id="_CPPv3N5faiss3gpu13makeTempAllocE9AllocType12cudaStream_t"></span><span id="_CPPv2N5faiss3gpu13makeTempAllocE9AllocType12cudaStream_t"></span><span id="faiss::gpu::makeTempAlloc__AllocType.cudaStream_t"></span><span class="target" id="GpuResources_8h_1a25ba473fa8b757298399a9898435424a"></span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu9AllocInfoE" title="faiss::gpu::AllocInfo">AllocInfo</a> <code class="sig-name descname">makeTempAlloc</code><span class="sig-paren">(</span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu9AllocTypeE" title="faiss::gpu::AllocType">AllocType</a> <em>at</em>, cudaStream_t <em>st</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Create an <a class="reference internal" href="../struct/structfaiss_1_1gpu_1_1AllocInfo.html#structfaiss_1_1gpu_1_1AllocInfo"><span class="std std-ref">AllocInfo</span></a> for the current device with MemorySpace::Temporary. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14makeSpaceAllocE9AllocType11MemorySpace12cudaStream_t">
<span id="_CPPv3N5faiss3gpu14makeSpaceAllocE9AllocType11MemorySpace12cudaStream_t"></span><span id="_CPPv2N5faiss3gpu14makeSpaceAllocE9AllocType11MemorySpace12cudaStream_t"></span><span id="faiss::gpu::makeSpaceAlloc__AllocType.MemorySpace.cudaStream_t"></span><span class="target" id="GpuResources_8h_1acc39275d82143dd1663807a635e59cf9"></span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu9AllocInfoE" title="faiss::gpu::AllocInfo">AllocInfo</a> <code class="sig-name descname">makeSpaceAlloc</code><span class="sig-paren">(</span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu9AllocTypeE" title="faiss::gpu::AllocType">AllocType</a> <em>at</em>, <a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu11MemorySpaceE" title="faiss::gpu::MemorySpace">MemorySpace</a> <em>sp</em>, cudaStream_t <em>st</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Create an <a class="reference internal" href="../struct/structfaiss_1_1gpu_1_1AllocInfo.html#structfaiss_1_1gpu_1_1AllocInfo"><span class="std std-ref">AllocInfo</span></a> for the current device. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11newTestSeedEv">
<span id="_CPPv3N5faiss3gpu11newTestSeedEv"></span><span id="_CPPv2N5faiss3gpu11newTestSeedEv"></span><span id="faiss::gpu::newTestSeed"></span><span class="target" id="TestUtils_8h_1a6985d5edeae8143e4f1680b1428e55fc"></span>void <code class="sig-name descname">newTestSeed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Generates and displays a new seed for the test. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11setTestSeedEl">
<span id="_CPPv3N5faiss3gpu11setTestSeedEl"></span><span id="_CPPv2N5faiss3gpu11setTestSeedEl"></span><span id="faiss::gpu::setTestSeed__l"></span><span class="target" id="TestUtils_8h_1a97a43b6f2ad18a336a6ffb7d182e70e3"></span>void <code class="sig-name descname">setTestSeed</code><span class="sig-paren">(</span>long <em>seed</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Uses an explicit seed for the test. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13relativeErrorEff">
<span id="_CPPv3N5faiss3gpu13relativeErrorEff"></span><span id="_CPPv2N5faiss3gpu13relativeErrorEff"></span><span id="faiss::gpu::relativeError__float.float"></span><span class="target" id="TestUtils_8h_1a58c0d857ccd6d5003f38f05969a04d07"></span>float <code class="sig-name descname">relativeError</code><span class="sig-paren">(</span>float <em>a</em>, float <em>b</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns the relative error in difference between a and b (|a - b| / (0.5 * (|a| + |b|)) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu7randValEii">
<span id="_CPPv3N5faiss3gpu7randValEii"></span><span id="_CPPv2N5faiss3gpu7randValEii"></span><span id="faiss::gpu::randVal__i.i"></span><span class="target" id="TestUtils_8h_1aa0974d57bcb32037493b2e50f4bc6553"></span>int <code class="sig-name descname">randVal</code><span class="sig-paren">(</span>int <em>a</em>, int <em>b</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Generates a random integer in the range [a, b]. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu8randBoolEv">
<span id="_CPPv3N5faiss3gpu8randBoolEv"></span><span id="_CPPv2N5faiss3gpu8randBoolEv"></span><span id="faiss::gpu::randBool"></span><span class="target" id="TestUtils_8h_1aeaf4a47f6d9c0f1f21f6841a7dd3cb48"></span>bool <code class="sig-name descname">randBool</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Generates a random bool. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I0EN5faiss3gpu10randSelectE1TNSt16initializer_listI1TEE">
<span id="_CPPv3I0EN5faiss3gpu10randSelectENSt16initializer_listI1TEE"></span><span id="_CPPv2I0EN5faiss3gpu10randSelectENSt16initializer_listI1TEE"></span>template&lt;typename <code class="sig-name descname">T</code>&gt;<br /><span class="target" id="TestUtils_8h_1ab667286f1786526a19d5186f2df348a4"></span><a class="reference internal" href="../file/TestUtils_8h.html#_CPPv4I0EN5faiss3gpu10randSelectE1TNSt16initializer_listI1TEE" title="faiss::gpu::randSelect::T">T</a> <code class="sig-name descname">randSelect</code><span class="sig-paren">(</span>std::initializer_list&lt;<a class="reference internal" href="../file/TestUtils_8h.html#_CPPv4I0EN5faiss3gpu10randSelectE1TNSt16initializer_listI1TEE" title="faiss::gpu::randSelect::T">T</a>&gt; <em>vals</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Select a random value from the given list of values provided as an initializer_list </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu8randVecsE6size_t6size_t">
<span id="_CPPv3N5faiss3gpu8randVecsE6size_t6size_t"></span><span id="_CPPv2N5faiss3gpu8randVecsE6size_t6size_t"></span><span id="faiss::gpu::randVecs__s.s"></span><span class="target" id="TestUtils_8h_1ae9641002715e79d0aa4c594bbc3daa01"></span>std::vector&lt;float&gt; <code class="sig-name descname">randVecs</code><span class="sig-paren">(</span>size_t <em>num</em>, size_t <em>dim</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Generates a collection of random vectors in the range [0, 1]. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14randBinaryVecsE6size_t6size_t">
<span id="_CPPv3N5faiss3gpu14randBinaryVecsE6size_t6size_t"></span><span id="_CPPv2N5faiss3gpu14randBinaryVecsE6size_t6size_t"></span><span id="faiss::gpu::randBinaryVecs__s.s"></span><span class="target" id="TestUtils_8h_1a237b6df9cf96b9ab805c46aef32a37b8"></span>std::vector&lt;unsigned char&gt; <code class="sig-name descname">randBinaryVecs</code><span class="sig-paren">(</span>size_t <em>num</em>, size_t <em>dim</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Generates a collection of random bit vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14compareIndicesERKNSt6vectorIfEERN5faiss5IndexERN5faiss5IndexEiiiRKNSt6stringEfff">
<span id="_CPPv3N5faiss3gpu14compareIndicesERKNSt6vectorIfEERN5faiss5IndexERN5faiss5IndexEiiiRKNSt6stringEfff"></span><span id="_CPPv2N5faiss3gpu14compareIndicesERKNSt6vectorIfEERN5faiss5IndexERN5faiss5IndexEiiiRKNSt6stringEfff"></span><span id="faiss::gpu::compareIndices__std::vector:float:CR.faiss::IndexR.faiss::IndexR.i.i.i.ssCR.float.float.float"></span><span class="target" id="TestUtils_8h_1af10d6d642f9c390100d2b8a31203918f"></span>void <code class="sig-name descname">compareIndices</code><span class="sig-paren">(</span><em class="property">const</em> std::vector&lt;float&gt; &amp;<em>queryVecs</em>, <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> &amp;<em>refIndex</em>, <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> &amp;<em>testIndex</em>, int <em>numQuery</em>, int <em>dim</em>, int <em>k</em>, <em class="property">const</em> std::string &amp;<em>configMsg</em>, float <em>maxRelativeError</em> = 6e-5f, float <em>pctMaxDiff1</em> = 0.1f, float <em>pctMaxDiffN</em> = 0.005f<span class="sig-paren">)</span><br /></dt>
<dd><p>Compare two indices via query for similarity, with a user-specified set of query vectors </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14compareIndicesERN5faiss5IndexERN5faiss5IndexEiiiRKNSt6stringEfff">
<span id="_CPPv3N5faiss3gpu14compareIndicesERN5faiss5IndexERN5faiss5IndexEiiiRKNSt6stringEfff"></span><span id="_CPPv2N5faiss3gpu14compareIndicesERN5faiss5IndexERN5faiss5IndexEiiiRKNSt6stringEfff"></span><span id="faiss::gpu::compareIndices__faiss::IndexR.faiss::IndexR.i.i.i.ssCR.float.float.float"></span><span class="target" id="TestUtils_8h_1aea8cc0513413b621ba2bcc3c5de02663"></span>void <code class="sig-name descname">compareIndices</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> &amp;<em>refIndex</em>, <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> &amp;<em>testIndex</em>, int <em>numQuery</em>, int <em>dim</em>, int <em>k</em>, <em class="property">const</em> std::string &amp;<em>configMsg</em>, float <em>maxRelativeError</em> = 6e-5f, float <em>pctMaxDiff1</em> = 0.1f, float <em>pctMaxDiffN</em> = 0.005f<span class="sig-paren">)</span><br /></dt>
<dd><p>Compare two indices via query for similarity, generating random query vectors </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12compareListsEPKfPKN5faiss5Index5idx_tEPKfPKN5faiss5Index5idx_tEiiRKNSt6stringEbbbfff">
<span id="_CPPv3N5faiss3gpu12compareListsEPKfPKN5faiss5Index5idx_tEPKfPKN5faiss5Index5idx_tEiiRKNSt6stringEbbbfff"></span><span id="_CPPv2N5faiss3gpu12compareListsEPKfPKN5faiss5Index5idx_tEPKfPKN5faiss5Index5idx_tEiiRKNSt6stringEbbbfff"></span><span id="faiss::gpu::compareLists__floatCP.faiss::Index::idx_tCP.floatCP.faiss::Index::idx_tCP.i.i.ssCR.b.b.b.float.float.float"></span><span class="target" id="TestUtils_8h_1a4b17f759af26a756aab5035ddf5b53c6"></span>void <code class="sig-name descname">compareLists</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>refDist</em>, <em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>refInd</em>, <em class="property">const</em> float *<em>testDist</em>, <em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>testInd</em>, int <em>dim1</em>, int <em>dim2</em>, <em class="property">const</em> std::string &amp;<em>configMsg</em>, bool <em>printBasicStats</em>, bool <em>printDiffs</em>, bool <em>assertOnErr</em>, float <em>maxRelativeError</em> = 6e-5f, float <em>pctMaxDiff1</em> = 0.1f, float <em>pctMaxDiffN</em> = 0.005f<span class="sig-paren">)</span><br /></dt>
<dd><p>Display specific differences in the two (distance, index) lists. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I00EN5faiss3gpu15testIVFEqualityEvR1AR1B">
<span id="_CPPv3I00EN5faiss3gpu15testIVFEqualityER1AR1B"></span><span id="_CPPv2I00EN5faiss3gpu15testIVFEqualityER1AR1B"></span>template&lt;typename <code class="sig-name descname">A</code>, typename <code class="sig-name descname">B</code>&gt;<br /><span class="target" id="TestUtils_8h_1a589a55d85f293c1ed9905e5aac936776"></span>void <code class="sig-name descname">testIVFEquality</code><span class="sig-paren">(</span><a class="reference internal" href="../file/TestUtils_8h.html#_CPPv4I00EN5faiss3gpu15testIVFEqualityEvR1AR1B" title="faiss::gpu::testIVFEquality::A">A</a> &amp;<em>cpuIndex</em>, <a class="reference internal" href="../file/TestUtils_8h.html#_CPPv4I00EN5faiss3gpu15testIVFEqualityEvR1AR1B" title="faiss::gpu::testIVFEquality::B">B</a> &amp;<em>gpuIndex</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Compare IVF lists between a CPU and GPU index. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu16getCurrentDeviceEv">
<span id="_CPPv3N5faiss3gpu16getCurrentDeviceEv"></span><span id="_CPPv2N5faiss3gpu16getCurrentDeviceEv"></span><span id="faiss::gpu::getCurrentDevice"></span><span class="target" id="DeviceUtils_8h_1a18ddaf734a629ded5ad2a2f235937298"></span>int <code class="sig-name descname">getCurrentDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns the current thread-local GPU device. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu16setCurrentDeviceEi">
<span id="_CPPv3N5faiss3gpu16setCurrentDeviceEi"></span><span id="_CPPv2N5faiss3gpu16setCurrentDeviceEi"></span><span id="faiss::gpu::setCurrentDevice__i"></span><span class="target" id="DeviceUtils_8h_1abf0b5b971122c7c024f70a2e690870ea"></span>void <code class="sig-name descname">setCurrentDevice</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Sets the current thread-local GPU device. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13getNumDevicesEv">
<span id="_CPPv3N5faiss3gpu13getNumDevicesEv"></span><span id="_CPPv2N5faiss3gpu13getNumDevicesEv"></span><span id="faiss::gpu::getNumDevices"></span><span class="target" id="DeviceUtils_8h_1aaeb2757087735aef66e7ec5ba134530a"></span>int <code class="sig-name descname">getNumDevices</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns the number of available GPU devices. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13profilerStartEv">
<span id="_CPPv3N5faiss3gpu13profilerStartEv"></span><span id="_CPPv2N5faiss3gpu13profilerStartEv"></span><span id="faiss::gpu::profilerStart"></span><span class="target" id="DeviceUtils_8h_1aaf3d8c41cb926052dcdf4988a323bc3b"></span>void <code class="sig-name descname">profilerStart</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Starts the CUDA profiler (exposed via SWIG) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12profilerStopEv">
<span id="_CPPv3N5faiss3gpu12profilerStopEv"></span><span id="_CPPv2N5faiss3gpu12profilerStopEv"></span><span id="faiss::gpu::profilerStop"></span><span class="target" id="DeviceUtils_8h_1aee97ca97dec791446ce147f0fe68db74"></span>void <code class="sig-name descname">profilerStop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Stops the CUDA profiler (exposed via SWIG) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu21synchronizeAllDevicesEv">
<span id="_CPPv3N5faiss3gpu21synchronizeAllDevicesEv"></span><span id="_CPPv2N5faiss3gpu21synchronizeAllDevicesEv"></span><span id="faiss::gpu::synchronizeAllDevices"></span><span class="target" id="DeviceUtils_8h_1a9aa4762fd8451c5f9b67072f4a4880e2"></span>void <code class="sig-name descname">synchronizeAllDevices</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Synchronizes the CPU against all devices (equivalent to cudaDeviceSynchronize for each device) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu19getDevicePropertiesEi">
<span id="_CPPv3N5faiss3gpu19getDevicePropertiesEi"></span><span id="_CPPv2N5faiss3gpu19getDevicePropertiesEi"></span><span id="faiss::gpu::getDeviceProperties__i"></span><span class="target" id="DeviceUtils_8h_1a5ccce882c56a92a4830ce2fc7bedbc72"></span><em class="property">const</em> cudaDeviceProp &amp;<code class="sig-name descname">getDeviceProperties</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns a cached cudaDeviceProp for the given device. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu26getCurrentDevicePropertiesEv">
<span id="_CPPv3N5faiss3gpu26getCurrentDevicePropertiesEv"></span><span id="_CPPv2N5faiss3gpu26getCurrentDevicePropertiesEv"></span><span id="faiss::gpu::getCurrentDeviceProperties"></span><span class="target" id="DeviceUtils_8h_1af758bcee021c4fd616724dbf287e292a"></span><em class="property">const</em> cudaDeviceProp &amp;<code class="sig-name descname">getCurrentDeviceProperties</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns the cached cudaDeviceProp for the current device. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13getMaxThreadsEi">
<span id="_CPPv3N5faiss3gpu13getMaxThreadsEi"></span><span id="_CPPv2N5faiss3gpu13getMaxThreadsEi"></span><span id="faiss::gpu::getMaxThreads__i"></span><span class="target" id="DeviceUtils_8h_1aec530c2ba3468b1edd6e9eceb864e797"></span>int <code class="sig-name descname">getMaxThreads</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns the maximum number of threads available for the given GPU device </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu26getMaxThreadsCurrentDeviceEv">
<span id="_CPPv3N5faiss3gpu26getMaxThreadsCurrentDeviceEv"></span><span id="_CPPv2N5faiss3gpu26getMaxThreadsCurrentDeviceEv"></span><span id="faiss::gpu::getMaxThreadsCurrentDevice"></span><span class="target" id="DeviceUtils_8h_1a7aa4505c9349ef84ae046e7973107366"></span>int <code class="sig-name descname">getMaxThreadsCurrentDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Equivalent to getMaxThreads(getCurrentDevice()) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu23getMaxSharedMemPerBlockEi">
<span id="_CPPv3N5faiss3gpu23getMaxSharedMemPerBlockEi"></span><span id="_CPPv2N5faiss3gpu23getMaxSharedMemPerBlockEi"></span><span id="faiss::gpu::getMaxSharedMemPerBlock__i"></span><span class="target" id="DeviceUtils_8h_1ab671a87a6284fc4d2fec44400ca5d163"></span>size_t <code class="sig-name descname">getMaxSharedMemPerBlock</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns the maximum smem available for the given GPU device. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu36getMaxSharedMemPerBlockCurrentDeviceEv">
<span id="_CPPv3N5faiss3gpu36getMaxSharedMemPerBlockCurrentDeviceEv"></span><span id="_CPPv2N5faiss3gpu36getMaxSharedMemPerBlockCurrentDeviceEv"></span><span id="faiss::gpu::getMaxSharedMemPerBlockCurrentDevice"></span><span class="target" id="DeviceUtils_8h_1accf2b1c27fb6cbd2b384266d42f8c9a3"></span>size_t <code class="sig-name descname">getMaxSharedMemPerBlockCurrentDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Equivalent to getMaxSharedMemPerBlock(getCurrentDevice()) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu19getDeviceForAddressEPKv">
<span id="_CPPv3N5faiss3gpu19getDeviceForAddressEPKv"></span><span id="_CPPv2N5faiss3gpu19getDeviceForAddressEPKv"></span><span id="faiss::gpu::getDeviceForAddress__voidCP"></span><span class="target" id="DeviceUtils_8h_1a90940c17958ddf1b0f5a7f86b556788b"></span>int <code class="sig-name descname">getDeviceForAddress</code><span class="sig-paren">(</span><em class="property">const</em> void *<em>p</em><span class="sig-paren">)</span><br /></dt>
<dd><p>For a given pointer, returns whether or not it is located on a device (deviceId &gt;= 0) or the host (-1). </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24getFullUnifiedMemSupportEi">
<span id="_CPPv3N5faiss3gpu24getFullUnifiedMemSupportEi"></span><span id="_CPPv2N5faiss3gpu24getFullUnifiedMemSupportEi"></span><span id="faiss::gpu::getFullUnifiedMemSupport__i"></span><span class="target" id="DeviceUtils_8h_1ae57d0b0e0c7d5529d4aee4cbd432a474"></span>bool <code class="sig-name descname">getFullUnifiedMemSupport</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Does the given device support full unified memory sharing host memory? </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu37getFullUnifiedMemSupportCurrentDeviceEv">
<span id="_CPPv3N5faiss3gpu37getFullUnifiedMemSupportCurrentDeviceEv"></span><span id="_CPPv2N5faiss3gpu37getFullUnifiedMemSupportCurrentDeviceEv"></span><span id="faiss::gpu::getFullUnifiedMemSupportCurrentDevice"></span><span class="target" id="DeviceUtils_8h_1a5b39c8414f2bdc2fbe1ab6f5f21473f8"></span>bool <code class="sig-name descname">getFullUnifiedMemSupportCurrentDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Equivalent to getFullUnifiedMemSupport(getCurrentDevice()) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu20getTensorCoreSupportEi">
<span id="_CPPv3N5faiss3gpu20getTensorCoreSupportEi"></span><span id="_CPPv2N5faiss3gpu20getTensorCoreSupportEi"></span><span id="faiss::gpu::getTensorCoreSupport__i"></span><span class="target" id="DeviceUtils_8h_1a5de148f49baef8d80b3dd4a1509bec37"></span>bool <code class="sig-name descname">getTensorCoreSupport</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Does the given device support tensor core operations? </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu33getTensorCoreSupportCurrentDeviceEv">
<span id="_CPPv3N5faiss3gpu33getTensorCoreSupportCurrentDeviceEv"></span><span id="_CPPv2N5faiss3gpu33getTensorCoreSupportCurrentDeviceEv"></span><span id="faiss::gpu::getTensorCoreSupportCurrentDevice"></span><span class="target" id="DeviceUtils_8h_1abf99b9aa3d1433ad0a69e7cccd949817"></span>bool <code class="sig-name descname">getTensorCoreSupportCurrentDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Equivalent to getTensorCoreSupport(getCurrentDevice()) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu16getMaxKSelectionEv">
<span id="_CPPv3N5faiss3gpu16getMaxKSelectionEv"></span><span id="_CPPv2N5faiss3gpu16getMaxKSelectionEv"></span><span id="faiss::gpu::getMaxKSelection"></span><span class="target" id="DeviceUtils_8h_1af43e39c84e5b12e107a71dfa5d840e60"></span>int <code class="sig-name descname">getMaxKSelection</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns the maximum k-selection value supported based on the CUDA SDK that we were compiled with. .cu files can use DeviceDefs.cuh, but this is for non-CUDA files </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I00EN5faiss3gpu14streamWaitBaseEvRK2L1RK2L2">
<span id="_CPPv3I00EN5faiss3gpu14streamWaitBaseERK2L1RK2L2"></span><span id="_CPPv2I00EN5faiss3gpu14streamWaitBaseERK2L1RK2L2"></span>template&lt;typename <code class="sig-name descname">L1</code>, typename <code class="sig-name descname">L2</code>&gt;<br /><span class="target" id="DeviceUtils_8h_1a4e6905505fb0c0d1525037408ee0a389"></span>void <code class="sig-name descname">streamWaitBase</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4I00EN5faiss3gpu14streamWaitBaseEvRK2L1RK2L2" title="faiss::gpu::streamWaitBase::L1">L1</a> &amp;<em>listWaiting</em>, <em class="property">const</em> <a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4I00EN5faiss3gpu14streamWaitBaseEvRK2L1RK2L2" title="faiss::gpu::streamWaitBase::L2">L2</a> &amp;<em>listWaitOn</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Call for a collection of streams to wait on. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I0EN5faiss3gpu10streamWaitEvRK2L1RKNSt16initializer_listI12cudaStream_tEE">
<span id="_CPPv3I0EN5faiss3gpu10streamWaitERK2L1RKNSt16initializer_listI12cudaStream_tEE"></span><span id="_CPPv2I0EN5faiss3gpu10streamWaitERK2L1RKNSt16initializer_listI12cudaStream_tEE"></span>template&lt;typename <code class="sig-name descname">L1</code>&gt;<br /><span class="target" id="DeviceUtils_8h_1a64ae6cf687076b6b0f6a956e42d009c8"></span>void <code class="sig-name descname">streamWait</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4I0EN5faiss3gpu10streamWaitEvRK2L1RKNSt16initializer_listI12cudaStream_tEE" title="faiss::gpu::streamWait::L1">L1</a> &amp;<em>a</em>, <em class="property">const</em> std::initializer_list&lt;cudaStream_t&gt; &amp;<em>b</em><span class="sig-paren">)</span><br /></dt>
<dd><p>These versions allow usage of initializer_list as arguments, since otherwise {…} doesn’t have a type </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I0EN5faiss3gpu10streamWaitEvRKNSt16initializer_listI12cudaStream_tEERK2L2">
<span id="_CPPv3I0EN5faiss3gpu10streamWaitERKNSt16initializer_listI12cudaStream_tEERK2L2"></span><span id="_CPPv2I0EN5faiss3gpu10streamWaitERKNSt16initializer_listI12cudaStream_tEERK2L2"></span>template&lt;typename <code class="sig-name descname">L2</code>&gt;<br /><span class="target" id="DeviceUtils_8h_1a26377a820f76459a3451aa2664b6326f"></span>void <code class="sig-name descname">streamWait</code><span class="sig-paren">(</span><em class="property">const</em> std::initializer_list&lt;cudaStream_t&gt; &amp;<em>a</em>, <em class="property">const</em> <a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4I0EN5faiss3gpu10streamWaitEvRKNSt16initializer_listI12cudaStream_tEERK2L2" title="faiss::gpu::streamWait::L2">L2</a> &amp;<em>b</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu10streamWaitERKNSt16initializer_listI12cudaStream_tEERKNSt16initializer_listI12cudaStream_tEE">
<span id="_CPPv3N5faiss3gpu10streamWaitERKNSt16initializer_listI12cudaStream_tEERKNSt16initializer_listI12cudaStream_tEE"></span><span id="_CPPv2N5faiss3gpu10streamWaitERKNSt16initializer_listI12cudaStream_tEERKNSt16initializer_listI12cudaStream_tEE"></span><span id="faiss::gpu::streamWait__std::initializer_list:cudaStream_t:CR.std::initializer_list:cudaStream_t:CR"></span><span class="target" id="DeviceUtils_8h_1a0ef5a2acf5c02c590e5029c061f463d8"></span>void <code class="sig-name descname">streamWait</code><span class="sig-paren">(</span><em class="property">const</em> std::initializer_list&lt;cudaStream_t&gt; &amp;<em>a</em>, <em class="property">const</em> std::initializer_list&lt;cudaStream_t&gt; &amp;<em>b</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<dl class="cpp struct">
<dt id="_CPPv4N5faiss3gpu9AllocInfoE">
<span id="_CPPv3N5faiss3gpu9AllocInfoE"></span><span id="_CPPv2N5faiss3gpu9AllocInfoE"></span><span id="faiss::gpu::AllocInfo"></span><span class="target" id="structfaiss_1_1gpu_1_1AllocInfo"></span><em class="property">struct </em><code class="sig-name descname">AllocInfo</code><br /></dt>
<dd><em>#include &lt;GpuResources.h&gt;</em><p>Information on what/where an allocation is. </p>
<p>Subclassed by <a class="reference internal" href="../struct/structfaiss_1_1gpu_1_1AllocRequest.html#structfaiss_1_1gpu_1_1AllocRequest"><span class="std std-ref">faiss::gpu::AllocRequest</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu9AllocInfo9AllocInfoEv">
<span id="_CPPv3N5faiss3gpu9AllocInfo9AllocInfoEv"></span><span id="_CPPv2N5faiss3gpu9AllocInfo9AllocInfoEv"></span><span id="faiss::gpu::AllocInfo::AllocInfo"></span><span class="target" id="structfaiss_1_1gpu_1_1AllocInfo_1a9f0952aebd52122e8c9a304653a6c321"></span><code class="sig-name descname">AllocInfo</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu9AllocInfo9AllocInfoE9AllocTypei11MemorySpace12cudaStream_t">
<span id="_CPPv3N5faiss3gpu9AllocInfo9AllocInfoE9AllocTypei11MemorySpace12cudaStream_t"></span><span id="_CPPv2N5faiss3gpu9AllocInfo9AllocInfoE9AllocTypei11MemorySpace12cudaStream_t"></span><span id="faiss::gpu::AllocInfo::AllocInfo__AllocType.i.MemorySpace.cudaStream_t"></span><span class="target" id="structfaiss_1_1gpu_1_1AllocInfo_1a37c06c3cfa2bd56b6f93a4e7d732ace5"></span><code class="sig-name descname">AllocInfo</code><span class="sig-paren">(</span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu9AllocTypeE" title="faiss::gpu::AllocType">AllocType</a> <em>at</em>, int <em>dev</em>, <a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu11MemorySpaceE" title="faiss::gpu::MemorySpace">MemorySpace</a> <em>sp</em>, cudaStream_t <em>st</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu9AllocInfo8toStringEv">
<span id="_CPPv3NK5faiss3gpu9AllocInfo8toStringEv"></span><span id="_CPPv2NK5faiss3gpu9AllocInfo8toStringEv"></span><span id="faiss::gpu::AllocInfo::toStringC"></span><span class="target" id="structfaiss_1_1gpu_1_1AllocInfo_1a977c06dfb2bb29e7997712508ebd9e36"></span>std::string <code class="sig-name descname">toString</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns a string representation of this info. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu9AllocInfo4typeE">
<span id="_CPPv3N5faiss3gpu9AllocInfo4typeE"></span><span id="_CPPv2N5faiss3gpu9AllocInfo4typeE"></span><span id="faiss::gpu::AllocInfo::type__AllocType"></span><span class="target" id="structfaiss_1_1gpu_1_1AllocInfo_1ae927d4e6e7b86c3541ffd0106f3b6d34"></span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu9AllocTypeE" title="faiss::gpu::AllocType">AllocType</a> <code class="sig-name descname">type</code><br /></dt>
<dd><p>The internal category of the allocation. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu9AllocInfo6deviceE">
<span id="_CPPv3N5faiss3gpu9AllocInfo6deviceE"></span><span id="_CPPv2N5faiss3gpu9AllocInfo6deviceE"></span><span id="faiss::gpu::AllocInfo::device__i"></span><span class="target" id="structfaiss_1_1gpu_1_1AllocInfo_1aa1417147ce3c9b88c2600d7b2618f719"></span>int <code class="sig-name descname">device</code><br /></dt>
<dd><p>The device on which the allocation is happening. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu9AllocInfo5spaceE">
<span id="_CPPv3N5faiss3gpu9AllocInfo5spaceE"></span><span id="_CPPv2N5faiss3gpu9AllocInfo5spaceE"></span><span id="faiss::gpu::AllocInfo::space__MemorySpace"></span><span class="target" id="structfaiss_1_1gpu_1_1AllocInfo_1a5be5f0b54e3fe97ceca73df4799b87ee"></span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu11MemorySpaceE" title="faiss::gpu::MemorySpace">MemorySpace</a> <code class="sig-name descname">space</code><br /></dt>
<dd><p>The memory space of the allocation. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu9AllocInfo6streamE">
<span id="_CPPv3N5faiss3gpu9AllocInfo6streamE"></span><span id="_CPPv2N5faiss3gpu9AllocInfo6streamE"></span><span id="faiss::gpu::AllocInfo::stream__cudaStream_t"></span><span class="target" id="structfaiss_1_1gpu_1_1AllocInfo_1aa84beb46d87edf606343beefeb882bd0"></span>cudaStream_t <code class="sig-name descname">stream</code><br /></dt>
<dd><p>The stream on which new work on the memory will be ordered (e.g., if a piece of memory cached and to be returned for this call was last used on stream 3 and a new memory request is for stream 4, the memory manager will synchronize stream 4 to wait for the completion of stream 3 via events or other stream synchronization.</p>
<p>The memory manager guarantees that the returned memory is free to use without data races on this stream specified. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss3gpu12AllocRequestE">
<span id="_CPPv3N5faiss3gpu12AllocRequestE"></span><span id="_CPPv2N5faiss3gpu12AllocRequestE"></span><span id="faiss::gpu::AllocRequest"></span><span class="target" id="structfaiss_1_1gpu_1_1AllocRequest"></span><em class="property">struct </em><code class="sig-name descname">AllocRequest</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4N5faiss3gpuE" title="faiss::gpu">gpu</a>::<a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu9AllocInfoE" title="faiss::gpu::AllocInfo">AllocInfo</a><br /></dt>
<dd><em>#include &lt;GpuResources.h&gt;</em><p>Information on what/where an allocation is, along with how big it should be. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12AllocRequest12AllocRequestEv">
<span id="_CPPv3N5faiss3gpu12AllocRequest12AllocRequestEv"></span><span id="_CPPv2N5faiss3gpu12AllocRequest12AllocRequestEv"></span><span id="faiss::gpu::AllocRequest::AllocRequest"></span><span class="target" id="structfaiss_1_1gpu_1_1AllocRequest_1a0ecb0120bf0c4bcbcc79a916e82e6a0f"></span><code class="sig-name descname">AllocRequest</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12AllocRequest12AllocRequestERK9AllocInfo6size_t">
<span id="_CPPv3N5faiss3gpu12AllocRequest12AllocRequestERK9AllocInfo6size_t"></span><span id="_CPPv2N5faiss3gpu12AllocRequest12AllocRequestERK9AllocInfo6size_t"></span><span id="faiss::gpu::AllocRequest::AllocRequest__AllocInfoCR.s"></span><span class="target" id="structfaiss_1_1gpu_1_1AllocRequest_1aa65de465c83315a5702844834174a0d2"></span><code class="sig-name descname">AllocRequest</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu9AllocInfoE" title="faiss::gpu::AllocInfo">AllocInfo</a> &amp;<em>info</em>, size_t <em>sz</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12AllocRequest12AllocRequestE9AllocTypei11MemorySpace12cudaStream_t6size_t">
<span id="_CPPv3N5faiss3gpu12AllocRequest12AllocRequestE9AllocTypei11MemorySpace12cudaStream_t6size_t"></span><span id="_CPPv2N5faiss3gpu12AllocRequest12AllocRequestE9AllocTypei11MemorySpace12cudaStream_t6size_t"></span><span id="faiss::gpu::AllocRequest::AllocRequest__AllocType.i.MemorySpace.cudaStream_t.s"></span><span class="target" id="structfaiss_1_1gpu_1_1AllocRequest_1a498bb2e3d03902fe07db036d3287b355"></span><code class="sig-name descname">AllocRequest</code><span class="sig-paren">(</span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu9AllocTypeE" title="faiss::gpu::AllocType">AllocType</a> <em>at</em>, int <em>dev</em>, <a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu11MemorySpaceE" title="faiss::gpu::MemorySpace">MemorySpace</a> <em>sp</em>, cudaStream_t <em>st</em>, size_t <em>sz</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu12AllocRequest8toStringEv">
<span id="_CPPv3NK5faiss3gpu12AllocRequest8toStringEv"></span><span id="_CPPv2NK5faiss3gpu12AllocRequest8toStringEv"></span><span id="faiss::gpu::AllocRequest::toStringC"></span><span class="target" id="structfaiss_1_1gpu_1_1AllocRequest_1a9089e476b1b39c6fdb5d262e511ebef5"></span>std::string <code class="sig-name descname">toString</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns a string representation of this request. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu12AllocRequest4sizeE">
<span id="_CPPv3N5faiss3gpu12AllocRequest4sizeE"></span><span id="_CPPv2N5faiss3gpu12AllocRequest4sizeE"></span><span id="faiss::gpu::AllocRequest::size__s"></span><span class="target" id="structfaiss_1_1gpu_1_1AllocRequest_1a93563f81de28e3628f4b657536c95ceb"></span>size_t <code class="sig-name descname">size</code><br /></dt>
<dd><p>The size in bytes of the allocation. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu12AllocRequest4typeE">
<span id="_CPPv3N5faiss3gpu12AllocRequest4typeE"></span><span id="_CPPv2N5faiss3gpu12AllocRequest4typeE"></span><span id="faiss::gpu::AllocRequest::type__AllocType"></span><span class="target" id="structfaiss_1_1gpu_1_1AllocInfo_1ae927d4e6e7b86c3541ffd0106f3b6d34"></span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu9AllocTypeE" title="faiss::gpu::AllocType">AllocType</a> <code class="sig-name descname">type</code><br /></dt>
<dd><p>The internal category of the allocation. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu12AllocRequest6deviceE">
<span id="_CPPv3N5faiss3gpu12AllocRequest6deviceE"></span><span id="_CPPv2N5faiss3gpu12AllocRequest6deviceE"></span><span id="faiss::gpu::AllocRequest::device__i"></span><span class="target" id="structfaiss_1_1gpu_1_1AllocInfo_1aa1417147ce3c9b88c2600d7b2618f719"></span>int <code class="sig-name descname">device</code><br /></dt>
<dd><p>The device on which the allocation is happening. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu12AllocRequest5spaceE">
<span id="_CPPv3N5faiss3gpu12AllocRequest5spaceE"></span><span id="_CPPv2N5faiss3gpu12AllocRequest5spaceE"></span><span id="faiss::gpu::AllocRequest::space__MemorySpace"></span><span class="target" id="structfaiss_1_1gpu_1_1AllocInfo_1a5be5f0b54e3fe97ceca73df4799b87ee"></span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu11MemorySpaceE" title="faiss::gpu::MemorySpace">MemorySpace</a> <code class="sig-name descname">space</code><br /></dt>
<dd><p>The memory space of the allocation. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu12AllocRequest6streamE">
<span id="_CPPv3N5faiss3gpu12AllocRequest6streamE"></span><span id="_CPPv2N5faiss3gpu12AllocRequest6streamE"></span><span id="faiss::gpu::AllocRequest::stream__cudaStream_t"></span><span class="target" id="structfaiss_1_1gpu_1_1AllocInfo_1aa84beb46d87edf606343beefeb882bd0"></span>cudaStream_t <code class="sig-name descname">stream</code><br /></dt>
<dd><p>The stream on which new work on the memory will be ordered (e.g., if a piece of memory cached and to be returned for this call was last used on stream 3 and a new memory request is for stream 4, the memory manager will synchronize stream 4 to wait for the completion of stream 3 via events or other stream synchronization.</p>
<p>The memory manager guarantees that the returned memory is free to use without data races on this stream specified. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt id="_CPPv4N5faiss3gpu8CpuTimerE">
<span id="_CPPv3N5faiss3gpu8CpuTimerE"></span><span id="_CPPv2N5faiss3gpu8CpuTimerE"></span><span id="faiss::gpu::CpuTimer"></span><span class="target" id="classfaiss_1_1gpu_1_1CpuTimer"></span><em class="property">class </em><code class="sig-name descname">CpuTimer</code><br /></dt>
<dd><em>#include &lt;Timer.h&gt;</em><p>CPU wallclock elapsed timer. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu8CpuTimer8CpuTimerEv">
<span id="_CPPv3N5faiss3gpu8CpuTimer8CpuTimerEv"></span><span id="_CPPv2N5faiss3gpu8CpuTimer8CpuTimerEv"></span><span id="faiss::gpu::CpuTimer::CpuTimer"></span><span class="target" id="classfaiss_1_1gpu_1_1CpuTimer_1af2f8e832b4c5425e152834ae7aa2af49"></span><code class="sig-name descname">CpuTimer</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Creates and starts a new timer. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu8CpuTimer19elapsedMillisecondsEv">
<span id="_CPPv3N5faiss3gpu8CpuTimer19elapsedMillisecondsEv"></span><span id="_CPPv2N5faiss3gpu8CpuTimer19elapsedMillisecondsEv"></span><span id="faiss::gpu::CpuTimer::elapsedMilliseconds"></span><span class="target" id="classfaiss_1_1gpu_1_1CpuTimer_1a4a2795debf10bc7eb904d62356e41f0d"></span>float <code class="sig-name descname">elapsedMilliseconds</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns elapsed time in milliseconds. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Private Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu8CpuTimer6start_E">
<span id="_CPPv3N5faiss3gpu8CpuTimer6start_E"></span><span id="_CPPv2N5faiss3gpu8CpuTimer6start_E"></span><span id="faiss::gpu::CpuTimer::start___std::chrono::time_point:std::chrono::steady_clock:"></span><span class="target" id="classfaiss_1_1gpu_1_1CpuTimer_1a6714256dcd528ad4c33d7c9eb6969ac4"></span>std::chrono::time_point&lt;std::chrono::steady_clock&gt; <code class="sig-name descname">start_</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt id="_CPPv4N5faiss3gpu17CublasHandleScopeE">
<span id="_CPPv3N5faiss3gpu17CublasHandleScopeE"></span><span id="_CPPv2N5faiss3gpu17CublasHandleScopeE"></span><span id="faiss::gpu::CublasHandleScope"></span><span class="target" id="classfaiss_1_1gpu_1_1CublasHandleScope"></span><em class="property">class </em><code class="sig-name descname">CublasHandleScope</code><br /></dt>
<dd><em>#include &lt;DeviceUtils.h&gt;</em><p>RAII object to manage a cublasHandle_t. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu17CublasHandleScope17CublasHandleScopeEv">
<span id="_CPPv3N5faiss3gpu17CublasHandleScope17CublasHandleScopeEv"></span><span id="_CPPv2N5faiss3gpu17CublasHandleScope17CublasHandleScopeEv"></span><span id="faiss::gpu::CublasHandleScope::CublasHandleScope"></span><span class="target" id="classfaiss_1_1gpu_1_1CublasHandleScope_1a7bcf61f669741a93cab18a0fa71b8df7"></span><code class="sig-name descname">CublasHandleScope</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu17CublasHandleScopeD0Ev">
<span id="_CPPv3N5faiss3gpu17CublasHandleScopeD0Ev"></span><span id="_CPPv2N5faiss3gpu17CublasHandleScopeD0Ev"></span><span id="faiss::gpu::CublasHandleScope::~CublasHandleScope"></span><span class="target" id="classfaiss_1_1gpu_1_1CublasHandleScope_1aebc00829e05d127f84f6502c61911109"></span><code class="sig-name descname">~CublasHandleScope</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu17CublasHandleScope3getEv">
<span id="_CPPv3N5faiss3gpu17CublasHandleScope3getEv"></span><span id="_CPPv2N5faiss3gpu17CublasHandleScope3getEv"></span><span id="faiss::gpu::CublasHandleScope::get"></span><span class="target" id="classfaiss_1_1gpu_1_1CublasHandleScope_1ad72c3f76d76df0a5b8947b4a07a37cb5"></span>cublasHandle_t <code class="sig-name descname">get</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Private Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17CublasHandleScope11blasHandle_E">
<span id="_CPPv3N5faiss3gpu17CublasHandleScope11blasHandle_E"></span><span id="_CPPv2N5faiss3gpu17CublasHandleScope11blasHandle_E"></span><span id="faiss::gpu::CublasHandleScope::blasHandle___cublasHandle_t"></span><span class="target" id="classfaiss_1_1gpu_1_1CublasHandleScope_1a990a8e8805606bba7a6450404c6d05d1"></span>cublasHandle_t <code class="sig-name descname">blasHandle_</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt id="_CPPv4N5faiss3gpu9CudaEventE">
<span id="_CPPv3N5faiss3gpu9CudaEventE"></span><span id="_CPPv2N5faiss3gpu9CudaEventE"></span><span id="faiss::gpu::CudaEvent"></span><span class="target" id="classfaiss_1_1gpu_1_1CudaEvent"></span><em class="property">class </em><code class="sig-name descname">CudaEvent</code><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu9CudaEvent9CudaEventE12cudaStream_tb">
<span id="_CPPv3N5faiss3gpu9CudaEvent9CudaEventE12cudaStream_tb"></span><span id="_CPPv2N5faiss3gpu9CudaEvent9CudaEventE12cudaStream_tb"></span><span id="faiss::gpu::CudaEvent::CudaEvent__cudaStream_t.b"></span><span class="target" id="classfaiss_1_1gpu_1_1CudaEvent_1a53bb2b58bd6ddc1b9b8e317db8eb3e2a"></span><code class="sig-name descname">CudaEvent</code><span class="sig-paren">(</span>cudaStream_t <em>stream</em>, bool <em>timer</em> = false<span class="sig-paren">)</span><br /></dt>
<dd><p>Creates an event and records it in this stream. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu9CudaEvent9CudaEventERK9CudaEvent">
<span id="_CPPv3N5faiss3gpu9CudaEvent9CudaEventERK9CudaEvent"></span><span id="_CPPv2N5faiss3gpu9CudaEvent9CudaEventERK9CudaEvent"></span><span id="faiss::gpu::CudaEvent::CudaEvent__CudaEventCR"></span><span class="target" id="classfaiss_1_1gpu_1_1CudaEvent_1ad72ad67f6eb35e7716ef153a6d212dc7"></span><code class="sig-name descname">CudaEvent</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1CudaEvent.html#_CPPv4N5faiss3gpu9CudaEvent9CudaEventERK9CudaEvent" title="faiss::gpu::CudaEvent::CudaEvent">CudaEvent</a> &amp;<em>event</em><span class="sig-paren">)</span> = delete<br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu9CudaEvent9CudaEventERR9CudaEvent">
<span id="_CPPv3N5faiss3gpu9CudaEvent9CudaEventERR9CudaEvent"></span><span id="_CPPv2N5faiss3gpu9CudaEvent9CudaEventERR9CudaEvent"></span><span id="faiss::gpu::CudaEvent::CudaEvent__CudaEventRR"></span><span class="target" id="classfaiss_1_1gpu_1_1CudaEvent_1acf9a0e14a2b79745a45cff67e94988dd"></span><code class="sig-name descname">CudaEvent</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1CudaEvent.html#_CPPv4N5faiss3gpu9CudaEvent9CudaEventERR9CudaEvent" title="faiss::gpu::CudaEvent::CudaEvent">CudaEvent</a> &amp;&amp;<em>event</em><span class="sig-paren">)</span> <em class="property">noexcept</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu9CudaEventD0Ev">
<span id="_CPPv3N5faiss3gpu9CudaEventD0Ev"></span><span id="_CPPv2N5faiss3gpu9CudaEventD0Ev"></span><span id="faiss::gpu::CudaEvent::~CudaEvent"></span><span class="target" id="classfaiss_1_1gpu_1_1CudaEvent_1a6ab1e9050459d4509daf294eb6e50ea3"></span><code class="sig-name descname">~CudaEvent</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu9CudaEvent3getEv">
<span id="_CPPv3N5faiss3gpu9CudaEvent3getEv"></span><span id="_CPPv2N5faiss3gpu9CudaEvent3getEv"></span><span id="faiss::gpu::CudaEvent::get"></span><span class="target" id="classfaiss_1_1gpu_1_1CudaEvent_1adfd9acdace7565145c339c7a3241e151"></span>cudaEvent_t <code class="sig-name descname">get</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu9CudaEvent17streamWaitOnEventE12cudaStream_t">
<span id="_CPPv3N5faiss3gpu9CudaEvent17streamWaitOnEventE12cudaStream_t"></span><span id="_CPPv2N5faiss3gpu9CudaEvent17streamWaitOnEventE12cudaStream_t"></span><span id="faiss::gpu::CudaEvent::streamWaitOnEvent__cudaStream_t"></span><span class="target" id="classfaiss_1_1gpu_1_1CudaEvent_1ad8968b298b95788c7679d7e5aa0571eb"></span>void <code class="sig-name descname">streamWaitOnEvent</code><span class="sig-paren">(</span>cudaStream_t <em>stream</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Wait on this event in this stream. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu9CudaEvent14cpuWaitOnEventEv">
<span id="_CPPv3N5faiss3gpu9CudaEvent14cpuWaitOnEventEv"></span><span id="_CPPv2N5faiss3gpu9CudaEvent14cpuWaitOnEventEv"></span><span id="faiss::gpu::CudaEvent::cpuWaitOnEvent"></span><span class="target" id="classfaiss_1_1gpu_1_1CudaEvent_1a9c85540093aaf87de80ece9f854e7c57"></span>void <code class="sig-name descname">cpuWaitOnEvent</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Have the CPU wait for the completion of this event. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu9CudaEventaSERR9CudaEvent">
<span id="_CPPv3N5faiss3gpu9CudaEventaSERR9CudaEvent"></span><span id="_CPPv2N5faiss3gpu9CudaEventaSERR9CudaEvent"></span><span id="faiss::gpu::CudaEvent::assign-operator__CudaEventRR"></span><span class="target" id="classfaiss_1_1gpu_1_1CudaEvent_1a19acf4ec7faca9bddda2a23f4b1371d3"></span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1CudaEvent.html#_CPPv4N5faiss3gpu9CudaEventE" title="faiss::gpu::CudaEvent">CudaEvent</a> &amp;<code class="sig-name descname">operator=</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1CudaEvent.html#_CPPv4N5faiss3gpu9CudaEventE" title="faiss::gpu::CudaEvent">CudaEvent</a> &amp;&amp;<em>event</em><span class="sig-paren">)</span> <em class="property">noexcept</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu9CudaEventaSER9CudaEvent">
<span id="_CPPv3N5faiss3gpu9CudaEventaSER9CudaEvent"></span><span id="_CPPv2N5faiss3gpu9CudaEventaSER9CudaEvent"></span><span id="faiss::gpu::CudaEvent::assign-operator__CudaEventR"></span><span class="target" id="classfaiss_1_1gpu_1_1CudaEvent_1a204899e640da688e4c5c526656ab0ffc"></span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1CudaEvent.html#_CPPv4N5faiss3gpu9CudaEventE" title="faiss::gpu::CudaEvent">CudaEvent</a> &amp;<code class="sig-name descname">operator=</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1CudaEvent.html#_CPPv4N5faiss3gpu9CudaEventE" title="faiss::gpu::CudaEvent">CudaEvent</a> &amp;<em>event</em><span class="sig-paren">)</span> = delete<br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Private Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu9CudaEvent6event_E">
<span id="_CPPv3N5faiss3gpu9CudaEvent6event_E"></span><span id="_CPPv2N5faiss3gpu9CudaEvent6event_E"></span><span id="faiss::gpu::CudaEvent::event___cudaEvent_t"></span><span class="target" id="classfaiss_1_1gpu_1_1CudaEvent_1a8aaeb33f793e5495ca2d12f76602b4e2"></span>cudaEvent_t <code class="sig-name descname">event_</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt id="_CPPv4N5faiss3gpu11DeviceScopeE">
<span id="_CPPv3N5faiss3gpu11DeviceScopeE"></span><span id="_CPPv2N5faiss3gpu11DeviceScopeE"></span><span id="faiss::gpu::DeviceScope"></span><span class="target" id="classfaiss_1_1gpu_1_1DeviceScope"></span><em class="property">class </em><code class="sig-name descname">DeviceScope</code><br /></dt>
<dd><em>#include &lt;DeviceUtils.h&gt;</em><p>RAII object to set the current device, and restore the previous device upon destruction </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11DeviceScope11DeviceScopeEi">
<span id="_CPPv3N5faiss3gpu11DeviceScope11DeviceScopeEi"></span><span id="_CPPv2N5faiss3gpu11DeviceScope11DeviceScopeEi"></span><span id="faiss::gpu::DeviceScope::DeviceScope__i"></span><span class="target" id="classfaiss_1_1gpu_1_1DeviceScope_1a0a7a0d5443adc242b076a17c2b0e8db9"></span><code class="sig-name descname">DeviceScope</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11DeviceScopeD0Ev">
<span id="_CPPv3N5faiss3gpu11DeviceScopeD0Ev"></span><span id="_CPPv2N5faiss3gpu11DeviceScopeD0Ev"></span><span id="faiss::gpu::DeviceScope::~DeviceScope"></span><span class="target" id="classfaiss_1_1gpu_1_1DeviceScope_1a418b10428f83a90c6b7fc4aad6cd9cfe"></span><code class="sig-name descname">~DeviceScope</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Private Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11DeviceScope11prevDevice_E">
<span id="_CPPv3N5faiss3gpu11DeviceScope11prevDevice_E"></span><span id="_CPPv2N5faiss3gpu11DeviceScope11prevDevice_E"></span><span id="faiss::gpu::DeviceScope::prevDevice___i"></span><span class="target" id="classfaiss_1_1gpu_1_1DeviceScope_1a9ebf7a524bd0fa7210dd851d7d2baa5c"></span>int <code class="sig-name descname">prevDevice_</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss3gpu16GpuClonerOptionsE">
<span id="_CPPv3N5faiss3gpu16GpuClonerOptionsE"></span><span id="_CPPv2N5faiss3gpu16GpuClonerOptionsE"></span><span id="faiss::gpu::GpuClonerOptions"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions"></span><em class="property">struct </em><code class="sig-name descname">GpuClonerOptions</code><br /></dt>
<dd><em>#include &lt;GpuClonerOptions.h&gt;</em><p>set some options on how to copy to GPU </p>
<p>Subclassed by <a class="reference internal" href="../struct/structfaiss_1_1gpu_1_1GpuMultipleClonerOptions.html#structfaiss_1_1gpu_1_1GpuMultipleClonerOptions"><span class="std std-ref">faiss::gpu::GpuMultipleClonerOptions</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1gpu_1_1ToGpuCloner.html#structfaiss_1_1gpu_1_1ToGpuCloner"><span class="std std-ref">faiss::gpu::ToGpuCloner</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu16GpuClonerOptions16GpuClonerOptionsEv">
<span id="_CPPv3N5faiss3gpu16GpuClonerOptions16GpuClonerOptionsEv"></span><span id="_CPPv2N5faiss3gpu16GpuClonerOptions16GpuClonerOptionsEv"></span><span id="faiss::gpu::GpuClonerOptions::GpuClonerOptions"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1a07e1874e27433a0848dd8fff8392ed0c"></span><code class="sig-name descname">GpuClonerOptions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu16GpuClonerOptions14indicesOptionsE">
<span id="_CPPv3N5faiss3gpu16GpuClonerOptions14indicesOptionsE"></span><span id="_CPPv2N5faiss3gpu16GpuClonerOptions14indicesOptionsE"></span><span id="faiss::gpu::GpuClonerOptions::indicesOptions__IndicesOptions"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1ad960ac51b7cc607fcb1a1b07efc32a9e"></span><a class="reference internal" href="../file/GpuIndicesOptions_8h.html#_CPPv4N5faiss3gpu14IndicesOptionsE" title="faiss::gpu::IndicesOptions">IndicesOptions</a> <code class="sig-name descname">indicesOptions</code><br /></dt>
<dd><p>how should indices be stored on index types that support indices (anything but GpuIndexFlat*)? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu16GpuClonerOptions25useFloat16CoarseQuantizerE">
<span id="_CPPv3N5faiss3gpu16GpuClonerOptions25useFloat16CoarseQuantizerE"></span><span id="_CPPv2N5faiss3gpu16GpuClonerOptions25useFloat16CoarseQuantizerE"></span><span id="faiss::gpu::GpuClonerOptions::useFloat16CoarseQuantizer__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1a85f3093908b6e9a503c24bb226b17b1b"></span>bool <code class="sig-name descname">useFloat16CoarseQuantizer</code><br /></dt>
<dd><p>is the coarse quantizer in float16? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu16GpuClonerOptions10useFloat16E">
<span id="_CPPv3N5faiss3gpu16GpuClonerOptions10useFloat16E"></span><span id="_CPPv2N5faiss3gpu16GpuClonerOptions10useFloat16E"></span><span id="faiss::gpu::GpuClonerOptions::useFloat16__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1ac7cc57d6091d6a79ea6020bf8d1fbe27"></span>bool <code class="sig-name descname">useFloat16</code><br /></dt>
<dd><p>for <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuIndexIVFFlat"><span class="std std-ref">GpuIndexIVFFlat</span></a>, is storage in float16? for <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuIndexIVFPQ"><span class="std std-ref">GpuIndexIVFPQ</span></a>, are intermediate calculations in float16? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu16GpuClonerOptions14usePrecomputedE">
<span id="_CPPv3N5faiss3gpu16GpuClonerOptions14usePrecomputedE"></span><span id="_CPPv2N5faiss3gpu16GpuClonerOptions14usePrecomputedE"></span><span id="faiss::gpu::GpuClonerOptions::usePrecomputed__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1abc9c607f2dfc9f23942a523fb49c63fe"></span>bool <code class="sig-name descname">usePrecomputed</code><br /></dt>
<dd><p>use precomputed tables? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu16GpuClonerOptions11reserveVecsE">
<span id="_CPPv3N5faiss3gpu16GpuClonerOptions11reserveVecsE"></span><span id="_CPPv2N5faiss3gpu16GpuClonerOptions11reserveVecsE"></span><span id="faiss::gpu::GpuClonerOptions::reserveVecs__l"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1ab60dd87e51af59373a48d73852573f04"></span>long <code class="sig-name descname">reserveVecs</code><br /></dt>
<dd><p>reserve vectors in the invfiles? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu16GpuClonerOptions15storeTransposedE">
<span id="_CPPv3N5faiss3gpu16GpuClonerOptions15storeTransposedE"></span><span id="_CPPv2N5faiss3gpu16GpuClonerOptions15storeTransposedE"></span><span id="faiss::gpu::GpuClonerOptions::storeTransposed__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1a5f2470ec5b2a8fe7aae0542f113b781d"></span>bool <code class="sig-name descname">storeTransposed</code><br /></dt>
<dd><p>For <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuIndexFlat"><span class="std std-ref">GpuIndexFlat</span></a>, store data in transposed layout? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu16GpuClonerOptions7verboseE">
<span id="_CPPv3N5faiss3gpu16GpuClonerOptions7verboseE"></span><span id="_CPPv2N5faiss3gpu16GpuClonerOptions7verboseE"></span><span id="faiss::gpu::GpuClonerOptions::verbose__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1abc7d0451773e0f2f640338533abc1397"></span>bool <code class="sig-name descname">verbose</code><br /></dt>
<dd><p>Set verbose options on the index. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss3gpu17GpuDistanceParamsE">
<span id="_CPPv3N5faiss3gpu17GpuDistanceParamsE"></span><span id="_CPPv2N5faiss3gpu17GpuDistanceParamsE"></span><span id="faiss::gpu::GpuDistanceParams"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuDistanceParams"></span><em class="property">struct </em><code class="sig-name descname">GpuDistanceParams</code><br /></dt>
<dd><em>#include &lt;GpuDistance.h&gt;</em><p>Arguments to brute-force GPU k-nearest neighbor searching. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu17GpuDistanceParams17GpuDistanceParamsEv">
<span id="_CPPv3N5faiss3gpu17GpuDistanceParams17GpuDistanceParamsEv"></span><span id="_CPPv2N5faiss3gpu17GpuDistanceParams17GpuDistanceParamsEv"></span><span id="faiss::gpu::GpuDistanceParams::GpuDistanceParams"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuDistanceParams_1acc642fa3dfb2bd4d4c595dde12d83c88"></span><code class="sig-name descname">GpuDistanceParams</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuDistanceParams6metricE">
<span id="_CPPv3N5faiss3gpu17GpuDistanceParams6metricE"></span><span id="_CPPv2N5faiss3gpu17GpuDistanceParams6metricE"></span><span id="faiss::gpu::GpuDistanceParams::metric__faiss::MetricType"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuDistanceParams_1a4427235f12999619094246d7e5cdaafa"></span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuDistanceParams9metricArgE">
<span id="_CPPv3N5faiss3gpu17GpuDistanceParams9metricArgE"></span><span id="_CPPv2N5faiss3gpu17GpuDistanceParams9metricArgE"></span><span id="faiss::gpu::GpuDistanceParams::metricArg__float"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuDistanceParams_1a72acefaf5f4d3b7e410a6eff97ec375d"></span>float <code class="sig-name descname">metricArg</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuDistanceParams1kE">
<span id="_CPPv3N5faiss3gpu17GpuDistanceParams1kE"></span><span id="_CPPv2N5faiss3gpu17GpuDistanceParams1kE"></span><span id="faiss::gpu::GpuDistanceParams::k__i"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuDistanceParams_1a9f46ba6c76c2cbeb2f35c3ebe2acfcd4"></span>int <code class="sig-name descname">k</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuDistanceParams4dimsE">
<span id="_CPPv3N5faiss3gpu17GpuDistanceParams4dimsE"></span><span id="_CPPv2N5faiss3gpu17GpuDistanceParams4dimsE"></span><span id="faiss::gpu::GpuDistanceParams::dims__i"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuDistanceParams_1aa0ed4c6020552f15dfec2b8058e2cc26"></span>int <code class="sig-name descname">dims</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuDistanceParams7vectorsE">
<span id="_CPPv3N5faiss3gpu17GpuDistanceParams7vectorsE"></span><span id="_CPPv2N5faiss3gpu17GpuDistanceParams7vectorsE"></span><span id="faiss::gpu::GpuDistanceParams::vectors__voidCP"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuDistanceParams_1a056e77528c9b0f5f914b5a2cff27cafa"></span><em class="property">const</em> void *<code class="sig-name descname">vectors</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuDistanceParams10vectorTypeE">
<span id="_CPPv3N5faiss3gpu17GpuDistanceParams10vectorTypeE"></span><span id="_CPPv2N5faiss3gpu17GpuDistanceParams10vectorTypeE"></span><span id="faiss::gpu::GpuDistanceParams::vectorType__DistanceDataType"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuDistanceParams_1a38675c80c01de518a2d960d0a16d2bd8"></span><a class="reference internal" href="../file/GpuDistance_8h.html#_CPPv4N5faiss3gpu16DistanceDataTypeE" title="faiss::gpu::DistanceDataType">DistanceDataType</a> <code class="sig-name descname">vectorType</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuDistanceParams15vectorsRowMajorE">
<span id="_CPPv3N5faiss3gpu17GpuDistanceParams15vectorsRowMajorE"></span><span id="_CPPv2N5faiss3gpu17GpuDistanceParams15vectorsRowMajorE"></span><span id="faiss::gpu::GpuDistanceParams::vectorsRowMajor__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuDistanceParams_1a784111949c261dcd9c1e0f174ece623b"></span>bool <code class="sig-name descname">vectorsRowMajor</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuDistanceParams10numVectorsE">
<span id="_CPPv3N5faiss3gpu17GpuDistanceParams10numVectorsE"></span><span id="_CPPv2N5faiss3gpu17GpuDistanceParams10numVectorsE"></span><span id="faiss::gpu::GpuDistanceParams::numVectors__i"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuDistanceParams_1a3a30590cd98103929ca605e21e7d0561"></span>int <code class="sig-name descname">numVectors</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuDistanceParams11vectorNormsE">
<span id="_CPPv3N5faiss3gpu17GpuDistanceParams11vectorNormsE"></span><span id="_CPPv2N5faiss3gpu17GpuDistanceParams11vectorNormsE"></span><span id="faiss::gpu::GpuDistanceParams::vectorNorms__floatCP"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuDistanceParams_1aef4df8038d668bcad75787a123aef689"></span><em class="property">const</em> float *<code class="sig-name descname">vectorNorms</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuDistanceParams7queriesE">
<span id="_CPPv3N5faiss3gpu17GpuDistanceParams7queriesE"></span><span id="_CPPv2N5faiss3gpu17GpuDistanceParams7queriesE"></span><span id="faiss::gpu::GpuDistanceParams::queries__voidCP"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuDistanceParams_1a9bdef6601a49e2fa0ed704ebd8c37800"></span><em class="property">const</em> void *<code class="sig-name descname">queries</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuDistanceParams9queryTypeE">
<span id="_CPPv3N5faiss3gpu17GpuDistanceParams9queryTypeE"></span><span id="_CPPv2N5faiss3gpu17GpuDistanceParams9queryTypeE"></span><span id="faiss::gpu::GpuDistanceParams::queryType__DistanceDataType"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuDistanceParams_1ac3e25631561ebfdb2df21e69b402061b"></span><a class="reference internal" href="../file/GpuDistance_8h.html#_CPPv4N5faiss3gpu16DistanceDataTypeE" title="faiss::gpu::DistanceDataType">DistanceDataType</a> <code class="sig-name descname">queryType</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuDistanceParams15queriesRowMajorE">
<span id="_CPPv3N5faiss3gpu17GpuDistanceParams15queriesRowMajorE"></span><span id="_CPPv2N5faiss3gpu17GpuDistanceParams15queriesRowMajorE"></span><span id="faiss::gpu::GpuDistanceParams::queriesRowMajor__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuDistanceParams_1a27221aaa9e83abf2875ae0e5b76f5f9b"></span>bool <code class="sig-name descname">queriesRowMajor</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuDistanceParams10numQueriesE">
<span id="_CPPv3N5faiss3gpu17GpuDistanceParams10numQueriesE"></span><span id="_CPPv2N5faiss3gpu17GpuDistanceParams10numQueriesE"></span><span id="faiss::gpu::GpuDistanceParams::numQueries__i"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuDistanceParams_1a482b948a09cfcc97c8033cb2901b2d40"></span>int <code class="sig-name descname">numQueries</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuDistanceParams12outDistancesE">
<span id="_CPPv3N5faiss3gpu17GpuDistanceParams12outDistancesE"></span><span id="_CPPv2N5faiss3gpu17GpuDistanceParams12outDistancesE"></span><span id="faiss::gpu::GpuDistanceParams::outDistances__floatP"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuDistanceParams_1a9ad96367054d61e361107f5c1e7e0535"></span>float *<code class="sig-name descname">outDistances</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuDistanceParams18ignoreOutDistancesE">
<span id="_CPPv3N5faiss3gpu17GpuDistanceParams18ignoreOutDistancesE"></span><span id="_CPPv2N5faiss3gpu17GpuDistanceParams18ignoreOutDistancesE"></span><span id="faiss::gpu::GpuDistanceParams::ignoreOutDistances__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuDistanceParams_1a6c2c87890ef21e22f38059cb6bf614be"></span>bool <code class="sig-name descname">ignoreOutDistances</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuDistanceParams14outIndicesTypeE">
<span id="_CPPv3N5faiss3gpu17GpuDistanceParams14outIndicesTypeE"></span><span id="_CPPv2N5faiss3gpu17GpuDistanceParams14outIndicesTypeE"></span><span id="faiss::gpu::GpuDistanceParams::outIndicesType__IndicesDataType"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuDistanceParams_1adff919837926113a0022b2889d931d27"></span><a class="reference internal" href="../file/GpuDistance_8h.html#_CPPv4N5faiss3gpu15IndicesDataTypeE" title="faiss::gpu::IndicesDataType">IndicesDataType</a> <code class="sig-name descname">outIndicesType</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuDistanceParams10outIndicesE">
<span id="_CPPv3N5faiss3gpu17GpuDistanceParams10outIndicesE"></span><span id="_CPPv2N5faiss3gpu17GpuDistanceParams10outIndicesE"></span><span id="faiss::gpu::GpuDistanceParams::outIndices__voidP"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuDistanceParams_1a2b44c3fec85b2fa6f9b52894a11242b2"></span>void *<code class="sig-name descname">outIndices</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt id="_CPPv4N5faiss3gpu8GpuIndexE">
<span id="_CPPv3N5faiss3gpu8GpuIndexE"></span><span id="_CPPv2N5faiss3gpu8GpuIndexE"></span><span id="faiss::gpu::GpuIndex"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex"></span><em class="property">class </em><code class="sig-name descname">GpuIndex</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a><br /></dt>
<dd><p>Subclassed by <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuIndexFlat"><span class="std std-ref">faiss::gpu::GpuIndexFlat</span></a>, <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuIndexIVF"><span class="std std-ref">faiss::gpu::GpuIndexIVF</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu8GpuIndex5idx_tE">
<span id="_CPPv3N5faiss3gpu8GpuIndex5idx_tE"></span><span id="_CPPv2N5faiss3gpu8GpuIndex5idx_tE"></span><span class="target" id="structfaiss_1_1Index_1ab64b96e821336c5b363d023386781d1d"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = int64_t<br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu8GpuIndex11component_tE">
<span id="_CPPv3N5faiss3gpu8GpuIndex11component_tE"></span><span id="_CPPv2N5faiss3gpu8GpuIndex11component_tE"></span><span class="target" id="structfaiss_1_1Index_1af317cb1e2ad0bd145f716f2243b693eb"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = float<br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu8GpuIndex10distance_tE">
<span id="_CPPv3N5faiss3gpu8GpuIndex10distance_tE"></span><span id="_CPPv2N5faiss3gpu8GpuIndex10distance_tE"></span><span class="target" id="structfaiss_1_1Index_1a1c60d7a12bf3ad27054963df8cccd93f"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = float<br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu8GpuIndex8GpuIndexENSt10shared_ptrI12GpuResourcesEEiN5faiss10MetricTypeEf14GpuIndexConfig">
<span id="_CPPv3N5faiss3gpu8GpuIndex8GpuIndexENSt10shared_ptrI12GpuResourcesEEiN5faiss10MetricTypeEf14GpuIndexConfig"></span><span id="_CPPv2N5faiss3gpu8GpuIndex8GpuIndexENSt10shared_ptrI12GpuResourcesEEiN5faiss10MetricTypeEf14GpuIndexConfig"></span><span id="faiss::gpu::GpuIndex::GpuIndex__std::shared_ptr:GpuResources:.i.faiss::MetricType.float.GpuIndexConfig"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a9711f1d478ac1e3b672811226823978d"></span><code class="sig-name descname">GpuIndex</code><span class="sig-paren">(</span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <em>resources</em>, int <em>dims</em>, <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <em>metric</em>, float <em>metricArg</em>, <a class="reference internal" href="../file/GpuIndex_8h.html#_CPPv4N5faiss3gpu14GpuIndexConfigE" title="faiss::gpu::GpuIndexConfig">GpuIndexConfig</a> <em>config</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu8GpuIndex9getDeviceEv">
<span id="_CPPv3NK5faiss3gpu8GpuIndex9getDeviceEv"></span><span id="_CPPv2NK5faiss3gpu8GpuIndex9getDeviceEv"></span><span id="faiss::gpu::GpuIndex::getDeviceC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1af4f02c713f639bd70e09af8afebd0f51"></span>int <code class="sig-name descname">getDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the device that this index is resident on. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu8GpuIndex12getResourcesEv">
<span id="_CPPv3N5faiss3gpu8GpuIndex12getResourcesEv"></span><span id="_CPPv2N5faiss3gpu8GpuIndex12getResourcesEv"></span><span id="faiss::gpu::GpuIndex::getResources"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a2eb235a51b0a70bdbc2c814a48a0917d"></span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <code class="sig-name descname">getResources</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns a reference to our <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuResources"><span class="std std-ref">GpuResources</span></a> object that manages memory, stream and handle resources on the GPU </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu8GpuIndex16setMinPagingSizeE6size_t">
<span id="_CPPv3N5faiss3gpu8GpuIndex16setMinPagingSizeE6size_t"></span><span id="_CPPv2N5faiss3gpu8GpuIndex16setMinPagingSizeE6size_t"></span><span id="faiss::gpu::GpuIndex::setMinPagingSize__s"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6c82cbea6b02cc996d634f822c1d310b"></span>void <code class="sig-name descname">setMinPagingSize</code><span class="sig-paren">(</span>size_t <em>size</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Set the minimum data size for searches (in MiB) for which we use CPU -&gt; GPU paging </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu8GpuIndex16getMinPagingSizeEv">
<span id="_CPPv3NK5faiss3gpu8GpuIndex16getMinPagingSizeEv"></span><span id="_CPPv2NK5faiss3gpu8GpuIndex16getMinPagingSizeEv"></span><span id="faiss::gpu::GpuIndex::getMinPagingSizeC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6402d93925d2a403dc187dc1a7aab1e3"></span>size_t <code class="sig-name descname">getMinPagingSize</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the current minimum data size for paged searches. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu8GpuIndex3addEN5Index5idx_tEPKf">
<span id="_CPPv3N5faiss3gpu8GpuIndex3addEN5Index5idx_tEPKf"></span><span id="_CPPv2N5faiss3gpu8GpuIndex3addEN5Index5idx_tEPKf"></span><span id="faiss::gpu::GpuIndex::add__Index::idx_t.floatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1ac6ac307f55a1b44dbf185e22c83b0a10"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code> can be resident on the CPU or any GPU; copies are performed as needed Handles paged adds if the add set is too large; calls addInternal_ </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu8GpuIndex12add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE">
<span id="_CPPv3N5faiss3gpu8GpuIndex12add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE"></span><span id="_CPPv2N5faiss3gpu8GpuIndex12add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndex::add_with_ids__Index::idx_t.floatCP.Index::idx_tCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a47f6969fe60d82b8e3407557ba9eec88"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">ids</span></code> can be resident on the CPU or any GPU; copies are performed as needed Handles paged adds if the add set is too large; calls addInternal_ </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu8GpuIndex6assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu8GpuIndex6assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu8GpuIndex6assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndex::assign__Index::idx_t.floatCP.Index::idx_tP.Index::idx_tC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1ac108456e9c7cde162d77f64cc9c0dcdb"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">labels</span></code> can be resident on the CPU or any GPU; copies are performed as needed </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu8GpuIndex6searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu8GpuIndex6searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu8GpuIndex6searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndex::search__Index::idx_t.floatCP.Index::idx_t.floatP.Index::idx_tPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a4564ff946e4339156173b39449562971"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">distances</span></code> and <code class="docutils literal notranslate"><span class="pre">labels</span></code> can be resident on the CPU or any GPU; copies are performed as needed </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu8GpuIndex16compute_residualEPKfPfN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu8GpuIndex16compute_residualEPKfPfN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu8GpuIndex16compute_residualEPKfPfN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndex::compute_residual__floatCP.floatP.Index::idx_tC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a1c68659822d9e330a7737c8a6aaacae2"></span>void <code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, float *<em>residual</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>key</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Overridden to force GPU indices to provide their own GPU-friendly implementation </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu8GpuIndex18compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu8GpuIndex18compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu8GpuIndex18compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndex::compute_residual_n__Index::idx_t.floatCP.floatP.Index::idx_tCPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1aac69097d303830c3d48c4016c1e6a955"></span>void <code class="sig-name descname">compute_residual_n</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xs</em>, float *<em>residuals</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>keys</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Overridden to force GPU indices to provide their own GPU-friendly implementation </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu8GpuIndex5trainE5idx_tPKf">
<span id="_CPPv3N5faiss3gpu8GpuIndex5trainE5idx_tPKf"></span><span id="_CPPv2N5faiss3gpu8GpuIndex5trainE5idx_tPKf"></span><span id="faiss::gpu::GpuIndex::train__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1Index_1a8f67dfd73993e192dc78f2c93d9d9532"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndex.html#_CPPv4N5faiss3gpu8GpuIndex5idx_tE" title="faiss::gpu::GpuIndex::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Perform training on a representative set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of training vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: training vecors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu8GpuIndex12range_searchE5idx_tPKffP17RangeSearchResult">
<span id="_CPPv3NK5faiss3gpu8GpuIndex12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="_CPPv2NK5faiss3gpu8GpuIndex12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="faiss::gpu::GpuIndex::range_search__idx_t.floatCP.float.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1Index_1a23c23be6698f583402bde568eee00ad1"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndex.html#_CPPv4N5faiss3gpu8GpuIndex5idx_tE" title="faiss::gpu::GpuIndex::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory).</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu8GpuIndex5resetEv">
<span id="_CPPv3N5faiss3gpu8GpuIndex5resetEv"></span><span id="_CPPv2N5faiss3gpu8GpuIndex5resetEv"></span><span id="faiss::gpu::GpuIndex::reset"></span><span class="target" id="structfaiss_1_1Index_1a849361f5f0ab0aba8d419c86f2594191"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> = 0<br /></dt>
<dd><p>removes all elements from the database. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu8GpuIndex10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss3gpu8GpuIndex10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss3gpu8GpuIndex10remove_idsERK10IDSelector"></span><span id="faiss::gpu::GpuIndex::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1Index_1ab70f7d0acb4a2f22857da3b17559ae82"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span><br /></dt>
<dd><p>removes IDs from the index. Not supported by all indexes. Returns the number of elements removed. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu8GpuIndex11reconstructE5idx_tPf">
<span id="_CPPv3NK5faiss3gpu8GpuIndex11reconstructE5idx_tPf"></span><span id="_CPPv2NK5faiss3gpu8GpuIndex11reconstructE5idx_tPf"></span><span id="faiss::gpu::GpuIndex::reconstruct__idx_t.floatPC"></span><span class="target" id="structfaiss_1_1Index_1afaf9673009f9fe5a53ed6db522a5f69c"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndex.html#_CPPv4N5faiss3gpu8GpuIndex5idx_tE" title="faiss::gpu::GpuIndex::idx_t">idx_t</a> <em>key</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Reconstruct a stored vector (or an approximation if lossy coding)</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: id of the vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu8GpuIndex13reconstruct_nE5idx_t5idx_tPf">
<span id="_CPPv3NK5faiss3gpu8GpuIndex13reconstruct_nE5idx_t5idx_tPf"></span><span id="_CPPv2NK5faiss3gpu8GpuIndex13reconstruct_nE5idx_t5idx_tPf"></span><span id="faiss::gpu::GpuIndex::reconstruct_n__idx_t.idx_t.floatPC"></span><span class="target" id="structfaiss_1_1Index_1ae7c0b683e1fd5c8770ea2b3e1a82ce7f"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndex.html#_CPPv4N5faiss3gpu8GpuIndex5idx_tE" title="faiss::gpu::GpuIndex::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndex.html#_CPPv4N5faiss3gpu8GpuIndex5idx_tE" title="faiss::gpu::GpuIndex::idx_t">idx_t</a> <em>ni</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Reconstruct vectors i0 to i0 + ni - 1</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size ni * d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu8GpuIndex22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf">
<span id="_CPPv3NK5faiss3gpu8GpuIndex22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="_CPPv2NK5faiss3gpu8GpuIndex22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="faiss::gpu::GpuIndex::search_and_reconstruct__idx_t.floatCP.idx_t.floatP.idx_tP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1a009874adf12440eb46396522ffd736cd"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndex.html#_CPPv4N5faiss3gpu8GpuIndex5idx_tE" title="faiss::gpu::GpuIndex::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndex.html#_CPPv4N5faiss3gpu8GpuIndex5idx_tE" title="faiss::gpu::GpuIndex::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndex.html#_CPPv4N5faiss3gpu8GpuIndex5idx_tE" title="faiss::gpu::GpuIndex::idx_t">idx_t</a> *<em>labels</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>If there are not enough results for a query, the resulting arrays is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu8GpuIndex21get_distance_computerEv">
<span id="_CPPv3NK5faiss3gpu8GpuIndex21get_distance_computerEv"></span><span id="_CPPv2NK5faiss3gpu8GpuIndex21get_distance_computerEv"></span><span id="faiss::gpu::GpuIndex::get_distance_computerC"></span><span class="target" id="structfaiss_1_1Index_1ab53ef983521567c3dc3fee4543546e6a"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Get a DistanceComputer (defined in AuxIndexStructures) object for this kind of index.</p>
<p>DistanceComputer is implemented for indexes that support random access of their vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu8GpuIndex12sa_code_sizeEv">
<span id="_CPPv3NK5faiss3gpu8GpuIndex12sa_code_sizeEv"></span><span id="_CPPv2NK5faiss3gpu8GpuIndex12sa_code_sizeEv"></span><span id="faiss::gpu::GpuIndex::sa_code_sizeC"></span><span class="target" id="structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"></span>size_t <code class="sig-name descname">sa_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>size of the produced codes in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu8GpuIndex9sa_encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss3gpu8GpuIndex9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss3gpu8GpuIndex9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::gpu::GpuIndex::sa_encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1Index_1a16770c0addc888b92deee089d6f97e7c"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndex.html#_CPPv4N5faiss3gpu8GpuIndex5idx_tE" title="faiss::gpu::GpuIndex::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: output encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu8GpuIndex9sa_decodeE5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss3gpu8GpuIndex9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss3gpu8GpuIndex9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="faiss::gpu::GpuIndex::sa_decode__idx_t.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1af39e4b00d097ac05dc9e31c52bfb9ed7"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndex.html#_CPPv4N5faiss3gpu8GpuIndex5idx_tE" title="faiss::gpu::GpuIndex::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: input encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: output vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu8GpuIndex1dE">
<span id="_CPPv3N5faiss3gpu8GpuIndex1dE"></span><span id="_CPPv2N5faiss3gpu8GpuIndex1dE"></span><span id="faiss::gpu::GpuIndex::d__i"></span><span class="target" id="structfaiss_1_1Index_1a2a002388d2c081c2dbab8508dcefe73d"></span>int <code class="sig-name descname">d</code><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu8GpuIndex6ntotalE">
<span id="_CPPv3N5faiss3gpu8GpuIndex6ntotalE"></span><span id="_CPPv2N5faiss3gpu8GpuIndex6ntotalE"></span><span id="faiss::gpu::GpuIndex::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1Index_1a6970683faa021b7a6f1a0865c0d4eccd"></span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndex.html#_CPPv4N5faiss3gpu8GpuIndex5idx_tE" title="faiss::gpu::GpuIndex::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu8GpuIndex7verboseE">
<span id="_CPPv3N5faiss3gpu8GpuIndex7verboseE"></span><span id="_CPPv2N5faiss3gpu8GpuIndex7verboseE"></span><span id="faiss::gpu::GpuIndex::verbose__b"></span><span class="target" id="structfaiss_1_1Index_1a5590d847c5c2b958affd2a05e58a6f23"></span>bool <code class="sig-name descname">verbose</code><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu8GpuIndex10is_trainedE">
<span id="_CPPv3N5faiss3gpu8GpuIndex10is_trainedE"></span><span id="_CPPv2N5faiss3gpu8GpuIndex10is_trainedE"></span><span id="faiss::gpu::GpuIndex::is_trained__b"></span><span class="target" id="structfaiss_1_1Index_1a6e92732617c4dbe364e7678dd8773a7f"></span>bool <code class="sig-name descname">is_trained</code><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu8GpuIndex11metric_typeE">
<span id="_CPPv3N5faiss3gpu8GpuIndex11metric_typeE"></span><span id="_CPPv2N5faiss3gpu8GpuIndex11metric_typeE"></span><span id="faiss::gpu::GpuIndex::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1Index_1a8e18f641854b2bde83ecff0a2f9a6f4e"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu8GpuIndex10metric_argE">
<span id="_CPPv3N5faiss3gpu8GpuIndex10metric_argE"></span><span id="_CPPv2N5faiss3gpu8GpuIndex10metric_argE"></span><span id="faiss::gpu::GpuIndex::metric_arg__float"></span><span class="target" id="structfaiss_1_1Index_1a6f60646d6877658ea4df05e0231ed232"></span>float <code class="sig-name descname">metric_arg</code><br /></dt>
<dd><p>argument of the metric type </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Protected Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu8GpuIndex8copyFromEPKN5faiss5IndexE">
<span id="_CPPv3N5faiss3gpu8GpuIndex8copyFromEPKN5faiss5IndexE"></span><span id="_CPPv2N5faiss3gpu8GpuIndex8copyFromEPKN5faiss5IndexE"></span><span id="faiss::gpu::GpuIndex::copyFrom__faiss::IndexCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a9d1657c6a28e0581b3bc96699e12a2ab"></span>void <code class="sig-name descname">copyFrom</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Copy what we need from the CPU equivalent. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu8GpuIndex6copyToEPN5faiss5IndexE">
<span id="_CPPv3NK5faiss3gpu8GpuIndex6copyToEPN5faiss5IndexE"></span><span id="_CPPv2NK5faiss3gpu8GpuIndex6copyToEPN5faiss5IndexE"></span><span id="faiss::gpu::GpuIndex::copyTo__faiss::IndexPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6fa51de122f2cf2bd49727d909fb4b6c"></span>void <code class="sig-name descname">copyTo</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Copy what we have to the CPU equivalent. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu8GpuIndex19addImplRequiresIDs_Ev">
<span id="_CPPv3NK5faiss3gpu8GpuIndex19addImplRequiresIDs_Ev"></span><span id="_CPPv2NK5faiss3gpu8GpuIndex19addImplRequiresIDs_Ev"></span><span id="faiss::gpu::GpuIndex::addImplRequiresIDs_C"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a358cad8f80a9c4b3aff45f3f7c131d03"></span>bool <code class="sig-name descname">addImplRequiresIDs_</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em> = 0<br /></dt>
<dd><p>Does addImpl_ require IDs? If so, and no IDs are provided, we will generate them sequentially based on the order in which the IDs are added </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu8GpuIndex8addImpl_EiPKfPKN5Index5idx_tE">
<span id="_CPPv3N5faiss3gpu8GpuIndex8addImpl_EiPKfPKN5Index5idx_tE"></span><span id="_CPPv2N5faiss3gpu8GpuIndex8addImpl_EiPKfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndex::addImpl___i.floatCP.Index::idx_tCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1ae8479445214c5ef37adf154c138ce973"></span>void <code class="sig-name descname">addImpl_</code><span class="sig-paren">(</span>int <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span> = 0<br /></dt>
<dd><p>Overridden to actually perform the add All data is guaranteed to be resident on our device </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu8GpuIndex11searchImpl_EiPKfiPfPN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu8GpuIndex11searchImpl_EiPKfiPfPN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu8GpuIndex11searchImpl_EiPKfiPfPN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndex::searchImpl___i.floatCP.i.floatP.Index::idx_tPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a184c443785b715fd692b2b67aa71d687"></span>void <code class="sig-name descname">searchImpl_</code><span class="sig-paren">(</span>int <em>n</em>, <em class="property">const</em> float *<em>x</em>, int <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> = 0<br /></dt>
<dd><p>Overridden to actually perform the search All data is guaranteed to be resident on our device </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Protected Attributes</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu8GpuIndex10resources_E">
<span id="_CPPv3N5faiss3gpu8GpuIndex10resources_E"></span><span id="_CPPv2N5faiss3gpu8GpuIndex10resources_E"></span><span id="faiss::gpu::GpuIndex::resources___std::shared_ptr:GpuResources:"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a5f6bffd99291b2198ef601ef7e5c5a30"></span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <code class="sig-name descname">resources_</code><br /></dt>
<dd><p>Manages streams, cuBLAS handles and scratch memory for devices. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu8GpuIndex7config_E">
<span id="_CPPv3N5faiss3gpu8GpuIndex7config_E"></span><span id="_CPPv2N5faiss3gpu8GpuIndex7config_E"></span><span id="faiss::gpu::GpuIndex::config___GpuIndexConfigC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1ab62da82105579618d1b89a810d61e3bd"></span><em class="property">const</em> <a class="reference internal" href="../file/GpuIndex_8h.html#_CPPv4N5faiss3gpu14GpuIndexConfigE" title="faiss::gpu::GpuIndexConfig">GpuIndexConfig</a> <code class="sig-name descname">config_</code><br /></dt>
<dd><p>Our configuration options. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu8GpuIndex13minPagedSize_E">
<span id="_CPPv3N5faiss3gpu8GpuIndex13minPagedSize_E"></span><span id="_CPPv2N5faiss3gpu8GpuIndex13minPagedSize_E"></span><span id="faiss::gpu::GpuIndex::minPagedSize___s"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a32a08664fc4dca2f9405e07ea5bc206f"></span>size_t <code class="sig-name descname">minPagedSize_</code><br /></dt>
<dd><p>Size above which we page copies from the CPU to GPU. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Private Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu8GpuIndex9addPaged_EiPKfPKN5Index5idx_tE">
<span id="_CPPv3N5faiss3gpu8GpuIndex9addPaged_EiPKfPKN5Index5idx_tE"></span><span id="_CPPv2N5faiss3gpu8GpuIndex9addPaged_EiPKfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndex::addPaged___i.floatCP.Index::idx_tCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1aa54a945b1b8d2cde9a19bb21bc46af83"></span>void <code class="sig-name descname">addPaged_</code><span class="sig-paren">(</span>int <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Handles paged adds if the add set is too large, passes to addImpl_ to actually perform the add for the current page </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu8GpuIndex8addPage_EiPKfPKN5Index5idx_tE">
<span id="_CPPv3N5faiss3gpu8GpuIndex8addPage_EiPKfPKN5Index5idx_tE"></span><span id="_CPPv2N5faiss3gpu8GpuIndex8addPage_EiPKfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndex::addPage___i.floatCP.Index::idx_tCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1af62c6767e8bbe6e7a3d21de1c25351e9"></span>void <code class="sig-name descname">addPage_</code><span class="sig-paren">(</span>int <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Calls addImpl_ for a single page of GPU-resident data. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu8GpuIndex15searchNonPaged_EiPKfiPfPN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu8GpuIndex15searchNonPaged_EiPKfiPfPN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu8GpuIndex15searchNonPaged_EiPKfiPfPN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndex::searchNonPaged___i.floatCP.i.floatP.Index::idx_tPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1acd3020a33b4690a13b6af443cb3258aa"></span>void <code class="sig-name descname">searchNonPaged_</code><span class="sig-paren">(</span>int <em>n</em>, <em class="property">const</em> float *<em>x</em>, int <em>k</em>, float *<em>outDistancesData</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>outIndicesData</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Calls searchImpl_ for a single page of GPU-resident data. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu8GpuIndex19searchFromCpuPaged_EiPKfiPfPN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu8GpuIndex19searchFromCpuPaged_EiPKfiPfPN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu8GpuIndex19searchFromCpuPaged_EiPKfiPfPN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndex::searchFromCpuPaged___i.floatCP.i.floatP.Index::idx_tPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1af2f61c6a197d2843662812ee17c11d7f"></span>void <code class="sig-name descname">searchFromCpuPaged_</code><span class="sig-paren">(</span>int <em>n</em>, <em class="property">const</em> float *<em>x</em>, int <em>k</em>, float *<em>outDistancesData</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>outIndicesData</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Calls searchImpl_ for a single page of GPU-resident data, handling paging of the data and copies from the CPU </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt id="_CPPv4N5faiss3gpu18GpuIndexBinaryFlatE">
<span id="_CPPv3N5faiss3gpu18GpuIndexBinaryFlatE"></span><span id="_CPPv2N5faiss3gpu18GpuIndexBinaryFlatE"></span><span id="faiss::gpu::GpuIndexBinaryFlat"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexBinaryFlat"></span><em class="property">class </em><code class="sig-name descname">GpuIndexBinaryFlat</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinaryE" title="faiss::IndexBinary">IndexBinary</a><br /></dt>
<dd><em>#include &lt;GpuIndexBinaryFlat.h&gt;</em><p>A GPU version of <a class="reference internal" href="../struct/structfaiss_1_1IndexBinaryFlat.html#structfaiss_1_1IndexBinaryFlat"><span class="std std-ref">IndexBinaryFlat</span></a> for brute-force comparison of bit vectors via Hamming distance </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu18GpuIndexBinaryFlat5idx_tE">
<span id="_CPPv3N5faiss3gpu18GpuIndexBinaryFlat5idx_tE"></span><span id="_CPPv2N5faiss3gpu18GpuIndexBinaryFlat5idx_tE"></span><span class="target" id="structfaiss_1_1IndexBinary_1a01749bbdbd3b7ec6bb9390257ab16c5c"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a><br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu18GpuIndexBinaryFlat11component_tE">
<span id="_CPPv3N5faiss3gpu18GpuIndexBinaryFlat11component_tE"></span><span id="_CPPv2N5faiss3gpu18GpuIndexBinaryFlat11component_tE"></span><span class="target" id="structfaiss_1_1IndexBinary_1aaa0f338d22575d508cd6141972addaa6"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = uint8_t<br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu18GpuIndexBinaryFlat10distance_tE">
<span id="_CPPv3N5faiss3gpu18GpuIndexBinaryFlat10distance_tE"></span><span id="_CPPv2N5faiss3gpu18GpuIndexBinaryFlat10distance_tE"></span><span class="target" id="structfaiss_1_1IndexBinary_1af958aa9b51dac1fcc433014959cad20c"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = int32_t<br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu18GpuIndexBinaryFlat18GpuIndexBinaryFlatEP20GpuResourcesProviderPKN5faiss15IndexBinaryFlatE24GpuIndexBinaryFlatConfig">
<span id="_CPPv3N5faiss3gpu18GpuIndexBinaryFlat18GpuIndexBinaryFlatEP20GpuResourcesProviderPKN5faiss15IndexBinaryFlatE24GpuIndexBinaryFlatConfig"></span><span id="_CPPv2N5faiss3gpu18GpuIndexBinaryFlat18GpuIndexBinaryFlatEP20GpuResourcesProviderPKN5faiss15IndexBinaryFlatE24GpuIndexBinaryFlatConfig"></span><span id="faiss::gpu::GpuIndexBinaryFlat::GpuIndexBinaryFlat__GpuResourcesProviderP.faiss::IndexBinaryFlatCP.GpuIndexBinaryFlatConfig"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexBinaryFlat_1ae481f44b2f5233e2cc21298243133d6a"></span><code class="sig-name descname">GpuIndexBinaryFlat</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a> *<em>resources</em>, <em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexBinaryFlat_8h.html#_CPPv4N5faiss15IndexBinaryFlatE" title="faiss::IndexBinaryFlat">IndexBinaryFlat</a> *<em>index</em>, <a class="reference internal" href="../file/GpuIndexBinaryFlat_8h.html#_CPPv4N5faiss3gpu24GpuIndexBinaryFlatConfigE" title="faiss::gpu::GpuIndexBinaryFlatConfig">GpuIndexBinaryFlatConfig</a> <em>config</em> = <a class="reference internal" href="../file/GpuIndexBinaryFlat_8h.html#_CPPv4N5faiss3gpu24GpuIndexBinaryFlatConfigE" title="faiss::gpu::GpuIndexBinaryFlatConfig">GpuIndexBinaryFlatConfig</a>()<span class="sig-paren">)</span><br /></dt>
<dd><p>Construct from a pre-existing <a class="reference internal" href="../struct/structfaiss_1_1IndexBinaryFlat.html#structfaiss_1_1IndexBinaryFlat"><span class="std std-ref">faiss::IndexBinaryFlat</span></a> instance, copying data over to the given GPU </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu18GpuIndexBinaryFlat18GpuIndexBinaryFlatEP20GpuResourcesProvideri24GpuIndexBinaryFlatConfig">
<span id="_CPPv3N5faiss3gpu18GpuIndexBinaryFlat18GpuIndexBinaryFlatEP20GpuResourcesProvideri24GpuIndexBinaryFlatConfig"></span><span id="_CPPv2N5faiss3gpu18GpuIndexBinaryFlat18GpuIndexBinaryFlatEP20GpuResourcesProvideri24GpuIndexBinaryFlatConfig"></span><span id="faiss::gpu::GpuIndexBinaryFlat::GpuIndexBinaryFlat__GpuResourcesProviderP.i.GpuIndexBinaryFlatConfig"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexBinaryFlat_1af63a3b95ee7d806e37143b686e1c1d1d"></span><code class="sig-name descname">GpuIndexBinaryFlat</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a> *<em>resources</em>, int <em>dims</em>, <a class="reference internal" href="../file/GpuIndexBinaryFlat_8h.html#_CPPv4N5faiss3gpu24GpuIndexBinaryFlatConfigE" title="faiss::gpu::GpuIndexBinaryFlatConfig">GpuIndexBinaryFlatConfig</a> <em>config</em> = <a class="reference internal" href="../file/GpuIndexBinaryFlat_8h.html#_CPPv4N5faiss3gpu24GpuIndexBinaryFlatConfigE" title="faiss::gpu::GpuIndexBinaryFlatConfig">GpuIndexBinaryFlatConfig</a>()<span class="sig-paren">)</span><br /></dt>
<dd><p>Construct an empty instance that can be added to. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu18GpuIndexBinaryFlatD0Ev">
<span id="_CPPv3N5faiss3gpu18GpuIndexBinaryFlatD0Ev"></span><span id="_CPPv2N5faiss3gpu18GpuIndexBinaryFlatD0Ev"></span><span id="faiss::gpu::GpuIndexBinaryFlat::~GpuIndexBinaryFlat"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexBinaryFlat_1a133dbba6c51339bcc3d15f7f66f90611"></span><code class="sig-name descname">~GpuIndexBinaryFlat</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu18GpuIndexBinaryFlat9getDeviceEv">
<span id="_CPPv3NK5faiss3gpu18GpuIndexBinaryFlat9getDeviceEv"></span><span id="_CPPv2NK5faiss3gpu18GpuIndexBinaryFlat9getDeviceEv"></span><span id="faiss::gpu::GpuIndexBinaryFlat::getDeviceC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexBinaryFlat_1a7f84b85338a3264d70ed30af4356d87b"></span>int <code class="sig-name descname">getDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the device that this index is resident on. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu18GpuIndexBinaryFlat12getResourcesEv">
<span id="_CPPv3N5faiss3gpu18GpuIndexBinaryFlat12getResourcesEv"></span><span id="_CPPv2N5faiss3gpu18GpuIndexBinaryFlat12getResourcesEv"></span><span id="faiss::gpu::GpuIndexBinaryFlat::getResources"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexBinaryFlat_1a2c649f0f33a0be2738d3ff7c0e7103c5"></span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <code class="sig-name descname">getResources</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns a reference to our <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuResources"><span class="std std-ref">GpuResources</span></a> object that manages memory, stream and handle resources on the GPU </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu18GpuIndexBinaryFlat8copyFromEPKN5faiss15IndexBinaryFlatE">
<span id="_CPPv3N5faiss3gpu18GpuIndexBinaryFlat8copyFromEPKN5faiss15IndexBinaryFlatE"></span><span id="_CPPv2N5faiss3gpu18GpuIndexBinaryFlat8copyFromEPKN5faiss15IndexBinaryFlatE"></span><span id="faiss::gpu::GpuIndexBinaryFlat::copyFrom__faiss::IndexBinaryFlatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexBinaryFlat_1a1acf93b118b4136857b5dd9ab614e901"></span>void <code class="sig-name descname">copyFrom</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexBinaryFlat_8h.html#_CPPv4N5faiss15IndexBinaryFlatE" title="faiss::IndexBinaryFlat">IndexBinaryFlat</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Initialize ourselves from the given CPU index; will overwrite all data in ourselves </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu18GpuIndexBinaryFlat6copyToEPN5faiss15IndexBinaryFlatE">
<span id="_CPPv3NK5faiss3gpu18GpuIndexBinaryFlat6copyToEPN5faiss15IndexBinaryFlatE"></span><span id="_CPPv2NK5faiss3gpu18GpuIndexBinaryFlat6copyToEPN5faiss15IndexBinaryFlatE"></span><span id="faiss::gpu::GpuIndexBinaryFlat::copyTo__faiss::IndexBinaryFlatPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexBinaryFlat_1a4a00b93de336e8536c657d69803ff5c2"></span>void <code class="sig-name descname">copyTo</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexBinaryFlat_8h.html#_CPPv4N5faiss15IndexBinaryFlatE" title="faiss::IndexBinaryFlat">IndexBinaryFlat</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Copy ourselves to the given CPU index; will overwrite all data in the index instance </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu18GpuIndexBinaryFlat3addEN5faiss11IndexBinary5idx_tEPK7uint8_t">
<span id="_CPPv3N5faiss3gpu18GpuIndexBinaryFlat3addEN5faiss11IndexBinary5idx_tEPK7uint8_t"></span><span id="_CPPv2N5faiss3gpu18GpuIndexBinaryFlat3addEN5faiss11IndexBinary5idx_tEPK7uint8_t"></span><span id="faiss::gpu::GpuIndexBinaryFlat::add__faiss::IndexBinary::idx_t.uint8_tCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexBinaryFlat_1a84b9c07089abd5c0fa8f07a7a22de047"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinaryE" title="faiss::IndexBinary">IndexBinary</a>::<a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinary5idx_tE" title="faiss::IndexBinary::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Add n vectors of dimension d to the index.</p>
<p>Vectors are implicitly assigned labels ntotal .. ntotal + n - 1 <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input matrix, size n * d / 8 </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu18GpuIndexBinaryFlat5resetEv">
<span id="_CPPv3N5faiss3gpu18GpuIndexBinaryFlat5resetEv"></span><span id="_CPPv2N5faiss3gpu18GpuIndexBinaryFlat5resetEv"></span><span id="faiss::gpu::GpuIndexBinaryFlat::reset"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexBinaryFlat_1ac8f14dd3257963082fa638d24df244d6"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Removes all elements from the database. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu18GpuIndexBinaryFlat6searchEN5faiss11IndexBinary5idx_tEPK7uint8_tN5faiss11IndexBinary5idx_tEP7int32_tPN5faiss11IndexBinary5idx_tE">
<span id="_CPPv3NK5faiss3gpu18GpuIndexBinaryFlat6searchEN5faiss11IndexBinary5idx_tEPK7uint8_tN5faiss11IndexBinary5idx_tEP7int32_tPN5faiss11IndexBinary5idx_tE"></span><span id="_CPPv2NK5faiss3gpu18GpuIndexBinaryFlat6searchEN5faiss11IndexBinary5idx_tEPK7uint8_tN5faiss11IndexBinary5idx_tEP7int32_tPN5faiss11IndexBinary5idx_tE"></span><span id="faiss::gpu::GpuIndexBinaryFlat::search__faiss::IndexBinary::idx_t.uint8_tCP.faiss::IndexBinary::idx_t.int32_tP.faiss::IndexBinary::idx_tPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexBinaryFlat_1aa4d81e853f4194a8b865fcfe7dddd050"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinaryE" title="faiss::IndexBinary">IndexBinary</a>::<a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinary5idx_tE" title="faiss::IndexBinary::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinaryE" title="faiss::IndexBinary">IndexBinary</a>::<a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinary5idx_tE" title="faiss::IndexBinary::idx_t">idx_t</a> <em>k</em>, int32_t *<em>distances</em>, <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinaryE" title="faiss::IndexBinary">IndexBinary</a>::<a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinary5idx_tE" title="faiss::IndexBinary::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Query n vectors of dimension d to the index.</p>
<p>return at most k vectors. If there are not enough results for a query, the result array is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d / 8 </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distances</span></code>: output pairwise distances, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu18GpuIndexBinaryFlat11reconstructEN5faiss11IndexBinary5idx_tEP7uint8_t">
<span id="_CPPv3NK5faiss3gpu18GpuIndexBinaryFlat11reconstructEN5faiss11IndexBinary5idx_tEP7uint8_t"></span><span id="_CPPv2NK5faiss3gpu18GpuIndexBinaryFlat11reconstructEN5faiss11IndexBinary5idx_tEP7uint8_t"></span><span id="faiss::gpu::GpuIndexBinaryFlat::reconstruct__faiss::IndexBinary::idx_t.uint8_tPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexBinaryFlat_1a9b16b11b5fcc5cc97359e684f5e4a338"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinaryE" title="faiss::IndexBinary">IndexBinary</a>::<a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinary5idx_tE" title="faiss::IndexBinary::idx_t">idx_t</a> <em>key</em>, uint8_t *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Reconstruct a stored vector.</p>
<p>This function may not be defined for some indexes. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: id of the vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size d / 8) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu18GpuIndexBinaryFlat5trainE5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss3gpu18GpuIndexBinaryFlat5trainE5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss3gpu18GpuIndexBinaryFlat5trainE5idx_tPK7uint8_t"></span><span id="faiss::gpu::GpuIndexBinaryFlat::train__idx_t.uint8_tCP"></span><span class="target" id="structfaiss_1_1IndexBinary_1a3c0ffd1655d8a5486660cb025340c9a4"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexBinaryFlat.html#_CPPv4N5faiss3gpu18GpuIndexBinaryFlat5idx_tE" title="faiss::gpu::GpuIndexBinaryFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Perform training on a representative set of vectors.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of training vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: training vecors, size n * d / 8 </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu18GpuIndexBinaryFlat12add_with_idsE5idx_tPK7uint8_tPK5idx_t">
<span id="_CPPv3N5faiss3gpu18GpuIndexBinaryFlat12add_with_idsE5idx_tPK7uint8_tPK5idx_t"></span><span id="_CPPv2N5faiss3gpu18GpuIndexBinaryFlat12add_with_idsE5idx_tPK7uint8_tPK5idx_t"></span><span id="faiss::gpu::GpuIndexBinaryFlat::add_with_ids__idx_t.uint8_tCP.idx_tCP"></span><span class="target" id="structfaiss_1_1IndexBinary_1a33c74f55b919bf39138bb2ba60bbaafc"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexBinaryFlat.html#_CPPv4N5faiss3gpu18GpuIndexBinaryFlat5idx_tE" title="faiss::gpu::GpuIndexBinaryFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexBinaryFlat.html#_CPPv4N5faiss3gpu18GpuIndexBinaryFlat5idx_tE" title="faiss::gpu::GpuIndexBinaryFlat::idx_t">idx_t</a> *<em>xids</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Same as add, but stores xids instead of sequential ids.</p>
<p>The default implementation fails with an assertion, as it is not supported by all indexes.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">xids</span></code>: if non-null, ids to store for the vectors (size n) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu18GpuIndexBinaryFlat12range_searchE5idx_tPK7uint8_tiP17RangeSearchResult">
<span id="_CPPv3NK5faiss3gpu18GpuIndexBinaryFlat12range_searchE5idx_tPK7uint8_tiP17RangeSearchResult"></span><span id="_CPPv2NK5faiss3gpu18GpuIndexBinaryFlat12range_searchE5idx_tPK7uint8_tiP17RangeSearchResult"></span><span id="faiss::gpu::GpuIndexBinaryFlat::range_search__idx_t.uint8_tCP.i.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1IndexBinary_1a35aedb48dd0270377f5602d61b783fd1"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexBinaryFlat.html#_CPPv4N5faiss3gpu18GpuIndexBinaryFlat5idx_tE" title="faiss::gpu::GpuIndexBinaryFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, int <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory). The distances are converted to float to reuse the RangeSearchResult structure, but they are integer. By convention, only distances &lt; radius (strict comparison) are returned, ie. radius = 0 does not return any result and 1 returns only exact same vectors.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d / 8 </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu18GpuIndexBinaryFlat6assignE5idx_tPK7uint8_tP5idx_t5idx_t">
<span id="_CPPv3NK5faiss3gpu18GpuIndexBinaryFlat6assignE5idx_tPK7uint8_tP5idx_t5idx_t"></span><span id="_CPPv2NK5faiss3gpu18GpuIndexBinaryFlat6assignE5idx_tPK7uint8_tP5idx_t5idx_t"></span><span id="faiss::gpu::GpuIndexBinaryFlat::assign__idx_t.uint8_tCP.idx_tP.idx_tC"></span><span class="target" id="structfaiss_1_1IndexBinary_1aa706d8807d29c91e0a148553a8202bc9"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexBinaryFlat.html#_CPPv4N5faiss3gpu18GpuIndexBinaryFlat5idx_tE" title="faiss::gpu::GpuIndexBinaryFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexBinaryFlat.html#_CPPv4N5faiss3gpu18GpuIndexBinaryFlat5idx_tE" title="faiss::gpu::GpuIndexBinaryFlat::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexBinaryFlat.html#_CPPv4N5faiss3gpu18GpuIndexBinaryFlat5idx_tE" title="faiss::gpu::GpuIndexBinaryFlat::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Return the indexes of the k vectors closest to the query x.</p>
<p>This function is identical to search but only returns labels of neighbors. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d / 8 </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu18GpuIndexBinaryFlat10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss3gpu18GpuIndexBinaryFlat10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss3gpu18GpuIndexBinaryFlat10remove_idsERK10IDSelector"></span><span id="faiss::gpu::GpuIndexBinaryFlat::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1IndexBinary_1a5ea7dee38e40f66b86d892bab2b6b80e"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Removes IDs from the index. Not supported by all indexes. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu18GpuIndexBinaryFlat13reconstruct_nE5idx_t5idx_tP7uint8_t">
<span id="_CPPv3NK5faiss3gpu18GpuIndexBinaryFlat13reconstruct_nE5idx_t5idx_tP7uint8_t"></span><span id="_CPPv2NK5faiss3gpu18GpuIndexBinaryFlat13reconstruct_nE5idx_t5idx_tP7uint8_t"></span><span id="faiss::gpu::GpuIndexBinaryFlat::reconstruct_n__idx_t.idx_t.uint8_tPC"></span><span class="target" id="structfaiss_1_1IndexBinary_1afbeb7aa476a119b17cbfdb87e9de91e4"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexBinaryFlat.html#_CPPv4N5faiss3gpu18GpuIndexBinaryFlat5idx_tE" title="faiss::gpu::GpuIndexBinaryFlat::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexBinaryFlat.html#_CPPv4N5faiss3gpu18GpuIndexBinaryFlat5idx_tE" title="faiss::gpu::GpuIndexBinaryFlat::idx_t">idx_t</a> <em>ni</em>, uint8_t *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Reconstruct vectors i0 to i0 + ni - 1.</p>
<p>This function may not be defined for some indexes. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vectors (size ni * d / 8) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu18GpuIndexBinaryFlat22search_and_reconstructE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_tP7uint8_t">
<span id="_CPPv3NK5faiss3gpu18GpuIndexBinaryFlat22search_and_reconstructE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_tP7uint8_t"></span><span id="_CPPv2NK5faiss3gpu18GpuIndexBinaryFlat22search_and_reconstructE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_tP7uint8_t"></span><span id="faiss::gpu::GpuIndexBinaryFlat::search_and_reconstruct__idx_t.uint8_tCP.idx_t.int32_tP.idx_tP.uint8_tPC"></span><span class="target" id="structfaiss_1_1IndexBinary_1ae7a4b9bdbe6f4392d00cf4e44120409e"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexBinaryFlat.html#_CPPv4N5faiss3gpu18GpuIndexBinaryFlat5idx_tE" title="faiss::gpu::GpuIndexBinaryFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexBinaryFlat.html#_CPPv4N5faiss3gpu18GpuIndexBinaryFlat5idx_tE" title="faiss::gpu::GpuIndexBinaryFlat::idx_t">idx_t</a> <em>k</em>, int32_t *<em>distances</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexBinaryFlat.html#_CPPv4N5faiss3gpu18GpuIndexBinaryFlat5idx_tE" title="faiss::gpu::GpuIndexBinaryFlat::idx_t">idx_t</a> *<em>labels</em>, uint8_t *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>If there are not enough results for a query, the resulting array is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu18GpuIndexBinaryFlat7displayEv">
<span id="_CPPv3NK5faiss3gpu18GpuIndexBinaryFlat7displayEv"></span><span id="_CPPv2NK5faiss3gpu18GpuIndexBinaryFlat7displayEv"></span><span id="faiss::gpu::GpuIndexBinaryFlat::displayC"></span><span class="target" id="structfaiss_1_1IndexBinary_1aa22c24398be85229e338b15ea9a0e3f1"></span>void <code class="sig-name descname">display</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Display the actual class name and some more info. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu18GpuIndexBinaryFlat1dE">
<span id="_CPPv3N5faiss3gpu18GpuIndexBinaryFlat1dE"></span><span id="_CPPv2N5faiss3gpu18GpuIndexBinaryFlat1dE"></span><span id="faiss::gpu::GpuIndexBinaryFlat::d__i"></span><span class="target" id="structfaiss_1_1IndexBinary_1a0e485a7189eec2675032486d3b12cf88"></span>int <code class="sig-name descname">d</code><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu18GpuIndexBinaryFlat9code_sizeE">
<span id="_CPPv3N5faiss3gpu18GpuIndexBinaryFlat9code_sizeE"></span><span id="_CPPv2N5faiss3gpu18GpuIndexBinaryFlat9code_sizeE"></span><span id="faiss::gpu::GpuIndexBinaryFlat::code_size__i"></span><span class="target" id="structfaiss_1_1IndexBinary_1a277c2645b8def11c5d982384098c5380"></span>int <code class="sig-name descname">code_size</code><br /></dt>
<dd><p>number of bytes per vector ( = d / 8 ) </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu18GpuIndexBinaryFlat6ntotalE">
<span id="_CPPv3N5faiss3gpu18GpuIndexBinaryFlat6ntotalE"></span><span id="_CPPv2N5faiss3gpu18GpuIndexBinaryFlat6ntotalE"></span><span id="faiss::gpu::GpuIndexBinaryFlat::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1IndexBinary_1a41b6759d127475d5fcd2b3982a8f355e"></span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexBinaryFlat.html#_CPPv4N5faiss3gpu18GpuIndexBinaryFlat5idx_tE" title="faiss::gpu::GpuIndexBinaryFlat::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu18GpuIndexBinaryFlat7verboseE">
<span id="_CPPv3N5faiss3gpu18GpuIndexBinaryFlat7verboseE"></span><span id="_CPPv2N5faiss3gpu18GpuIndexBinaryFlat7verboseE"></span><span id="faiss::gpu::GpuIndexBinaryFlat::verbose__b"></span><span class="target" id="structfaiss_1_1IndexBinary_1a1656c00d77d55999becd71e3d8ea6dd7"></span>bool <code class="sig-name descname">verbose</code><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu18GpuIndexBinaryFlat10is_trainedE">
<span id="_CPPv3N5faiss3gpu18GpuIndexBinaryFlat10is_trainedE"></span><span id="_CPPv2N5faiss3gpu18GpuIndexBinaryFlat10is_trainedE"></span><span id="faiss::gpu::GpuIndexBinaryFlat::is_trained__b"></span><span class="target" id="structfaiss_1_1IndexBinary_1a132119ae93e240b54621c5c669853c7f"></span>bool <code class="sig-name descname">is_trained</code><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu18GpuIndexBinaryFlat11metric_typeE">
<span id="_CPPv3N5faiss3gpu18GpuIndexBinaryFlat11metric_typeE"></span><span id="_CPPv2N5faiss3gpu18GpuIndexBinaryFlat11metric_typeE"></span><span id="faiss::gpu::GpuIndexBinaryFlat::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1IndexBinary_1a344529c829717012b530ef9c13b145b7"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Protected Functions</p>
<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu18GpuIndexBinaryFlat19searchFromCpuPaged_EiPK7uint8_tiP7int32_tPi">
<span id="_CPPv3NK5faiss3gpu18GpuIndexBinaryFlat19searchFromCpuPaged_EiPK7uint8_tiP7int32_tPi"></span><span id="_CPPv2NK5faiss3gpu18GpuIndexBinaryFlat19searchFromCpuPaged_EiPK7uint8_tiP7int32_tPi"></span><span id="faiss::gpu::GpuIndexBinaryFlat::searchFromCpuPaged___i.uint8_tCP.i.int32_tP.iPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexBinaryFlat_1a24a12945934042c0117e108ee3f82d66"></span>void <code class="sig-name descname">searchFromCpuPaged_</code><span class="sig-paren">(</span>int <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, int <em>k</em>, int32_t *<em>outDistancesData</em>, int *<em>outIndicesData</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Called from search when the input data is on the CPU; potentially allows for pinned memory usage </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu18GpuIndexBinaryFlat15searchNonPaged_EiPK7uint8_tiP7int32_tPi">
<span id="_CPPv3NK5faiss3gpu18GpuIndexBinaryFlat15searchNonPaged_EiPK7uint8_tiP7int32_tPi"></span><span id="_CPPv2NK5faiss3gpu18GpuIndexBinaryFlat15searchNonPaged_EiPK7uint8_tiP7int32_tPi"></span><span id="faiss::gpu::GpuIndexBinaryFlat::searchNonPaged___i.uint8_tCP.i.int32_tP.iPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexBinaryFlat_1a9f569b1b69e696a8bc2ef298309be8f2"></span>void <code class="sig-name descname">searchNonPaged_</code><span class="sig-paren">(</span>int <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, int <em>k</em>, int32_t *<em>outDistancesData</em>, int *<em>outIndicesData</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Protected Attributes</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu18GpuIndexBinaryFlat10resources_E">
<span id="_CPPv3N5faiss3gpu18GpuIndexBinaryFlat10resources_E"></span><span id="_CPPv2N5faiss3gpu18GpuIndexBinaryFlat10resources_E"></span><span id="faiss::gpu::GpuIndexBinaryFlat::resources___std::shared_ptr:GpuResources:"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexBinaryFlat_1aa5486bb18c4dd2bf2acdb1324b31940b"></span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <code class="sig-name descname">resources_</code><br /></dt>
<dd><p>Manages streans, cuBLAS handles and scratch memory for devices. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu18GpuIndexBinaryFlat17binaryFlatConfig_E">
<span id="_CPPv3N5faiss3gpu18GpuIndexBinaryFlat17binaryFlatConfig_E"></span><span id="_CPPv2N5faiss3gpu18GpuIndexBinaryFlat17binaryFlatConfig_E"></span><span id="faiss::gpu::GpuIndexBinaryFlat::binaryFlatConfig___GpuIndexBinaryFlatConfigC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexBinaryFlat_1a280f27e2529d4ce6e08520c7687254c3"></span><em class="property">const</em> <a class="reference internal" href="../file/GpuIndexBinaryFlat_8h.html#_CPPv4N5faiss3gpu24GpuIndexBinaryFlatConfigE" title="faiss::gpu::GpuIndexBinaryFlatConfig">GpuIndexBinaryFlatConfig</a> <code class="sig-name descname">binaryFlatConfig_</code><br /></dt>
<dd><p>Configuration options. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu18GpuIndexBinaryFlat5data_E">
<span id="_CPPv3N5faiss3gpu18GpuIndexBinaryFlat5data_E"></span><span id="_CPPv2N5faiss3gpu18GpuIndexBinaryFlat5data_E"></span><span id="faiss::gpu::GpuIndexBinaryFlat::data___std::unique_ptr:BinaryFlatIndex:"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexBinaryFlat_1a6962261dda56de7315ba0481722dfc1f"></span>std::unique_ptr&lt;BinaryFlatIndex&gt; <code class="sig-name descname">data_</code><br /></dt>
<dd><p>Holds our GPU data containing the list of vectors. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss3gpu24GpuIndexBinaryFlatConfigE">
<span id="_CPPv3N5faiss3gpu24GpuIndexBinaryFlatConfigE"></span><span id="_CPPv2N5faiss3gpu24GpuIndexBinaryFlatConfigE"></span><span id="faiss::gpu::GpuIndexBinaryFlatConfig"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexBinaryFlatConfig"></span><em class="property">struct </em><code class="sig-name descname">GpuIndexBinaryFlatConfig</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4N5faiss3gpuE" title="faiss::gpu">gpu</a>::<a class="reference internal" href="../file/GpuIndex_8h.html#_CPPv4N5faiss3gpu14GpuIndexConfigE" title="faiss::gpu::GpuIndexConfig">GpuIndexConfig</a><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu24GpuIndexBinaryFlatConfig6deviceE">
<span id="_CPPv3N5faiss3gpu24GpuIndexBinaryFlatConfig6deviceE"></span><span id="_CPPv2N5faiss3gpu24GpuIndexBinaryFlatConfig6deviceE"></span><span id="faiss::gpu::GpuIndexBinaryFlatConfig::device__i"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexConfig_1aab05a0aa7b42feae7df4e556a52ead57"></span>int <code class="sig-name descname">device</code><br /></dt>
<dd><p>GPU device on which the index is resident. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu24GpuIndexBinaryFlatConfig11memorySpaceE">
<span id="_CPPv3N5faiss3gpu24GpuIndexBinaryFlatConfig11memorySpaceE"></span><span id="_CPPv2N5faiss3gpu24GpuIndexBinaryFlatConfig11memorySpaceE"></span><span id="faiss::gpu::GpuIndexBinaryFlatConfig::memorySpace__MemorySpace"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexConfig_1adf7c9461009108a9a433a077ab322d2e"></span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu11MemorySpaceE" title="faiss::gpu::MemorySpace">MemorySpace</a> <code class="sig-name descname">memorySpace</code><br /></dt>
<dd><p>What memory space to use for primary storage. On Pascal and above (CC 6+) architectures, allows GPUs to use more memory than is available on the GPU. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss3gpu14GpuIndexConfigE">
<span id="_CPPv3N5faiss3gpu14GpuIndexConfigE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexConfigE"></span><span id="faiss::gpu::GpuIndexConfig"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexConfig"></span><em class="property">struct </em><code class="sig-name descname">GpuIndexConfig</code><br /></dt>
<dd><p>Subclassed by <a class="reference internal" href="../struct/structfaiss_1_1gpu_1_1GpuIndexBinaryFlatConfig.html#structfaiss_1_1gpu_1_1GpuIndexBinaryFlatConfig"><span class="std std-ref">faiss::gpu::GpuIndexBinaryFlatConfig</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1gpu_1_1GpuIndexFlatConfig.html#structfaiss_1_1gpu_1_1GpuIndexFlatConfig"><span class="std std-ref">faiss::gpu::GpuIndexFlatConfig</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1gpu_1_1GpuIndexIVFConfig.html#structfaiss_1_1gpu_1_1GpuIndexIVFConfig"><span class="std std-ref">faiss::gpu::GpuIndexIVFConfig</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexConfig14GpuIndexConfigEv">
<span id="_CPPv3N5faiss3gpu14GpuIndexConfig14GpuIndexConfigEv"></span><span id="_CPPv2N5faiss3gpu14GpuIndexConfig14GpuIndexConfigEv"></span><span id="faiss::gpu::GpuIndexConfig::GpuIndexConfig"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexConfig_1adabe0f431b8dec6968ef0abe91b17189"></span><code class="sig-name descname">GpuIndexConfig</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexConfig6deviceE">
<span id="_CPPv3N5faiss3gpu14GpuIndexConfig6deviceE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexConfig6deviceE"></span><span id="faiss::gpu::GpuIndexConfig::device__i"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexConfig_1aab05a0aa7b42feae7df4e556a52ead57"></span>int <code class="sig-name descname">device</code><br /></dt>
<dd><p>GPU device on which the index is resident. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexConfig11memorySpaceE">
<span id="_CPPv3N5faiss3gpu14GpuIndexConfig11memorySpaceE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexConfig11memorySpaceE"></span><span id="faiss::gpu::GpuIndexConfig::memorySpace__MemorySpace"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexConfig_1adf7c9461009108a9a433a077ab322d2e"></span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu11MemorySpaceE" title="faiss::gpu::MemorySpace">MemorySpace</a> <code class="sig-name descname">memorySpace</code><br /></dt>
<dd><p>What memory space to use for primary storage. On Pascal and above (CC 6+) architectures, allows GPUs to use more memory than is available on the GPU. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlatE">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlatE"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlatE"></span><span id="faiss::gpu::GpuIndexFlat"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat"></span><em class="property">class </em><code class="sig-name descname">GpuIndexFlat</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4N5faiss3gpuE" title="faiss::gpu">gpu</a>::<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndex.html#_CPPv4N5faiss3gpu8GpuIndexE" title="faiss::gpu::GpuIndex">GpuIndex</a><br /></dt>
<dd><em>#include &lt;GpuIndexFlat.h&gt;</em><p>Wrapper around the GPU implementation that looks like <a class="reference internal" href="../struct/structfaiss_1_1IndexFlat.html#structfaiss_1_1IndexFlat"><span class="std std-ref">faiss::IndexFlat</span></a>; copies over centroid data from a given <a class="reference internal" href="../struct/structfaiss_1_1IndexFlat.html#structfaiss_1_1IndexFlat"><span class="std std-ref">faiss::IndexFlat</span></a> </p>
<p>Subclassed by <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuIndexFlatIP"><span class="std std-ref">faiss::gpu::GpuIndexFlatIP</span></a>, <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuIndexFlatL2"><span class="std std-ref">faiss::gpu::GpuIndexFlatL2</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat5idx_tE">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat5idx_tE"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat5idx_tE"></span><span class="target" id="structfaiss_1_1Index_1ab64b96e821336c5b363d023386781d1d"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = int64_t<br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat11component_tE">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat11component_tE"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat11component_tE"></span><span class="target" id="structfaiss_1_1Index_1af317cb1e2ad0bd145f716f2243b693eb"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = float<br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat10distance_tE">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat10distance_tE"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat10distance_tE"></span><span class="target" id="structfaiss_1_1Index_1a1c60d7a12bf3ad27054963df8cccd93f"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = float<br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat12GpuIndexFlatEP20GpuResourcesProviderPKN5faiss9IndexFlatE18GpuIndexFlatConfig">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat12GpuIndexFlatEP20GpuResourcesProviderPKN5faiss9IndexFlatE18GpuIndexFlatConfig"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat12GpuIndexFlatEP20GpuResourcesProviderPKN5faiss9IndexFlatE18GpuIndexFlatConfig"></span><span id="faiss::gpu::GpuIndexFlat::GpuIndexFlat__GpuResourcesProviderP.faiss::IndexFlatCP.GpuIndexFlatConfig"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1ad191c8e9fad1233a3bfb69c6f6a50154"></span><code class="sig-name descname">GpuIndexFlat</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a> *<em>provider</em>, <em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexFlat_8h.html#_CPPv4N5faiss9IndexFlatE" title="faiss::IndexFlat">IndexFlat</a> *<em>index</em>, <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a> <em>config</em> = <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a>()<span class="sig-paren">)</span><br /></dt>
<dd><p>Construct from a pre-existing <a class="reference internal" href="../struct/structfaiss_1_1IndexFlat.html#structfaiss_1_1IndexFlat"><span class="std std-ref">faiss::IndexFlat</span></a> instance, copying data over to the given GPU </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat12GpuIndexFlatENSt10shared_ptrI12GpuResourcesEEPKN5faiss9IndexFlatE18GpuIndexFlatConfig">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat12GpuIndexFlatENSt10shared_ptrI12GpuResourcesEEPKN5faiss9IndexFlatE18GpuIndexFlatConfig"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat12GpuIndexFlatENSt10shared_ptrI12GpuResourcesEEPKN5faiss9IndexFlatE18GpuIndexFlatConfig"></span><span id="faiss::gpu::GpuIndexFlat::GpuIndexFlat__std::shared_ptr:GpuResources:.faiss::IndexFlatCP.GpuIndexFlatConfig"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1ab2fa6f6569c2a72f7efeedb9ac31d076"></span><code class="sig-name descname">GpuIndexFlat</code><span class="sig-paren">(</span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <em>resources</em>, <em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexFlat_8h.html#_CPPv4N5faiss9IndexFlatE" title="faiss::IndexFlat">IndexFlat</a> *<em>index</em>, <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a> <em>config</em> = <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a>()<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat12GpuIndexFlatEP20GpuResourcesProvideriN5faiss10MetricTypeE18GpuIndexFlatConfig">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat12GpuIndexFlatEP20GpuResourcesProvideriN5faiss10MetricTypeE18GpuIndexFlatConfig"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat12GpuIndexFlatEP20GpuResourcesProvideriN5faiss10MetricTypeE18GpuIndexFlatConfig"></span><span id="faiss::gpu::GpuIndexFlat::GpuIndexFlat__GpuResourcesProviderP.i.faiss::MetricType.GpuIndexFlatConfig"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1ac4076d99808129f2faed97dc82c9cc66"></span><code class="sig-name descname">GpuIndexFlat</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a> *<em>provider</em>, int <em>dims</em>, <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <em>metric</em>, <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a> <em>config</em> = <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a>()<span class="sig-paren">)</span><br /></dt>
<dd><p>Construct an empty instance that can be added to. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat12GpuIndexFlatENSt10shared_ptrI12GpuResourcesEEiN5faiss10MetricTypeE18GpuIndexFlatConfig">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat12GpuIndexFlatENSt10shared_ptrI12GpuResourcesEEiN5faiss10MetricTypeE18GpuIndexFlatConfig"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat12GpuIndexFlatENSt10shared_ptrI12GpuResourcesEEiN5faiss10MetricTypeE18GpuIndexFlatConfig"></span><span id="faiss::gpu::GpuIndexFlat::GpuIndexFlat__std::shared_ptr:GpuResources:.i.faiss::MetricType.GpuIndexFlatConfig"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1ae5dabec790659d92a0e2c716da5f9ecd"></span><code class="sig-name descname">GpuIndexFlat</code><span class="sig-paren">(</span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <em>resources</em>, int <em>dims</em>, <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <em>metric</em>, <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a> <em>config</em> = <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a>()<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlatD0Ev">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlatD0Ev"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlatD0Ev"></span><span id="faiss::gpu::GpuIndexFlat::~GpuIndexFlat"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a2b9f0211925b34e4f2a16d296f58e819"></span><code class="sig-name descname">~GpuIndexFlat</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat8copyFromEPKN5faiss9IndexFlatE">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat8copyFromEPKN5faiss9IndexFlatE"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat8copyFromEPKN5faiss9IndexFlatE"></span><span id="faiss::gpu::GpuIndexFlat::copyFrom__faiss::IndexFlatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1abb964875e0893de1d8334ca5ad0f62dc"></span>void <code class="sig-name descname">copyFrom</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexFlat_8h.html#_CPPv4N5faiss9IndexFlatE" title="faiss::IndexFlat">IndexFlat</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Initialize ourselves from the given CPU index; will overwrite all data in ourselves </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu12GpuIndexFlat6copyToEPN5faiss9IndexFlatE">
<span id="_CPPv3NK5faiss3gpu12GpuIndexFlat6copyToEPN5faiss9IndexFlatE"></span><span id="_CPPv2NK5faiss3gpu12GpuIndexFlat6copyToEPN5faiss9IndexFlatE"></span><span id="faiss::gpu::GpuIndexFlat::copyTo__faiss::IndexFlatPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a6f439ec99e95404631284e664ffa697e"></span>void <code class="sig-name descname">copyTo</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexFlat_8h.html#_CPPv4N5faiss9IndexFlatE" title="faiss::IndexFlat">IndexFlat</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Copy ourselves to the given CPU index; will overwrite all data in the index instance </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu12GpuIndexFlat10getNumVecsEv">
<span id="_CPPv3NK5faiss3gpu12GpuIndexFlat10getNumVecsEv"></span><span id="_CPPv2NK5faiss3gpu12GpuIndexFlat10getNumVecsEv"></span><span id="faiss::gpu::GpuIndexFlat::getNumVecsC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a877d5445f62baff47a52df1f06b9fd60"></span>size_t <code class="sig-name descname">getNumVecs</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the number of vectors we contain. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat5resetEv">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat5resetEv"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat5resetEv"></span><span id="faiss::gpu::GpuIndexFlat::reset"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a67161796f274a7171a67c36bdf1ef1db"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Clears all vectors from this index. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat5trainEN5Index5idx_tEPKf">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat5trainEN5Index5idx_tEPKf"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat5trainEN5Index5idx_tEPKf"></span><span id="faiss::gpu::GpuIndexFlat::train__Index::idx_t.floatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a0e74fad76628ddfb5ae3dc1d1c69f7e8"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>This index is not trained, so this does nothing. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat3addEN5Index5idx_tEPKf">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat3addEN5Index5idx_tEPKf"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat3addEN5Index5idx_tEPKf"></span><span id="faiss::gpu::GpuIndexFlat::add__Index::idx_t.floatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1ac97a713a28450ca2fa0615eaef3bed5a"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Overrides to avoid excessive copies. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu12GpuIndexFlat11reconstructEN5Index5idx_tEPf">
<span id="_CPPv3NK5faiss3gpu12GpuIndexFlat11reconstructEN5Index5idx_tEPf"></span><span id="_CPPv2NK5faiss3gpu12GpuIndexFlat11reconstructEN5Index5idx_tEPf"></span><span id="faiss::gpu::GpuIndexFlat::reconstruct__Index::idx_t.floatPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1ad690b0d256903730605ce36d64720fbf"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>key</em>, float *<em>out</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Reconstruction methods; prefer the batch reconstruct as it will be more efficient </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu12GpuIndexFlat13reconstruct_nEN5Index5idx_tEN5Index5idx_tEPf">
<span id="_CPPv3NK5faiss3gpu12GpuIndexFlat13reconstruct_nEN5Index5idx_tEN5Index5idx_tEPf"></span><span id="_CPPv2NK5faiss3gpu12GpuIndexFlat13reconstruct_nEN5Index5idx_tEN5Index5idx_tEPf"></span><span id="faiss::gpu::GpuIndexFlat::reconstruct_n__Index::idx_t.Index::idx_t.floatPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1aae123842b90fe5f6b9efbd030ce5a7d1"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>num</em>, float *<em>out</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Batch reconstruction method. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu12GpuIndexFlat16compute_residualEPKfPfN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu12GpuIndexFlat16compute_residualEPKfPfN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu12GpuIndexFlat16compute_residualEPKfPfN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexFlat::compute_residual__floatCP.floatP.Index::idx_tC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a5eed422bb7d06a28188e97909ae1facf"></span>void <code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, float *<em>residual</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>key</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Compute residual. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu12GpuIndexFlat18compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu12GpuIndexFlat18compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu12GpuIndexFlat18compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexFlat::compute_residual_n__Index::idx_t.floatCP.floatP.Index::idx_tCPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a23b4a5f8a321d2ccf8768608c5a06ae1"></span>void <code class="sig-name descname">compute_residual_n</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xs</em>, float *<em>residuals</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>keys</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Compute residual (batch mode) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat10getGpuDataEv">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat10getGpuDataEv"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat10getGpuDataEv"></span><span id="faiss::gpu::GpuIndexFlat::getGpuData"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a310b00d4443920a855b11276d488c9a7"></span>FlatIndex *<code class="sig-name descname">getGpuData</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>For internal access. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu12GpuIndexFlat9getDeviceEv">
<span id="_CPPv3NK5faiss3gpu12GpuIndexFlat9getDeviceEv"></span><span id="_CPPv2NK5faiss3gpu12GpuIndexFlat9getDeviceEv"></span><span id="faiss::gpu::GpuIndexFlat::getDeviceC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1af4f02c713f639bd70e09af8afebd0f51"></span>int <code class="sig-name descname">getDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the device that this index is resident on. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat12getResourcesEv">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat12getResourcesEv"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat12getResourcesEv"></span><span id="faiss::gpu::GpuIndexFlat::getResources"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a2eb235a51b0a70bdbc2c814a48a0917d"></span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <code class="sig-name descname">getResources</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns a reference to our <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuResources"><span class="std std-ref">GpuResources</span></a> object that manages memory, stream and handle resources on the GPU </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat16setMinPagingSizeE6size_t">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat16setMinPagingSizeE6size_t"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat16setMinPagingSizeE6size_t"></span><span id="faiss::gpu::GpuIndexFlat::setMinPagingSize__s"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6c82cbea6b02cc996d634f822c1d310b"></span>void <code class="sig-name descname">setMinPagingSize</code><span class="sig-paren">(</span>size_t <em>size</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Set the minimum data size for searches (in MiB) for which we use CPU -&gt; GPU paging </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu12GpuIndexFlat16getMinPagingSizeEv">
<span id="_CPPv3NK5faiss3gpu12GpuIndexFlat16getMinPagingSizeEv"></span><span id="_CPPv2NK5faiss3gpu12GpuIndexFlat16getMinPagingSizeEv"></span><span id="faiss::gpu::GpuIndexFlat::getMinPagingSizeC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6402d93925d2a403dc187dc1a7aab1e3"></span>size_t <code class="sig-name descname">getMinPagingSize</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the current minimum data size for paged searches. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat12add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat12add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat12add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexFlat::add_with_ids__Index::idx_t.floatCP.Index::idx_tCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a47f6969fe60d82b8e3407557ba9eec88"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">ids</span></code> can be resident on the CPU or any GPU; copies are performed as needed Handles paged adds if the add set is too large; calls addInternal_ </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu12GpuIndexFlat6assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu12GpuIndexFlat6assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu12GpuIndexFlat6assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexFlat::assign__Index::idx_t.floatCP.Index::idx_tP.Index::idx_tC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1ac108456e9c7cde162d77f64cc9c0dcdb"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">labels</span></code> can be resident on the CPU or any GPU; copies are performed as needed </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu12GpuIndexFlat6searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu12GpuIndexFlat6searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu12GpuIndexFlat6searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexFlat::search__Index::idx_t.floatCP.Index::idx_t.floatP.Index::idx_tPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a4564ff946e4339156173b39449562971"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">distances</span></code> and <code class="docutils literal notranslate"><span class="pre">labels</span></code> can be resident on the CPU or any GPU; copies are performed as needed </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu12GpuIndexFlat12range_searchE5idx_tPKffP17RangeSearchResult">
<span id="_CPPv3NK5faiss3gpu12GpuIndexFlat12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="_CPPv2NK5faiss3gpu12GpuIndexFlat12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="faiss::gpu::GpuIndexFlat::range_search__idx_t.floatCP.float.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1Index_1a23c23be6698f583402bde568eee00ad1"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlat.html#_CPPv4N5faiss3gpu12GpuIndexFlat5idx_tE" title="faiss::gpu::GpuIndexFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory).</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat10remove_idsERK10IDSelector"></span><span id="faiss::gpu::GpuIndexFlat::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1Index_1ab70f7d0acb4a2f22857da3b17559ae82"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span><br /></dt>
<dd><p>removes IDs from the index. Not supported by all indexes. Returns the number of elements removed. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu12GpuIndexFlat22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf">
<span id="_CPPv3NK5faiss3gpu12GpuIndexFlat22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="_CPPv2NK5faiss3gpu12GpuIndexFlat22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="faiss::gpu::GpuIndexFlat::search_and_reconstruct__idx_t.floatCP.idx_t.floatP.idx_tP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1a009874adf12440eb46396522ffd736cd"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlat.html#_CPPv4N5faiss3gpu12GpuIndexFlat5idx_tE" title="faiss::gpu::GpuIndexFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlat.html#_CPPv4N5faiss3gpu12GpuIndexFlat5idx_tE" title="faiss::gpu::GpuIndexFlat::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlat.html#_CPPv4N5faiss3gpu12GpuIndexFlat5idx_tE" title="faiss::gpu::GpuIndexFlat::idx_t">idx_t</a> *<em>labels</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>If there are not enough results for a query, the resulting arrays is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu12GpuIndexFlat21get_distance_computerEv">
<span id="_CPPv3NK5faiss3gpu12GpuIndexFlat21get_distance_computerEv"></span><span id="_CPPv2NK5faiss3gpu12GpuIndexFlat21get_distance_computerEv"></span><span id="faiss::gpu::GpuIndexFlat::get_distance_computerC"></span><span class="target" id="structfaiss_1_1Index_1ab53ef983521567c3dc3fee4543546e6a"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Get a DistanceComputer (defined in AuxIndexStructures) object for this kind of index.</p>
<p>DistanceComputer is implemented for indexes that support random access of their vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu12GpuIndexFlat12sa_code_sizeEv">
<span id="_CPPv3NK5faiss3gpu12GpuIndexFlat12sa_code_sizeEv"></span><span id="_CPPv2NK5faiss3gpu12GpuIndexFlat12sa_code_sizeEv"></span><span id="faiss::gpu::GpuIndexFlat::sa_code_sizeC"></span><span class="target" id="structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"></span>size_t <code class="sig-name descname">sa_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>size of the produced codes in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu12GpuIndexFlat9sa_encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss3gpu12GpuIndexFlat9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss3gpu12GpuIndexFlat9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::gpu::GpuIndexFlat::sa_encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1Index_1a16770c0addc888b92deee089d6f97e7c"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlat.html#_CPPv4N5faiss3gpu12GpuIndexFlat5idx_tE" title="faiss::gpu::GpuIndexFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: output encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu12GpuIndexFlat9sa_decodeE5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss3gpu12GpuIndexFlat9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss3gpu12GpuIndexFlat9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="faiss::gpu::GpuIndexFlat::sa_decode__idx_t.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1af39e4b00d097ac05dc9e31c52bfb9ed7"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlat.html#_CPPv4N5faiss3gpu12GpuIndexFlat5idx_tE" title="faiss::gpu::GpuIndexFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: input encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: output vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat1dE">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat1dE"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat1dE"></span><span id="faiss::gpu::GpuIndexFlat::d__i"></span><span class="target" id="structfaiss_1_1Index_1a2a002388d2c081c2dbab8508dcefe73d"></span>int <code class="sig-name descname">d</code><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat6ntotalE">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat6ntotalE"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat6ntotalE"></span><span id="faiss::gpu::GpuIndexFlat::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1Index_1a6970683faa021b7a6f1a0865c0d4eccd"></span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlat.html#_CPPv4N5faiss3gpu12GpuIndexFlat5idx_tE" title="faiss::gpu::GpuIndexFlat::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat7verboseE">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat7verboseE"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat7verboseE"></span><span id="faiss::gpu::GpuIndexFlat::verbose__b"></span><span class="target" id="structfaiss_1_1Index_1a5590d847c5c2b958affd2a05e58a6f23"></span>bool <code class="sig-name descname">verbose</code><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat10is_trainedE">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat10is_trainedE"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat10is_trainedE"></span><span id="faiss::gpu::GpuIndexFlat::is_trained__b"></span><span class="target" id="structfaiss_1_1Index_1a6e92732617c4dbe364e7678dd8773a7f"></span>bool <code class="sig-name descname">is_trained</code><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat11metric_typeE">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat11metric_typeE"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat11metric_typeE"></span><span id="faiss::gpu::GpuIndexFlat::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1Index_1a8e18f641854b2bde83ecff0a2f9a6f4e"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat10metric_argE">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat10metric_argE"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat10metric_argE"></span><span id="faiss::gpu::GpuIndexFlat::metric_arg__float"></span><span class="target" id="structfaiss_1_1Index_1a6f60646d6877658ea4df05e0231ed232"></span>float <code class="sig-name descname">metric_arg</code><br /></dt>
<dd><p>argument of the metric type </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Protected Functions</p>
<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu12GpuIndexFlat19addImplRequiresIDs_Ev">
<span id="_CPPv3NK5faiss3gpu12GpuIndexFlat19addImplRequiresIDs_Ev"></span><span id="_CPPv2NK5faiss3gpu12GpuIndexFlat19addImplRequiresIDs_Ev"></span><span id="faiss::gpu::GpuIndexFlat::addImplRequiresIDs_C"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1ad42677502d391e88427b26da1ae9bd2d"></span>bool <code class="sig-name descname">addImplRequiresIDs_</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Flat index does not require IDs as there is no storage available for them. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat8addImpl_EiPKfPKN5Index5idx_tE">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat8addImpl_EiPKfPKN5Index5idx_tE"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat8addImpl_EiPKfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexFlat::addImpl___i.floatCP.Index::idx_tCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a3f2744527184208d1b845dda9d655a88"></span>void <code class="sig-name descname">addImpl_</code><span class="sig-paren">(</span>int <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Called from <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuIndex"><span class="std std-ref">GpuIndex</span></a> for add. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu12GpuIndexFlat11searchImpl_EiPKfiPfPN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu12GpuIndexFlat11searchImpl_EiPKfiPfPN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu12GpuIndexFlat11searchImpl_EiPKfiPfPN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexFlat::searchImpl___i.floatCP.i.floatP.Index::idx_tPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a8c59233a8f269d9a81e9203d9eb392c7"></span>void <code class="sig-name descname">searchImpl_</code><span class="sig-paren">(</span>int <em>n</em>, <em class="property">const</em> float *<em>x</em>, int <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Called from <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuIndex"><span class="std std-ref">GpuIndex</span></a> for search. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat8copyFromEPKN5faiss5IndexE">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat8copyFromEPKN5faiss5IndexE"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat8copyFromEPKN5faiss5IndexE"></span><span id="faiss::gpu::GpuIndexFlat::copyFrom__faiss::IndexCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a9d1657c6a28e0581b3bc96699e12a2ab"></span>void <code class="sig-name descname">copyFrom</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Copy what we need from the CPU equivalent. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu12GpuIndexFlat6copyToEPN5faiss5IndexE">
<span id="_CPPv3NK5faiss3gpu12GpuIndexFlat6copyToEPN5faiss5IndexE"></span><span id="_CPPv2NK5faiss3gpu12GpuIndexFlat6copyToEPN5faiss5IndexE"></span><span id="faiss::gpu::GpuIndexFlat::copyTo__faiss::IndexPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6fa51de122f2cf2bd49727d909fb4b6c"></span>void <code class="sig-name descname">copyTo</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Copy what we have to the CPU equivalent. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Protected Attributes</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat11flatConfig_E">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat11flatConfig_E"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat11flatConfig_E"></span><span id="faiss::gpu::GpuIndexFlat::flatConfig___GpuIndexFlatConfigC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a5e40e91c68ff4821f8e34bc0aec4357a"></span><em class="property">const</em> <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a> <code class="sig-name descname">flatConfig_</code><br /></dt>
<dd><p>Our configuration options. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat5data_E">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat5data_E"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat5data_E"></span><span id="faiss::gpu::GpuIndexFlat::data___std::unique_ptr:FlatIndex:"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a4d0552ba8116a565efacce4b1e9c8fa0"></span>std::unique_ptr&lt;FlatIndex&gt; <code class="sig-name descname">data_</code><br /></dt>
<dd><p>Holds our GPU data containing the list of vectors. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat10resources_E">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat10resources_E"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat10resources_E"></span><span id="faiss::gpu::GpuIndexFlat::resources___std::shared_ptr:GpuResources:"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a5f6bffd99291b2198ef601ef7e5c5a30"></span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <code class="sig-name descname">resources_</code><br /></dt>
<dd><p>Manages streams, cuBLAS handles and scratch memory for devices. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat7config_E">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat7config_E"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat7config_E"></span><span id="faiss::gpu::GpuIndexFlat::config___GpuIndexConfigC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1ab62da82105579618d1b89a810d61e3bd"></span><em class="property">const</em> <a class="reference internal" href="../file/GpuIndex_8h.html#_CPPv4N5faiss3gpu14GpuIndexConfigE" title="faiss::gpu::GpuIndexConfig">GpuIndexConfig</a> <code class="sig-name descname">config_</code><br /></dt>
<dd><p>Our configuration options. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat13minPagedSize_E">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat13minPagedSize_E"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat13minPagedSize_E"></span><span id="faiss::gpu::GpuIndexFlat::minPagedSize___s"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a32a08664fc4dca2f9405e07ea5bc206f"></span>size_t <code class="sig-name descname">minPagedSize_</code><br /></dt>
<dd><p>Size above which we page copies from the CPU to GPU. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss3gpu18GpuIndexFlatConfigE">
<span id="_CPPv3N5faiss3gpu18GpuIndexFlatConfigE"></span><span id="_CPPv2N5faiss3gpu18GpuIndexFlatConfigE"></span><span id="faiss::gpu::GpuIndexFlatConfig"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexFlatConfig"></span><em class="property">struct </em><code class="sig-name descname">GpuIndexFlatConfig</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4N5faiss3gpuE" title="faiss::gpu">gpu</a>::<a class="reference internal" href="../file/GpuIndex_8h.html#_CPPv4N5faiss3gpu14GpuIndexConfigE" title="faiss::gpu::GpuIndexConfig">GpuIndexConfig</a><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu18GpuIndexFlatConfig18GpuIndexFlatConfigEv">
<span id="_CPPv3N5faiss3gpu18GpuIndexFlatConfig18GpuIndexFlatConfigEv"></span><span id="_CPPv2N5faiss3gpu18GpuIndexFlatConfig18GpuIndexFlatConfigEv"></span><span id="faiss::gpu::GpuIndexFlatConfig::GpuIndexFlatConfig"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexFlatConfig_1a39b32076b957bd2e1de93df3f5f5ea0b"></span><code class="sig-name descname">GpuIndexFlatConfig</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu18GpuIndexFlatConfig10useFloat16E">
<span id="_CPPv3N5faiss3gpu18GpuIndexFlatConfig10useFloat16E"></span><span id="_CPPv2N5faiss3gpu18GpuIndexFlatConfig10useFloat16E"></span><span id="faiss::gpu::GpuIndexFlatConfig::useFloat16__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexFlatConfig_1afd694186c87751937a646f3db2c8ba3d"></span>bool <code class="sig-name descname">useFloat16</code><br /></dt>
<dd><p>Whether or not data is stored as float16. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu18GpuIndexFlatConfig15storeTransposedE">
<span id="_CPPv3N5faiss3gpu18GpuIndexFlatConfig15storeTransposedE"></span><span id="_CPPv2N5faiss3gpu18GpuIndexFlatConfig15storeTransposedE"></span><span id="faiss::gpu::GpuIndexFlatConfig::storeTransposed__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexFlatConfig_1a0342a26f5e59563bfe04f3f80e3b27f0"></span>bool <code class="sig-name descname">storeTransposed</code><br /></dt>
<dd><p>Whether or not data is stored (transparently) in a transposed layout, enabling use of the NN GEMM call, which is ~10% faster. This will improve the speed of the flat index, but will substantially slow down any add() calls made, as all data must be transposed, and will increase storage requirements (we store data in both transposed and non-transposed layouts). </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu18GpuIndexFlatConfig6deviceE">
<span id="_CPPv3N5faiss3gpu18GpuIndexFlatConfig6deviceE"></span><span id="_CPPv2N5faiss3gpu18GpuIndexFlatConfig6deviceE"></span><span id="faiss::gpu::GpuIndexFlatConfig::device__i"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexConfig_1aab05a0aa7b42feae7df4e556a52ead57"></span>int <code class="sig-name descname">device</code><br /></dt>
<dd><p>GPU device on which the index is resident. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu18GpuIndexFlatConfig11memorySpaceE">
<span id="_CPPv3N5faiss3gpu18GpuIndexFlatConfig11memorySpaceE"></span><span id="_CPPv2N5faiss3gpu18GpuIndexFlatConfig11memorySpaceE"></span><span id="faiss::gpu::GpuIndexFlatConfig::memorySpace__MemorySpace"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexConfig_1adf7c9461009108a9a433a077ab322d2e"></span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu11MemorySpaceE" title="faiss::gpu::MemorySpace">MemorySpace</a> <code class="sig-name descname">memorySpace</code><br /></dt>
<dd><p>What memory space to use for primary storage. On Pascal and above (CC 6+) architectures, allows GPUs to use more memory than is available on the GPU. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIPE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIPE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIPE"></span><span id="faiss::gpu::GpuIndexFlatIP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlatIP"></span><em class="property">class </em><code class="sig-name descname">GpuIndexFlatIP</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4N5faiss3gpuE" title="faiss::gpu">gpu</a>::<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlat.html#_CPPv4N5faiss3gpu12GpuIndexFlatE" title="faiss::gpu::GpuIndexFlat">GpuIndexFlat</a><br /></dt>
<dd><em>#include &lt;GpuIndexFlat.h&gt;</em><p>Wrapper around the GPU implementation that looks like <a class="reference internal" href="../struct/structfaiss_1_1IndexFlatIP.html#structfaiss_1_1IndexFlatIP"><span class="std std-ref">faiss::IndexFlatIP</span></a>; copies over centroid data from a given <a class="reference internal" href="../struct/structfaiss_1_1IndexFlat.html#structfaiss_1_1IndexFlat"><span class="std std-ref">faiss::IndexFlat</span></a> </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP5idx_tE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP5idx_tE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP5idx_tE"></span><span class="target" id="structfaiss_1_1Index_1ab64b96e821336c5b363d023386781d1d"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = int64_t<br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP11component_tE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP11component_tE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP11component_tE"></span><span class="target" id="structfaiss_1_1Index_1af317cb1e2ad0bd145f716f2243b693eb"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = float<br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP10distance_tE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP10distance_tE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP10distance_tE"></span><span class="target" id="structfaiss_1_1Index_1a1c60d7a12bf3ad27054963df8cccd93f"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = float<br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP14GpuIndexFlatIPEP20GpuResourcesProviderPN5faiss11IndexFlatIPE18GpuIndexFlatConfig">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP14GpuIndexFlatIPEP20GpuResourcesProviderPN5faiss11IndexFlatIPE18GpuIndexFlatConfig"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP14GpuIndexFlatIPEP20GpuResourcesProviderPN5faiss11IndexFlatIPE18GpuIndexFlatConfig"></span><span id="faiss::gpu::GpuIndexFlatIP::GpuIndexFlatIP__GpuResourcesProviderP.faiss::IndexFlatIPP.GpuIndexFlatConfig"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlatIP_1ad7b2961b0df53aa9ad88ebd3eebaebc1"></span><code class="sig-name descname">GpuIndexFlatIP</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a> *<em>provider</em>, <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexFlat_8h.html#_CPPv4N5faiss11IndexFlatIPE" title="faiss::IndexFlatIP">IndexFlatIP</a> *<em>index</em>, <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a> <em>config</em> = <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a>()<span class="sig-paren">)</span><br /></dt>
<dd><p>Construct from a pre-existing <a class="reference internal" href="../struct/structfaiss_1_1IndexFlatIP.html#structfaiss_1_1IndexFlatIP"><span class="std std-ref">faiss::IndexFlatIP</span></a> instance, copying data over to the given GPU </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP14GpuIndexFlatIPENSt10shared_ptrI12GpuResourcesEEPN5faiss11IndexFlatIPE18GpuIndexFlatConfig">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP14GpuIndexFlatIPENSt10shared_ptrI12GpuResourcesEEPN5faiss11IndexFlatIPE18GpuIndexFlatConfig"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP14GpuIndexFlatIPENSt10shared_ptrI12GpuResourcesEEPN5faiss11IndexFlatIPE18GpuIndexFlatConfig"></span><span id="faiss::gpu::GpuIndexFlatIP::GpuIndexFlatIP__std::shared_ptr:GpuResources:.faiss::IndexFlatIPP.GpuIndexFlatConfig"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlatIP_1a243632aa5a40a565ee2df1b060491ef0"></span><code class="sig-name descname">GpuIndexFlatIP</code><span class="sig-paren">(</span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <em>resources</em>, <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexFlat_8h.html#_CPPv4N5faiss11IndexFlatIPE" title="faiss::IndexFlatIP">IndexFlatIP</a> *<em>index</em>, <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a> <em>config</em> = <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a>()<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP14GpuIndexFlatIPEP20GpuResourcesProvideri18GpuIndexFlatConfig">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP14GpuIndexFlatIPEP20GpuResourcesProvideri18GpuIndexFlatConfig"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP14GpuIndexFlatIPEP20GpuResourcesProvideri18GpuIndexFlatConfig"></span><span id="faiss::gpu::GpuIndexFlatIP::GpuIndexFlatIP__GpuResourcesProviderP.i.GpuIndexFlatConfig"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlatIP_1ae64e77adba85249953a7cc92d3b5dd87"></span><code class="sig-name descname">GpuIndexFlatIP</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a> *<em>provider</em>, int <em>dims</em>, <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a> <em>config</em> = <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a>()<span class="sig-paren">)</span><br /></dt>
<dd><p>Construct an empty instance that can be added to. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP14GpuIndexFlatIPENSt10shared_ptrI12GpuResourcesEEi18GpuIndexFlatConfig">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP14GpuIndexFlatIPENSt10shared_ptrI12GpuResourcesEEi18GpuIndexFlatConfig"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP14GpuIndexFlatIPENSt10shared_ptrI12GpuResourcesEEi18GpuIndexFlatConfig"></span><span id="faiss::gpu::GpuIndexFlatIP::GpuIndexFlatIP__std::shared_ptr:GpuResources:.i.GpuIndexFlatConfig"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlatIP_1ac519a6eb64bfc827521e7546e704b093"></span><code class="sig-name descname">GpuIndexFlatIP</code><span class="sig-paren">(</span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <em>resources</em>, int <em>dims</em>, <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a> <em>config</em> = <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a>()<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP8copyFromEPN5faiss9IndexFlatE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP8copyFromEPN5faiss9IndexFlatE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP8copyFromEPN5faiss9IndexFlatE"></span><span id="faiss::gpu::GpuIndexFlatIP::copyFrom__faiss::IndexFlatP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlatIP_1aa22befc8cd4dbb304bbb96ac836e2355"></span>void <code class="sig-name descname">copyFrom</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexFlat_8h.html#_CPPv4N5faiss9IndexFlatE" title="faiss::IndexFlat">IndexFlat</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Initialize ourselves from the given CPU index; will overwrite all data in ourselves </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP6copyToEPN5faiss9IndexFlatE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP6copyToEPN5faiss9IndexFlatE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP6copyToEPN5faiss9IndexFlatE"></span><span id="faiss::gpu::GpuIndexFlatIP::copyTo__faiss::IndexFlatP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlatIP_1ae952d5494f25508f50dbe4f296fdcbf2"></span>void <code class="sig-name descname">copyTo</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexFlat_8h.html#_CPPv4N5faiss9IndexFlatE" title="faiss::IndexFlat">IndexFlat</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Copy ourselves to the given CPU index; will overwrite all data in the index instance </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP8copyFromEPKN5faiss9IndexFlatE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP8copyFromEPKN5faiss9IndexFlatE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP8copyFromEPKN5faiss9IndexFlatE"></span><span id="faiss::gpu::GpuIndexFlatIP::copyFrom__faiss::IndexFlatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1abb964875e0893de1d8334ca5ad0f62dc"></span>void <code class="sig-name descname">copyFrom</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexFlat_8h.html#_CPPv4N5faiss9IndexFlatE" title="faiss::IndexFlat">IndexFlat</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Initialize ourselves from the given CPU index; will overwrite all data in ourselves </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatIP6copyToEPN5faiss9IndexFlatE">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatIP6copyToEPN5faiss9IndexFlatE"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatIP6copyToEPN5faiss9IndexFlatE"></span><span id="faiss::gpu::GpuIndexFlatIP::copyTo__faiss::IndexFlatPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a6f439ec99e95404631284e664ffa697e"></span>void <code class="sig-name descname">copyTo</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexFlat_8h.html#_CPPv4N5faiss9IndexFlatE" title="faiss::IndexFlat">IndexFlat</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Copy ourselves to the given CPU index; will overwrite all data in the index instance </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatIP10getNumVecsEv">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatIP10getNumVecsEv"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatIP10getNumVecsEv"></span><span id="faiss::gpu::GpuIndexFlatIP::getNumVecsC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a877d5445f62baff47a52df1f06b9fd60"></span>size_t <code class="sig-name descname">getNumVecs</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the number of vectors we contain. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP5resetEv">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP5resetEv"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP5resetEv"></span><span id="faiss::gpu::GpuIndexFlatIP::reset"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a67161796f274a7171a67c36bdf1ef1db"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Clears all vectors from this index. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP5trainEN5Index5idx_tEPKf">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP5trainEN5Index5idx_tEPKf"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP5trainEN5Index5idx_tEPKf"></span><span id="faiss::gpu::GpuIndexFlatIP::train__Index::idx_t.floatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a0e74fad76628ddfb5ae3dc1d1c69f7e8"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>This index is not trained, so this does nothing. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP3addEN5Index5idx_tEPKf">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP3addEN5Index5idx_tEPKf"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP3addEN5Index5idx_tEPKf"></span><span id="faiss::gpu::GpuIndexFlatIP::add__Index::idx_t.floatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1ac97a713a28450ca2fa0615eaef3bed5a"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Overrides to avoid excessive copies. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatIP11reconstructEN5Index5idx_tEPf">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatIP11reconstructEN5Index5idx_tEPf"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatIP11reconstructEN5Index5idx_tEPf"></span><span id="faiss::gpu::GpuIndexFlatIP::reconstruct__Index::idx_t.floatPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1ad690b0d256903730605ce36d64720fbf"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>key</em>, float *<em>out</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Reconstruction methods; prefer the batch reconstruct as it will be more efficient </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatIP13reconstruct_nEN5Index5idx_tEN5Index5idx_tEPf">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatIP13reconstruct_nEN5Index5idx_tEN5Index5idx_tEPf"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatIP13reconstruct_nEN5Index5idx_tEN5Index5idx_tEPf"></span><span id="faiss::gpu::GpuIndexFlatIP::reconstruct_n__Index::idx_t.Index::idx_t.floatPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1aae123842b90fe5f6b9efbd030ce5a7d1"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>num</em>, float *<em>out</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Batch reconstruction method. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatIP16compute_residualEPKfPfN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatIP16compute_residualEPKfPfN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatIP16compute_residualEPKfPfN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexFlatIP::compute_residual__floatCP.floatP.Index::idx_tC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a5eed422bb7d06a28188e97909ae1facf"></span>void <code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, float *<em>residual</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>key</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Compute residual. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatIP18compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatIP18compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatIP18compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexFlatIP::compute_residual_n__Index::idx_t.floatCP.floatP.Index::idx_tCPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a23b4a5f8a321d2ccf8768608c5a06ae1"></span>void <code class="sig-name descname">compute_residual_n</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xs</em>, float *<em>residuals</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>keys</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Compute residual (batch mode) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP10getGpuDataEv">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP10getGpuDataEv"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP10getGpuDataEv"></span><span id="faiss::gpu::GpuIndexFlatIP::getGpuData"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a310b00d4443920a855b11276d488c9a7"></span>FlatIndex *<code class="sig-name descname">getGpuData</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>For internal access. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatIP9getDeviceEv">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatIP9getDeviceEv"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatIP9getDeviceEv"></span><span id="faiss::gpu::GpuIndexFlatIP::getDeviceC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1af4f02c713f639bd70e09af8afebd0f51"></span>int <code class="sig-name descname">getDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the device that this index is resident on. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP12getResourcesEv">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP12getResourcesEv"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP12getResourcesEv"></span><span id="faiss::gpu::GpuIndexFlatIP::getResources"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a2eb235a51b0a70bdbc2c814a48a0917d"></span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <code class="sig-name descname">getResources</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns a reference to our <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuResources"><span class="std std-ref">GpuResources</span></a> object that manages memory, stream and handle resources on the GPU </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP16setMinPagingSizeE6size_t">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP16setMinPagingSizeE6size_t"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP16setMinPagingSizeE6size_t"></span><span id="faiss::gpu::GpuIndexFlatIP::setMinPagingSize__s"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6c82cbea6b02cc996d634f822c1d310b"></span>void <code class="sig-name descname">setMinPagingSize</code><span class="sig-paren">(</span>size_t <em>size</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Set the minimum data size for searches (in MiB) for which we use CPU -&gt; GPU paging </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatIP16getMinPagingSizeEv">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatIP16getMinPagingSizeEv"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatIP16getMinPagingSizeEv"></span><span id="faiss::gpu::GpuIndexFlatIP::getMinPagingSizeC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6402d93925d2a403dc187dc1a7aab1e3"></span>size_t <code class="sig-name descname">getMinPagingSize</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the current minimum data size for paged searches. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP12add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP12add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP12add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexFlatIP::add_with_ids__Index::idx_t.floatCP.Index::idx_tCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a47f6969fe60d82b8e3407557ba9eec88"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">ids</span></code> can be resident on the CPU or any GPU; copies are performed as needed Handles paged adds if the add set is too large; calls addInternal_ </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatIP6assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatIP6assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatIP6assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexFlatIP::assign__Index::idx_t.floatCP.Index::idx_tP.Index::idx_tC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1ac108456e9c7cde162d77f64cc9c0dcdb"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">labels</span></code> can be resident on the CPU or any GPU; copies are performed as needed </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatIP6searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatIP6searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatIP6searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexFlatIP::search__Index::idx_t.floatCP.Index::idx_t.floatP.Index::idx_tPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a4564ff946e4339156173b39449562971"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">distances</span></code> and <code class="docutils literal notranslate"><span class="pre">labels</span></code> can be resident on the CPU or any GPU; copies are performed as needed </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatIP12range_searchE5idx_tPKffP17RangeSearchResult">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatIP12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatIP12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="faiss::gpu::GpuIndexFlatIP::range_search__idx_t.floatCP.float.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1Index_1a23c23be6698f583402bde568eee00ad1"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlatIP.html#_CPPv4N5faiss3gpu14GpuIndexFlatIP5idx_tE" title="faiss::gpu::GpuIndexFlatIP::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory).</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP10remove_idsERK10IDSelector"></span><span id="faiss::gpu::GpuIndexFlatIP::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1Index_1ab70f7d0acb4a2f22857da3b17559ae82"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span><br /></dt>
<dd><p>removes IDs from the index. Not supported by all indexes. Returns the number of elements removed. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatIP22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatIP22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatIP22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="faiss::gpu::GpuIndexFlatIP::search_and_reconstruct__idx_t.floatCP.idx_t.floatP.idx_tP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1a009874adf12440eb46396522ffd736cd"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlatIP.html#_CPPv4N5faiss3gpu14GpuIndexFlatIP5idx_tE" title="faiss::gpu::GpuIndexFlatIP::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlatIP.html#_CPPv4N5faiss3gpu14GpuIndexFlatIP5idx_tE" title="faiss::gpu::GpuIndexFlatIP::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlatIP.html#_CPPv4N5faiss3gpu14GpuIndexFlatIP5idx_tE" title="faiss::gpu::GpuIndexFlatIP::idx_t">idx_t</a> *<em>labels</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>If there are not enough results for a query, the resulting arrays is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatIP21get_distance_computerEv">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatIP21get_distance_computerEv"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatIP21get_distance_computerEv"></span><span id="faiss::gpu::GpuIndexFlatIP::get_distance_computerC"></span><span class="target" id="structfaiss_1_1Index_1ab53ef983521567c3dc3fee4543546e6a"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Get a DistanceComputer (defined in AuxIndexStructures) object for this kind of index.</p>
<p>DistanceComputer is implemented for indexes that support random access of their vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatIP12sa_code_sizeEv">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatIP12sa_code_sizeEv"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatIP12sa_code_sizeEv"></span><span id="faiss::gpu::GpuIndexFlatIP::sa_code_sizeC"></span><span class="target" id="structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"></span>size_t <code class="sig-name descname">sa_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>size of the produced codes in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatIP9sa_encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatIP9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatIP9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::gpu::GpuIndexFlatIP::sa_encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1Index_1a16770c0addc888b92deee089d6f97e7c"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlatIP.html#_CPPv4N5faiss3gpu14GpuIndexFlatIP5idx_tE" title="faiss::gpu::GpuIndexFlatIP::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: output encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatIP9sa_decodeE5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatIP9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatIP9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="faiss::gpu::GpuIndexFlatIP::sa_decode__idx_t.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1af39e4b00d097ac05dc9e31c52bfb9ed7"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlatIP.html#_CPPv4N5faiss3gpu14GpuIndexFlatIP5idx_tE" title="faiss::gpu::GpuIndexFlatIP::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: input encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: output vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP1dE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP1dE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP1dE"></span><span id="faiss::gpu::GpuIndexFlatIP::d__i"></span><span class="target" id="structfaiss_1_1Index_1a2a002388d2c081c2dbab8508dcefe73d"></span>int <code class="sig-name descname">d</code><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP6ntotalE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP6ntotalE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP6ntotalE"></span><span id="faiss::gpu::GpuIndexFlatIP::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1Index_1a6970683faa021b7a6f1a0865c0d4eccd"></span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlatIP.html#_CPPv4N5faiss3gpu14GpuIndexFlatIP5idx_tE" title="faiss::gpu::GpuIndexFlatIP::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP7verboseE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP7verboseE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP7verboseE"></span><span id="faiss::gpu::GpuIndexFlatIP::verbose__b"></span><span class="target" id="structfaiss_1_1Index_1a5590d847c5c2b958affd2a05e58a6f23"></span>bool <code class="sig-name descname">verbose</code><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP10is_trainedE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP10is_trainedE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP10is_trainedE"></span><span id="faiss::gpu::GpuIndexFlatIP::is_trained__b"></span><span class="target" id="structfaiss_1_1Index_1a6e92732617c4dbe364e7678dd8773a7f"></span>bool <code class="sig-name descname">is_trained</code><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP11metric_typeE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP11metric_typeE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP11metric_typeE"></span><span id="faiss::gpu::GpuIndexFlatIP::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1Index_1a8e18f641854b2bde83ecff0a2f9a6f4e"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP10metric_argE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP10metric_argE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP10metric_argE"></span><span id="faiss::gpu::GpuIndexFlatIP::metric_arg__float"></span><span class="target" id="structfaiss_1_1Index_1a6f60646d6877658ea4df05e0231ed232"></span>float <code class="sig-name descname">metric_arg</code><br /></dt>
<dd><p>argument of the metric type </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Protected Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP8copyFromEPKN5faiss5IndexE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP8copyFromEPKN5faiss5IndexE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP8copyFromEPKN5faiss5IndexE"></span><span id="faiss::gpu::GpuIndexFlatIP::copyFrom__faiss::IndexCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a9d1657c6a28e0581b3bc96699e12a2ab"></span>void <code class="sig-name descname">copyFrom</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Copy what we need from the CPU equivalent. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatIP6copyToEPN5faiss5IndexE">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatIP6copyToEPN5faiss5IndexE"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatIP6copyToEPN5faiss5IndexE"></span><span id="faiss::gpu::GpuIndexFlatIP::copyTo__faiss::IndexPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6fa51de122f2cf2bd49727d909fb4b6c"></span>void <code class="sig-name descname">copyTo</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Copy what we have to the CPU equivalent. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatIP19addImplRequiresIDs_Ev">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatIP19addImplRequiresIDs_Ev"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatIP19addImplRequiresIDs_Ev"></span><span id="faiss::gpu::GpuIndexFlatIP::addImplRequiresIDs_C"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1ad42677502d391e88427b26da1ae9bd2d"></span>bool <code class="sig-name descname">addImplRequiresIDs_</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Flat index does not require IDs as there is no storage available for them. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP8addImpl_EiPKfPKN5Index5idx_tE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP8addImpl_EiPKfPKN5Index5idx_tE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP8addImpl_EiPKfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexFlatIP::addImpl___i.floatCP.Index::idx_tCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a3f2744527184208d1b845dda9d655a88"></span>void <code class="sig-name descname">addImpl_</code><span class="sig-paren">(</span>int <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Called from <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuIndex"><span class="std std-ref">GpuIndex</span></a> for add. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatIP11searchImpl_EiPKfiPfPN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatIP11searchImpl_EiPKfiPfPN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatIP11searchImpl_EiPKfiPfPN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexFlatIP::searchImpl___i.floatCP.i.floatP.Index::idx_tPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a8c59233a8f269d9a81e9203d9eb392c7"></span>void <code class="sig-name descname">searchImpl_</code><span class="sig-paren">(</span>int <em>n</em>, <em class="property">const</em> float *<em>x</em>, int <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Called from <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuIndex"><span class="std std-ref">GpuIndex</span></a> for search. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Protected Attributes</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP11flatConfig_E">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP11flatConfig_E"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP11flatConfig_E"></span><span id="faiss::gpu::GpuIndexFlatIP::flatConfig___GpuIndexFlatConfigC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a5e40e91c68ff4821f8e34bc0aec4357a"></span><em class="property">const</em> <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a> <code class="sig-name descname">flatConfig_</code><br /></dt>
<dd><p>Our configuration options. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP5data_E">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP5data_E"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP5data_E"></span><span id="faiss::gpu::GpuIndexFlatIP::data___std::unique_ptr:FlatIndex:"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a4d0552ba8116a565efacce4b1e9c8fa0"></span>std::unique_ptr&lt;FlatIndex&gt; <code class="sig-name descname">data_</code><br /></dt>
<dd><p>Holds our GPU data containing the list of vectors. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP10resources_E">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP10resources_E"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP10resources_E"></span><span id="faiss::gpu::GpuIndexFlatIP::resources___std::shared_ptr:GpuResources:"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a5f6bffd99291b2198ef601ef7e5c5a30"></span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <code class="sig-name descname">resources_</code><br /></dt>
<dd><p>Manages streams, cuBLAS handles and scratch memory for devices. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP7config_E">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP7config_E"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP7config_E"></span><span id="faiss::gpu::GpuIndexFlatIP::config___GpuIndexConfigC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1ab62da82105579618d1b89a810d61e3bd"></span><em class="property">const</em> <a class="reference internal" href="../file/GpuIndex_8h.html#_CPPv4N5faiss3gpu14GpuIndexConfigE" title="faiss::gpu::GpuIndexConfig">GpuIndexConfig</a> <code class="sig-name descname">config_</code><br /></dt>
<dd><p>Our configuration options. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP13minPagedSize_E">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP13minPagedSize_E"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP13minPagedSize_E"></span><span id="faiss::gpu::GpuIndexFlatIP::minPagedSize___s"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a32a08664fc4dca2f9405e07ea5bc206f"></span>size_t <code class="sig-name descname">minPagedSize_</code><br /></dt>
<dd><p>Size above which we page copies from the CPU to GPU. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL2E">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL2E"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL2E"></span><span id="faiss::gpu::GpuIndexFlatL2"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlatL2"></span><em class="property">class </em><code class="sig-name descname">GpuIndexFlatL2</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4N5faiss3gpuE" title="faiss::gpu">gpu</a>::<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlat.html#_CPPv4N5faiss3gpu12GpuIndexFlatE" title="faiss::gpu::GpuIndexFlat">GpuIndexFlat</a><br /></dt>
<dd><em>#include &lt;GpuIndexFlat.h&gt;</em><p>Wrapper around the GPU implementation that looks like <a class="reference internal" href="../struct/structfaiss_1_1IndexFlatL2.html#structfaiss_1_1IndexFlatL2"><span class="std std-ref">faiss::IndexFlatL2</span></a>; copies over centroid data from a given <a class="reference internal" href="../struct/structfaiss_1_1IndexFlat.html#structfaiss_1_1IndexFlat"><span class="std std-ref">faiss::IndexFlat</span></a> </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL25idx_tE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL25idx_tE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL25idx_tE"></span><span class="target" id="structfaiss_1_1Index_1ab64b96e821336c5b363d023386781d1d"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = int64_t<br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL211component_tE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL211component_tE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL211component_tE"></span><span class="target" id="structfaiss_1_1Index_1af317cb1e2ad0bd145f716f2243b693eb"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = float<br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL210distance_tE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL210distance_tE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL210distance_tE"></span><span class="target" id="structfaiss_1_1Index_1a1c60d7a12bf3ad27054963df8cccd93f"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = float<br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL214GpuIndexFlatL2EP20GpuResourcesProviderPN5faiss11IndexFlatL2E18GpuIndexFlatConfig">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL214GpuIndexFlatL2EP20GpuResourcesProviderPN5faiss11IndexFlatL2E18GpuIndexFlatConfig"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL214GpuIndexFlatL2EP20GpuResourcesProviderPN5faiss11IndexFlatL2E18GpuIndexFlatConfig"></span><span id="faiss::gpu::GpuIndexFlatL2::GpuIndexFlatL2__GpuResourcesProviderP.faiss::IndexFlatL2P.GpuIndexFlatConfig"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlatL2_1ab2443ad3b2102d212c8105e28cdbf606"></span><code class="sig-name descname">GpuIndexFlatL2</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a> *<em>provider</em>, <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexFlat_8h.html#_CPPv4N5faiss11IndexFlatL2E" title="faiss::IndexFlatL2">IndexFlatL2</a> *<em>index</em>, <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a> <em>config</em> = <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a>()<span class="sig-paren">)</span><br /></dt>
<dd><p>Construct from a pre-existing <a class="reference internal" href="../struct/structfaiss_1_1IndexFlatL2.html#structfaiss_1_1IndexFlatL2"><span class="std std-ref">faiss::IndexFlatL2</span></a> instance, copying data over to the given GPU </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL214GpuIndexFlatL2ENSt10shared_ptrI12GpuResourcesEEPN5faiss11IndexFlatL2E18GpuIndexFlatConfig">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL214GpuIndexFlatL2ENSt10shared_ptrI12GpuResourcesEEPN5faiss11IndexFlatL2E18GpuIndexFlatConfig"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL214GpuIndexFlatL2ENSt10shared_ptrI12GpuResourcesEEPN5faiss11IndexFlatL2E18GpuIndexFlatConfig"></span><span id="faiss::gpu::GpuIndexFlatL2::GpuIndexFlatL2__std::shared_ptr:GpuResources:.faiss::IndexFlatL2P.GpuIndexFlatConfig"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlatL2_1a4f8642f7baba4943e113c02bb5a46e9e"></span><code class="sig-name descname">GpuIndexFlatL2</code><span class="sig-paren">(</span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <em>resources</em>, <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexFlat_8h.html#_CPPv4N5faiss11IndexFlatL2E" title="faiss::IndexFlatL2">IndexFlatL2</a> *<em>index</em>, <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a> <em>config</em> = <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a>()<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL214GpuIndexFlatL2EP20GpuResourcesProvideri18GpuIndexFlatConfig">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL214GpuIndexFlatL2EP20GpuResourcesProvideri18GpuIndexFlatConfig"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL214GpuIndexFlatL2EP20GpuResourcesProvideri18GpuIndexFlatConfig"></span><span id="faiss::gpu::GpuIndexFlatL2::GpuIndexFlatL2__GpuResourcesProviderP.i.GpuIndexFlatConfig"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlatL2_1af062952f6b73ce3c07ebce18cfed9a4e"></span><code class="sig-name descname">GpuIndexFlatL2</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a> *<em>provider</em>, int <em>dims</em>, <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a> <em>config</em> = <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a>()<span class="sig-paren">)</span><br /></dt>
<dd><p>Construct an empty instance that can be added to. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL214GpuIndexFlatL2ENSt10shared_ptrI12GpuResourcesEEi18GpuIndexFlatConfig">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL214GpuIndexFlatL2ENSt10shared_ptrI12GpuResourcesEEi18GpuIndexFlatConfig"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL214GpuIndexFlatL2ENSt10shared_ptrI12GpuResourcesEEi18GpuIndexFlatConfig"></span><span id="faiss::gpu::GpuIndexFlatL2::GpuIndexFlatL2__std::shared_ptr:GpuResources:.i.GpuIndexFlatConfig"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlatL2_1ab52b52d458b6904090c5143871824618"></span><code class="sig-name descname">GpuIndexFlatL2</code><span class="sig-paren">(</span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <em>resources</em>, int <em>dims</em>, <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a> <em>config</em> = <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a>()<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL28copyFromEPN5faiss9IndexFlatE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL28copyFromEPN5faiss9IndexFlatE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL28copyFromEPN5faiss9IndexFlatE"></span><span id="faiss::gpu::GpuIndexFlatL2::copyFrom__faiss::IndexFlatP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlatL2_1aca5f2a30343a9126c38456ce6ef4b124"></span>void <code class="sig-name descname">copyFrom</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexFlat_8h.html#_CPPv4N5faiss9IndexFlatE" title="faiss::IndexFlat">IndexFlat</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Initialize ourselves from the given CPU index; will overwrite all data in ourselves </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL26copyToEPN5faiss9IndexFlatE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL26copyToEPN5faiss9IndexFlatE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL26copyToEPN5faiss9IndexFlatE"></span><span id="faiss::gpu::GpuIndexFlatL2::copyTo__faiss::IndexFlatP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlatL2_1a99dcadc46e74753d7c8741ecf3e83281"></span>void <code class="sig-name descname">copyTo</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexFlat_8h.html#_CPPv4N5faiss9IndexFlatE" title="faiss::IndexFlat">IndexFlat</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Copy ourselves to the given CPU index; will overwrite all data in the index instance </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL28copyFromEPKN5faiss9IndexFlatE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL28copyFromEPKN5faiss9IndexFlatE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL28copyFromEPKN5faiss9IndexFlatE"></span><span id="faiss::gpu::GpuIndexFlatL2::copyFrom__faiss::IndexFlatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1abb964875e0893de1d8334ca5ad0f62dc"></span>void <code class="sig-name descname">copyFrom</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexFlat_8h.html#_CPPv4N5faiss9IndexFlatE" title="faiss::IndexFlat">IndexFlat</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Initialize ourselves from the given CPU index; will overwrite all data in ourselves </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatL26copyToEPN5faiss9IndexFlatE">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatL26copyToEPN5faiss9IndexFlatE"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatL26copyToEPN5faiss9IndexFlatE"></span><span id="faiss::gpu::GpuIndexFlatL2::copyTo__faiss::IndexFlatPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a6f439ec99e95404631284e664ffa697e"></span>void <code class="sig-name descname">copyTo</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexFlat_8h.html#_CPPv4N5faiss9IndexFlatE" title="faiss::IndexFlat">IndexFlat</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Copy ourselves to the given CPU index; will overwrite all data in the index instance </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatL210getNumVecsEv">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatL210getNumVecsEv"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatL210getNumVecsEv"></span><span id="faiss::gpu::GpuIndexFlatL2::getNumVecsC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a877d5445f62baff47a52df1f06b9fd60"></span>size_t <code class="sig-name descname">getNumVecs</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the number of vectors we contain. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL25resetEv">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL25resetEv"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL25resetEv"></span><span id="faiss::gpu::GpuIndexFlatL2::reset"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a67161796f274a7171a67c36bdf1ef1db"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Clears all vectors from this index. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL25trainEN5Index5idx_tEPKf">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL25trainEN5Index5idx_tEPKf"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL25trainEN5Index5idx_tEPKf"></span><span id="faiss::gpu::GpuIndexFlatL2::train__Index::idx_t.floatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a0e74fad76628ddfb5ae3dc1d1c69f7e8"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>This index is not trained, so this does nothing. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL23addEN5Index5idx_tEPKf">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL23addEN5Index5idx_tEPKf"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL23addEN5Index5idx_tEPKf"></span><span id="faiss::gpu::GpuIndexFlatL2::add__Index::idx_t.floatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1ac97a713a28450ca2fa0615eaef3bed5a"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Overrides to avoid excessive copies. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatL211reconstructEN5Index5idx_tEPf">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatL211reconstructEN5Index5idx_tEPf"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatL211reconstructEN5Index5idx_tEPf"></span><span id="faiss::gpu::GpuIndexFlatL2::reconstruct__Index::idx_t.floatPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1ad690b0d256903730605ce36d64720fbf"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>key</em>, float *<em>out</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Reconstruction methods; prefer the batch reconstruct as it will be more efficient </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatL213reconstruct_nEN5Index5idx_tEN5Index5idx_tEPf">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatL213reconstruct_nEN5Index5idx_tEN5Index5idx_tEPf"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatL213reconstruct_nEN5Index5idx_tEN5Index5idx_tEPf"></span><span id="faiss::gpu::GpuIndexFlatL2::reconstruct_n__Index::idx_t.Index::idx_t.floatPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1aae123842b90fe5f6b9efbd030ce5a7d1"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>num</em>, float *<em>out</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Batch reconstruction method. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatL216compute_residualEPKfPfN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatL216compute_residualEPKfPfN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatL216compute_residualEPKfPfN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexFlatL2::compute_residual__floatCP.floatP.Index::idx_tC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a5eed422bb7d06a28188e97909ae1facf"></span>void <code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, float *<em>residual</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>key</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Compute residual. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatL218compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatL218compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatL218compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexFlatL2::compute_residual_n__Index::idx_t.floatCP.floatP.Index::idx_tCPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a23b4a5f8a321d2ccf8768608c5a06ae1"></span>void <code class="sig-name descname">compute_residual_n</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xs</em>, float *<em>residuals</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>keys</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Compute residual (batch mode) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL210getGpuDataEv">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL210getGpuDataEv"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL210getGpuDataEv"></span><span id="faiss::gpu::GpuIndexFlatL2::getGpuData"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a310b00d4443920a855b11276d488c9a7"></span>FlatIndex *<code class="sig-name descname">getGpuData</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>For internal access. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatL29getDeviceEv">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatL29getDeviceEv"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatL29getDeviceEv"></span><span id="faiss::gpu::GpuIndexFlatL2::getDeviceC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1af4f02c713f639bd70e09af8afebd0f51"></span>int <code class="sig-name descname">getDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the device that this index is resident on. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL212getResourcesEv">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL212getResourcesEv"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL212getResourcesEv"></span><span id="faiss::gpu::GpuIndexFlatL2::getResources"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a2eb235a51b0a70bdbc2c814a48a0917d"></span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <code class="sig-name descname">getResources</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns a reference to our <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuResources"><span class="std std-ref">GpuResources</span></a> object that manages memory, stream and handle resources on the GPU </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL216setMinPagingSizeE6size_t">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL216setMinPagingSizeE6size_t"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL216setMinPagingSizeE6size_t"></span><span id="faiss::gpu::GpuIndexFlatL2::setMinPagingSize__s"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6c82cbea6b02cc996d634f822c1d310b"></span>void <code class="sig-name descname">setMinPagingSize</code><span class="sig-paren">(</span>size_t <em>size</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Set the minimum data size for searches (in MiB) for which we use CPU -&gt; GPU paging </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatL216getMinPagingSizeEv">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatL216getMinPagingSizeEv"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatL216getMinPagingSizeEv"></span><span id="faiss::gpu::GpuIndexFlatL2::getMinPagingSizeC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6402d93925d2a403dc187dc1a7aab1e3"></span>size_t <code class="sig-name descname">getMinPagingSize</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the current minimum data size for paged searches. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL212add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL212add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL212add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexFlatL2::add_with_ids__Index::idx_t.floatCP.Index::idx_tCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a47f6969fe60d82b8e3407557ba9eec88"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">ids</span></code> can be resident on the CPU or any GPU; copies are performed as needed Handles paged adds if the add set is too large; calls addInternal_ </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatL26assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatL26assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatL26assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexFlatL2::assign__Index::idx_t.floatCP.Index::idx_tP.Index::idx_tC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1ac108456e9c7cde162d77f64cc9c0dcdb"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">labels</span></code> can be resident on the CPU or any GPU; copies are performed as needed </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatL26searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatL26searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatL26searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexFlatL2::search__Index::idx_t.floatCP.Index::idx_t.floatP.Index::idx_tPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a4564ff946e4339156173b39449562971"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">distances</span></code> and <code class="docutils literal notranslate"><span class="pre">labels</span></code> can be resident on the CPU or any GPU; copies are performed as needed </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatL212range_searchE5idx_tPKffP17RangeSearchResult">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatL212range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatL212range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="faiss::gpu::GpuIndexFlatL2::range_search__idx_t.floatCP.float.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1Index_1a23c23be6698f583402bde568eee00ad1"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlatL2.html#_CPPv4N5faiss3gpu14GpuIndexFlatL25idx_tE" title="faiss::gpu::GpuIndexFlatL2::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory).</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL210remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL210remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL210remove_idsERK10IDSelector"></span><span id="faiss::gpu::GpuIndexFlatL2::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1Index_1ab70f7d0acb4a2f22857da3b17559ae82"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span><br /></dt>
<dd><p>removes IDs from the index. Not supported by all indexes. Returns the number of elements removed. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatL222search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatL222search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatL222search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="faiss::gpu::GpuIndexFlatL2::search_and_reconstruct__idx_t.floatCP.idx_t.floatP.idx_tP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1a009874adf12440eb46396522ffd736cd"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlatL2.html#_CPPv4N5faiss3gpu14GpuIndexFlatL25idx_tE" title="faiss::gpu::GpuIndexFlatL2::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlatL2.html#_CPPv4N5faiss3gpu14GpuIndexFlatL25idx_tE" title="faiss::gpu::GpuIndexFlatL2::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlatL2.html#_CPPv4N5faiss3gpu14GpuIndexFlatL25idx_tE" title="faiss::gpu::GpuIndexFlatL2::idx_t">idx_t</a> *<em>labels</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>If there are not enough results for a query, the resulting arrays is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatL221get_distance_computerEv">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatL221get_distance_computerEv"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatL221get_distance_computerEv"></span><span id="faiss::gpu::GpuIndexFlatL2::get_distance_computerC"></span><span class="target" id="structfaiss_1_1Index_1ab53ef983521567c3dc3fee4543546e6a"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Get a DistanceComputer (defined in AuxIndexStructures) object for this kind of index.</p>
<p>DistanceComputer is implemented for indexes that support random access of their vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatL212sa_code_sizeEv">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatL212sa_code_sizeEv"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatL212sa_code_sizeEv"></span><span id="faiss::gpu::GpuIndexFlatL2::sa_code_sizeC"></span><span class="target" id="structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"></span>size_t <code class="sig-name descname">sa_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>size of the produced codes in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatL29sa_encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatL29sa_encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatL29sa_encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::gpu::GpuIndexFlatL2::sa_encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1Index_1a16770c0addc888b92deee089d6f97e7c"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlatL2.html#_CPPv4N5faiss3gpu14GpuIndexFlatL25idx_tE" title="faiss::gpu::GpuIndexFlatL2::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: output encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatL29sa_decodeE5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatL29sa_decodeE5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatL29sa_decodeE5idx_tPK7uint8_tPf"></span><span id="faiss::gpu::GpuIndexFlatL2::sa_decode__idx_t.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1af39e4b00d097ac05dc9e31c52bfb9ed7"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlatL2.html#_CPPv4N5faiss3gpu14GpuIndexFlatL25idx_tE" title="faiss::gpu::GpuIndexFlatL2::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: input encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: output vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL21dE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL21dE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL21dE"></span><span id="faiss::gpu::GpuIndexFlatL2::d__i"></span><span class="target" id="structfaiss_1_1Index_1a2a002388d2c081c2dbab8508dcefe73d"></span>int <code class="sig-name descname">d</code><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL26ntotalE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL26ntotalE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL26ntotalE"></span><span id="faiss::gpu::GpuIndexFlatL2::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1Index_1a6970683faa021b7a6f1a0865c0d4eccd"></span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlatL2.html#_CPPv4N5faiss3gpu14GpuIndexFlatL25idx_tE" title="faiss::gpu::GpuIndexFlatL2::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL27verboseE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL27verboseE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL27verboseE"></span><span id="faiss::gpu::GpuIndexFlatL2::verbose__b"></span><span class="target" id="structfaiss_1_1Index_1a5590d847c5c2b958affd2a05e58a6f23"></span>bool <code class="sig-name descname">verbose</code><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL210is_trainedE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL210is_trainedE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL210is_trainedE"></span><span id="faiss::gpu::GpuIndexFlatL2::is_trained__b"></span><span class="target" id="structfaiss_1_1Index_1a6e92732617c4dbe364e7678dd8773a7f"></span>bool <code class="sig-name descname">is_trained</code><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL211metric_typeE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL211metric_typeE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL211metric_typeE"></span><span id="faiss::gpu::GpuIndexFlatL2::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1Index_1a8e18f641854b2bde83ecff0a2f9a6f4e"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL210metric_argE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL210metric_argE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL210metric_argE"></span><span id="faiss::gpu::GpuIndexFlatL2::metric_arg__float"></span><span class="target" id="structfaiss_1_1Index_1a6f60646d6877658ea4df05e0231ed232"></span>float <code class="sig-name descname">metric_arg</code><br /></dt>
<dd><p>argument of the metric type </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Protected Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL28copyFromEPKN5faiss5IndexE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL28copyFromEPKN5faiss5IndexE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL28copyFromEPKN5faiss5IndexE"></span><span id="faiss::gpu::GpuIndexFlatL2::copyFrom__faiss::IndexCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a9d1657c6a28e0581b3bc96699e12a2ab"></span>void <code class="sig-name descname">copyFrom</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Copy what we need from the CPU equivalent. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatL26copyToEPN5faiss5IndexE">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatL26copyToEPN5faiss5IndexE"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatL26copyToEPN5faiss5IndexE"></span><span id="faiss::gpu::GpuIndexFlatL2::copyTo__faiss::IndexPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6fa51de122f2cf2bd49727d909fb4b6c"></span>void <code class="sig-name descname">copyTo</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Copy what we have to the CPU equivalent. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatL219addImplRequiresIDs_Ev">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatL219addImplRequiresIDs_Ev"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatL219addImplRequiresIDs_Ev"></span><span id="faiss::gpu::GpuIndexFlatL2::addImplRequiresIDs_C"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1ad42677502d391e88427b26da1ae9bd2d"></span>bool <code class="sig-name descname">addImplRequiresIDs_</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Flat index does not require IDs as there is no storage available for them. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL28addImpl_EiPKfPKN5Index5idx_tE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL28addImpl_EiPKfPKN5Index5idx_tE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL28addImpl_EiPKfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexFlatL2::addImpl___i.floatCP.Index::idx_tCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a3f2744527184208d1b845dda9d655a88"></span>void <code class="sig-name descname">addImpl_</code><span class="sig-paren">(</span>int <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Called from <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuIndex"><span class="std std-ref">GpuIndex</span></a> for add. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatL211searchImpl_EiPKfiPfPN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatL211searchImpl_EiPKfiPfPN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatL211searchImpl_EiPKfiPfPN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexFlatL2::searchImpl___i.floatCP.i.floatP.Index::idx_tPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a8c59233a8f269d9a81e9203d9eb392c7"></span>void <code class="sig-name descname">searchImpl_</code><span class="sig-paren">(</span>int <em>n</em>, <em class="property">const</em> float *<em>x</em>, int <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Called from <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuIndex"><span class="std std-ref">GpuIndex</span></a> for search. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Protected Attributes</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL211flatConfig_E">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL211flatConfig_E"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL211flatConfig_E"></span><span id="faiss::gpu::GpuIndexFlatL2::flatConfig___GpuIndexFlatConfigC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a5e40e91c68ff4821f8e34bc0aec4357a"></span><em class="property">const</em> <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a> <code class="sig-name descname">flatConfig_</code><br /></dt>
<dd><p>Our configuration options. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL25data_E">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL25data_E"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL25data_E"></span><span id="faiss::gpu::GpuIndexFlatL2::data___std::unique_ptr:FlatIndex:"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a4d0552ba8116a565efacce4b1e9c8fa0"></span>std::unique_ptr&lt;FlatIndex&gt; <code class="sig-name descname">data_</code><br /></dt>
<dd><p>Holds our GPU data containing the list of vectors. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL210resources_E">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL210resources_E"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL210resources_E"></span><span id="faiss::gpu::GpuIndexFlatL2::resources___std::shared_ptr:GpuResources:"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a5f6bffd99291b2198ef601ef7e5c5a30"></span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <code class="sig-name descname">resources_</code><br /></dt>
<dd><p>Manages streams, cuBLAS handles and scratch memory for devices. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL27config_E">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL27config_E"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL27config_E"></span><span id="faiss::gpu::GpuIndexFlatL2::config___GpuIndexConfigC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1ab62da82105579618d1b89a810d61e3bd"></span><em class="property">const</em> <a class="reference internal" href="../file/GpuIndex_8h.html#_CPPv4N5faiss3gpu14GpuIndexConfigE" title="faiss::gpu::GpuIndexConfig">GpuIndexConfig</a> <code class="sig-name descname">config_</code><br /></dt>
<dd><p>Our configuration options. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL213minPagedSize_E">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL213minPagedSize_E"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL213minPagedSize_E"></span><span id="faiss::gpu::GpuIndexFlatL2::minPagedSize___s"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a32a08664fc4dca2f9405e07ea5bc206f"></span>size_t <code class="sig-name descname">minPagedSize_</code><br /></dt>
<dd><p>Size above which we page copies from the CPU to GPU. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVFE">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVFE"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVFE"></span><span id="faiss::gpu::GpuIndexIVF"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF"></span><em class="property">class </em><code class="sig-name descname">GpuIndexIVF</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4N5faiss3gpuE" title="faiss::gpu">gpu</a>::<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndex.html#_CPPv4N5faiss3gpu8GpuIndexE" title="faiss::gpu::GpuIndex">GpuIndex</a><br /></dt>
<dd><p>Subclassed by <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuIndexIVFFlat"><span class="std std-ref">faiss::gpu::GpuIndexIVFFlat</span></a>, <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuIndexIVFPQ"><span class="std std-ref">faiss::gpu::GpuIndexIVFPQ</span></a>, <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer"><span class="std std-ref">faiss::gpu::GpuIndexIVFScalarQuantizer</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF5idx_tE">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF5idx_tE"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF5idx_tE"></span><span class="target" id="structfaiss_1_1Index_1ab64b96e821336c5b363d023386781d1d"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = int64_t<br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF11component_tE">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF11component_tE"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF11component_tE"></span><span class="target" id="structfaiss_1_1Index_1af317cb1e2ad0bd145f716f2243b693eb"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = float<br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF10distance_tE">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF10distance_tE"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF10distance_tE"></span><span class="target" id="structfaiss_1_1Index_1a1c60d7a12bf3ad27054963df8cccd93f"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = float<br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF11GpuIndexIVFEP20GpuResourcesProvideriN5faiss10MetricTypeEfi17GpuIndexIVFConfig">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF11GpuIndexIVFEP20GpuResourcesProvideriN5faiss10MetricTypeEfi17GpuIndexIVFConfig"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF11GpuIndexIVFEP20GpuResourcesProvideriN5faiss10MetricTypeEfi17GpuIndexIVFConfig"></span><span id="faiss::gpu::GpuIndexIVF::GpuIndexIVF__GpuResourcesProviderP.i.faiss::MetricType.float.i.GpuIndexIVFConfig"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a8fa90aab480c74879c8ae9f7d2916bc4"></span><code class="sig-name descname">GpuIndexIVF</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a> *<em>provider</em>, int <em>dims</em>, <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <em>metric</em>, float <em>metricArg</em>, int <em>nlist</em>, <a class="reference internal" href="../file/GpuIndexIVF_8h.html#_CPPv4N5faiss3gpu17GpuIndexIVFConfigE" title="faiss::gpu::GpuIndexIVFConfig">GpuIndexIVFConfig</a> <em>config</em> = <a class="reference internal" href="../file/GpuIndexIVF_8h.html#_CPPv4N5faiss3gpu17GpuIndexIVFConfigE" title="faiss::gpu::GpuIndexIVFConfig">GpuIndexIVFConfig</a>()<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVFD0Ev">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVFD0Ev"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVFD0Ev"></span><span id="faiss::gpu::GpuIndexIVF::~GpuIndexIVF"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1ad3829b7e97f1642f85721f95956da8f4"></span><code class="sig-name descname">~GpuIndexIVF</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF8copyFromEPKN5faiss8IndexIVFE">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF8copyFromEPKN5faiss8IndexIVFE"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF8copyFromEPKN5faiss8IndexIVFE"></span><span id="faiss::gpu::GpuIndexIVF::copyFrom__faiss::IndexIVFCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a94c2c171f9a2d27085dea9101067bdf2"></span>void <code class="sig-name descname">copyFrom</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Copy what we need from the CPU equivalent. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu11GpuIndexIVF6copyToEPN5faiss8IndexIVFE">
<span id="_CPPv3NK5faiss3gpu11GpuIndexIVF6copyToEPN5faiss8IndexIVFE"></span><span id="_CPPv2NK5faiss3gpu11GpuIndexIVF6copyToEPN5faiss8IndexIVFE"></span><span id="faiss::gpu::GpuIndexIVF::copyTo__faiss::IndexIVFPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a9153ac747b50b454d85416edcf484bd3"></span>void <code class="sig-name descname">copyTo</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Copy what we have to the CPU equivalent. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu11GpuIndexIVF11getNumListsEv">
<span id="_CPPv3NK5faiss3gpu11GpuIndexIVF11getNumListsEv"></span><span id="_CPPv2NK5faiss3gpu11GpuIndexIVF11getNumListsEv"></span><span id="faiss::gpu::GpuIndexIVF::getNumListsC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a008b31e78482337f8ca9ae72d9815be0"></span>int <code class="sig-name descname">getNumLists</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the number of inverted lists we’re managing. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu11GpuIndexIVF13getListLengthEi">
<span id="_CPPv3NK5faiss3gpu11GpuIndexIVF13getListLengthEi"></span><span id="_CPPv2NK5faiss3gpu11GpuIndexIVF13getListLengthEi"></span><span id="faiss::gpu::GpuIndexIVF::getListLength__iC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1abc6ffec2d09200c8f5cd88ccedc5aeed"></span>int <code class="sig-name descname">getListLength</code><span class="sig-paren">(</span>int <em>listId</em><span class="sig-paren">)</span> <em class="property">const</em> = 0<br /></dt>
<dd><p>Returns the number of vectors present in a particular inverted list. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu11GpuIndexIVF17getListVectorDataEib">
<span id="_CPPv3NK5faiss3gpu11GpuIndexIVF17getListVectorDataEib"></span><span id="_CPPv2NK5faiss3gpu11GpuIndexIVF17getListVectorDataEib"></span><span id="faiss::gpu::GpuIndexIVF::getListVectorData__i.bC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1ad8ae56a9c75e3ebce52aceb6b180ce66"></span>std::vector&lt;uint8_t&gt; <code class="sig-name descname">getListVectorData</code><span class="sig-paren">(</span>int <em>listId</em>, bool <em>gpuFormat</em> = false<span class="sig-paren">)</span> <em class="property">const</em> = 0<br /></dt>
<dd><p>Return the encoded vector data contained in a particular inverted list, for debugging purposes. If gpuFormat is true, the data is returned as it is encoded in the GPU-side representation. Otherwise, it is converted to the CPU format. compliant format, while the native GPU format may differ. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu11GpuIndexIVF14getListIndicesEi">
<span id="_CPPv3NK5faiss3gpu11GpuIndexIVF14getListIndicesEi"></span><span id="_CPPv2NK5faiss3gpu11GpuIndexIVF14getListIndicesEi"></span><span id="faiss::gpu::GpuIndexIVF::getListIndices__iC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1aca66be4b2e7c467ea145195a99902aed"></span>std::vector&lt;<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a>&gt; <code class="sig-name descname">getListIndices</code><span class="sig-paren">(</span>int <em>listId</em><span class="sig-paren">)</span> <em class="property">const</em> = 0<br /></dt>
<dd><p>Return the vector indices contained in a particular inverted list, for debugging purposes. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF12getQuantizerEv">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF12getQuantizerEv"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF12getQuantizerEv"></span><span id="faiss::gpu::GpuIndexIVF::getQuantizer"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1ae8ede11bab8c6f2296aa797986006511"></span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlat.html#_CPPv4N5faiss3gpu12GpuIndexFlatE" title="faiss::gpu::GpuIndexFlat">GpuIndexFlat</a> *<code class="sig-name descname">getQuantizer</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Return the quantizer we’re using. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF12setNumProbesEi">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF12setNumProbesEi"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF12setNumProbesEi"></span><span id="faiss::gpu::GpuIndexIVF::setNumProbes__i"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a1efac4b9801d57fa6d0085d6aed9c1f2"></span>void <code class="sig-name descname">setNumProbes</code><span class="sig-paren">(</span>int <em>nprobe</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Sets the number of list probes per query. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu11GpuIndexIVF12getNumProbesEv">
<span id="_CPPv3NK5faiss3gpu11GpuIndexIVF12getNumProbesEv"></span><span id="_CPPv2NK5faiss3gpu11GpuIndexIVF12getNumProbesEv"></span><span id="faiss::gpu::GpuIndexIVF::getNumProbesC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1aa231de06057f6f024679291fed7d8c3a"></span>int <code class="sig-name descname">getNumProbes</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns our current number of list probes per query. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu11GpuIndexIVF9getDeviceEv">
<span id="_CPPv3NK5faiss3gpu11GpuIndexIVF9getDeviceEv"></span><span id="_CPPv2NK5faiss3gpu11GpuIndexIVF9getDeviceEv"></span><span id="faiss::gpu::GpuIndexIVF::getDeviceC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1af4f02c713f639bd70e09af8afebd0f51"></span>int <code class="sig-name descname">getDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the device that this index is resident on. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF12getResourcesEv">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF12getResourcesEv"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF12getResourcesEv"></span><span id="faiss::gpu::GpuIndexIVF::getResources"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a2eb235a51b0a70bdbc2c814a48a0917d"></span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <code class="sig-name descname">getResources</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns a reference to our <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuResources"><span class="std std-ref">GpuResources</span></a> object that manages memory, stream and handle resources on the GPU </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF16setMinPagingSizeE6size_t">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF16setMinPagingSizeE6size_t"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF16setMinPagingSizeE6size_t"></span><span id="faiss::gpu::GpuIndexIVF::setMinPagingSize__s"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6c82cbea6b02cc996d634f822c1d310b"></span>void <code class="sig-name descname">setMinPagingSize</code><span class="sig-paren">(</span>size_t <em>size</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Set the minimum data size for searches (in MiB) for which we use CPU -&gt; GPU paging </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu11GpuIndexIVF16getMinPagingSizeEv">
<span id="_CPPv3NK5faiss3gpu11GpuIndexIVF16getMinPagingSizeEv"></span><span id="_CPPv2NK5faiss3gpu11GpuIndexIVF16getMinPagingSizeEv"></span><span id="faiss::gpu::GpuIndexIVF::getMinPagingSizeC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6402d93925d2a403dc187dc1a7aab1e3"></span>size_t <code class="sig-name descname">getMinPagingSize</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the current minimum data size for paged searches. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF3addEN5Index5idx_tEPKf">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF3addEN5Index5idx_tEPKf"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF3addEN5Index5idx_tEPKf"></span><span id="faiss::gpu::GpuIndexIVF::add__Index::idx_t.floatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1ac6ac307f55a1b44dbf185e22c83b0a10"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code> can be resident on the CPU or any GPU; copies are performed as needed Handles paged adds if the add set is too large; calls addInternal_ </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF12add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF12add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF12add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVF::add_with_ids__Index::idx_t.floatCP.Index::idx_tCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a47f6969fe60d82b8e3407557ba9eec88"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">ids</span></code> can be resident on the CPU or any GPU; copies are performed as needed Handles paged adds if the add set is too large; calls addInternal_ </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu11GpuIndexIVF6assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu11GpuIndexIVF6assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu11GpuIndexIVF6assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVF::assign__Index::idx_t.floatCP.Index::idx_tP.Index::idx_tC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1ac108456e9c7cde162d77f64cc9c0dcdb"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">labels</span></code> can be resident on the CPU or any GPU; copies are performed as needed </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu11GpuIndexIVF6searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu11GpuIndexIVF6searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu11GpuIndexIVF6searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVF::search__Index::idx_t.floatCP.Index::idx_t.floatP.Index::idx_tPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a4564ff946e4339156173b39449562971"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">distances</span></code> and <code class="docutils literal notranslate"><span class="pre">labels</span></code> can be resident on the CPU or any GPU; copies are performed as needed </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu11GpuIndexIVF16compute_residualEPKfPfN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu11GpuIndexIVF16compute_residualEPKfPfN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu11GpuIndexIVF16compute_residualEPKfPfN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVF::compute_residual__floatCP.floatP.Index::idx_tC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a1c68659822d9e330a7737c8a6aaacae2"></span>void <code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, float *<em>residual</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>key</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Overridden to force GPU indices to provide their own GPU-friendly implementation </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu11GpuIndexIVF18compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu11GpuIndexIVF18compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu11GpuIndexIVF18compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVF::compute_residual_n__Index::idx_t.floatCP.floatP.Index::idx_tCPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1aac69097d303830c3d48c4016c1e6a955"></span>void <code class="sig-name descname">compute_residual_n</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xs</em>, float *<em>residuals</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>keys</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Overridden to force GPU indices to provide their own GPU-friendly implementation </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF5trainE5idx_tPKf">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF5trainE5idx_tPKf"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF5trainE5idx_tPKf"></span><span id="faiss::gpu::GpuIndexIVF::train__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1Index_1a8f67dfd73993e192dc78f2c93d9d9532"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVF.html#_CPPv4N5faiss3gpu11GpuIndexIVF5idx_tE" title="faiss::gpu::GpuIndexIVF::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Perform training on a representative set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of training vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: training vecors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu11GpuIndexIVF12range_searchE5idx_tPKffP17RangeSearchResult">
<span id="_CPPv3NK5faiss3gpu11GpuIndexIVF12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="_CPPv2NK5faiss3gpu11GpuIndexIVF12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="faiss::gpu::GpuIndexIVF::range_search__idx_t.floatCP.float.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1Index_1a23c23be6698f583402bde568eee00ad1"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVF.html#_CPPv4N5faiss3gpu11GpuIndexIVF5idx_tE" title="faiss::gpu::GpuIndexIVF::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory).</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF5resetEv">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF5resetEv"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF5resetEv"></span><span id="faiss::gpu::GpuIndexIVF::reset"></span><span class="target" id="structfaiss_1_1Index_1a849361f5f0ab0aba8d419c86f2594191"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> = 0<br /></dt>
<dd><p>removes all elements from the database. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF10remove_idsERK10IDSelector"></span><span id="faiss::gpu::GpuIndexIVF::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1Index_1ab70f7d0acb4a2f22857da3b17559ae82"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span><br /></dt>
<dd><p>removes IDs from the index. Not supported by all indexes. Returns the number of elements removed. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu11GpuIndexIVF11reconstructE5idx_tPf">
<span id="_CPPv3NK5faiss3gpu11GpuIndexIVF11reconstructE5idx_tPf"></span><span id="_CPPv2NK5faiss3gpu11GpuIndexIVF11reconstructE5idx_tPf"></span><span id="faiss::gpu::GpuIndexIVF::reconstruct__idx_t.floatPC"></span><span class="target" id="structfaiss_1_1Index_1afaf9673009f9fe5a53ed6db522a5f69c"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVF.html#_CPPv4N5faiss3gpu11GpuIndexIVF5idx_tE" title="faiss::gpu::GpuIndexIVF::idx_t">idx_t</a> <em>key</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Reconstruct a stored vector (or an approximation if lossy coding)</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: id of the vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu11GpuIndexIVF13reconstruct_nE5idx_t5idx_tPf">
<span id="_CPPv3NK5faiss3gpu11GpuIndexIVF13reconstruct_nE5idx_t5idx_tPf"></span><span id="_CPPv2NK5faiss3gpu11GpuIndexIVF13reconstruct_nE5idx_t5idx_tPf"></span><span id="faiss::gpu::GpuIndexIVF::reconstruct_n__idx_t.idx_t.floatPC"></span><span class="target" id="structfaiss_1_1Index_1ae7c0b683e1fd5c8770ea2b3e1a82ce7f"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVF.html#_CPPv4N5faiss3gpu11GpuIndexIVF5idx_tE" title="faiss::gpu::GpuIndexIVF::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVF.html#_CPPv4N5faiss3gpu11GpuIndexIVF5idx_tE" title="faiss::gpu::GpuIndexIVF::idx_t">idx_t</a> <em>ni</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Reconstruct vectors i0 to i0 + ni - 1</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size ni * d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu11GpuIndexIVF22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf">
<span id="_CPPv3NK5faiss3gpu11GpuIndexIVF22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="_CPPv2NK5faiss3gpu11GpuIndexIVF22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="faiss::gpu::GpuIndexIVF::search_and_reconstruct__idx_t.floatCP.idx_t.floatP.idx_tP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1a009874adf12440eb46396522ffd736cd"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVF.html#_CPPv4N5faiss3gpu11GpuIndexIVF5idx_tE" title="faiss::gpu::GpuIndexIVF::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVF.html#_CPPv4N5faiss3gpu11GpuIndexIVF5idx_tE" title="faiss::gpu::GpuIndexIVF::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVF.html#_CPPv4N5faiss3gpu11GpuIndexIVF5idx_tE" title="faiss::gpu::GpuIndexIVF::idx_t">idx_t</a> *<em>labels</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>If there are not enough results for a query, the resulting arrays is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu11GpuIndexIVF21get_distance_computerEv">
<span id="_CPPv3NK5faiss3gpu11GpuIndexIVF21get_distance_computerEv"></span><span id="_CPPv2NK5faiss3gpu11GpuIndexIVF21get_distance_computerEv"></span><span id="faiss::gpu::GpuIndexIVF::get_distance_computerC"></span><span class="target" id="structfaiss_1_1Index_1ab53ef983521567c3dc3fee4543546e6a"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Get a DistanceComputer (defined in AuxIndexStructures) object for this kind of index.</p>
<p>DistanceComputer is implemented for indexes that support random access of their vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu11GpuIndexIVF12sa_code_sizeEv">
<span id="_CPPv3NK5faiss3gpu11GpuIndexIVF12sa_code_sizeEv"></span><span id="_CPPv2NK5faiss3gpu11GpuIndexIVF12sa_code_sizeEv"></span><span id="faiss::gpu::GpuIndexIVF::sa_code_sizeC"></span><span class="target" id="structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"></span>size_t <code class="sig-name descname">sa_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>size of the produced codes in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu11GpuIndexIVF9sa_encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss3gpu11GpuIndexIVF9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss3gpu11GpuIndexIVF9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::gpu::GpuIndexIVF::sa_encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1Index_1a16770c0addc888b92deee089d6f97e7c"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVF.html#_CPPv4N5faiss3gpu11GpuIndexIVF5idx_tE" title="faiss::gpu::GpuIndexIVF::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: output encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu11GpuIndexIVF9sa_decodeE5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss3gpu11GpuIndexIVF9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss3gpu11GpuIndexIVF9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="faiss::gpu::GpuIndexIVF::sa_decode__idx_t.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1af39e4b00d097ac05dc9e31c52bfb9ed7"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVF.html#_CPPv4N5faiss3gpu11GpuIndexIVF5idx_tE" title="faiss::gpu::GpuIndexIVF::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: input encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: output vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF2cpE">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF2cpE"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF2cpE"></span><span id="faiss::gpu::GpuIndexIVF::cp__ClusteringParameters"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a520803e209b44c904b876d6b8dad23c9"></span><a class="reference internal" href="../file/Clustering_8h.html#_CPPv4N5faiss20ClusteringParametersE" title="faiss::ClusteringParameters">ClusteringParameters</a> <code class="sig-name descname">cp</code><br /></dt>
<dd><p>Exposing this like the CPU version for manipulation. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF5nlistE">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF5nlistE"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF5nlistE"></span><span id="faiss::gpu::GpuIndexIVF::nlist__i"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a7d06649d5ae58b7a637a8b348d6f16b3"></span>int <code class="sig-name descname">nlist</code><br /></dt>
<dd><p>Exposing this like the CPU version for query. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF6nprobeE">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF6nprobeE"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF6nprobeE"></span><span id="faiss::gpu::GpuIndexIVF::nprobe__i"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a83cdbddf42124d7f6c0d9ef232e0c558"></span>int <code class="sig-name descname">nprobe</code><br /></dt>
<dd><p>Exposing this like the CPU version for manipulation. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF9quantizerE">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF9quantizerE"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF9quantizerE"></span><span id="faiss::gpu::GpuIndexIVF::quantizer__GpuIndexFlatP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1ac741fa8825e3ef533cbe9a45aa22a8fe"></span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlat.html#_CPPv4N5faiss3gpu12GpuIndexFlatE" title="faiss::gpu::GpuIndexFlat">GpuIndexFlat</a> *<code class="sig-name descname">quantizer</code><br /></dt>
<dd><p>Exposeing this like the CPU version for query. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF1dE">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF1dE"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF1dE"></span><span id="faiss::gpu::GpuIndexIVF::d__i"></span><span class="target" id="structfaiss_1_1Index_1a2a002388d2c081c2dbab8508dcefe73d"></span>int <code class="sig-name descname">d</code><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF6ntotalE">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF6ntotalE"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF6ntotalE"></span><span id="faiss::gpu::GpuIndexIVF::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1Index_1a6970683faa021b7a6f1a0865c0d4eccd"></span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVF.html#_CPPv4N5faiss3gpu11GpuIndexIVF5idx_tE" title="faiss::gpu::GpuIndexIVF::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF7verboseE">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF7verboseE"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF7verboseE"></span><span id="faiss::gpu::GpuIndexIVF::verbose__b"></span><span class="target" id="structfaiss_1_1Index_1a5590d847c5c2b958affd2a05e58a6f23"></span>bool <code class="sig-name descname">verbose</code><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF10is_trainedE">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF10is_trainedE"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF10is_trainedE"></span><span id="faiss::gpu::GpuIndexIVF::is_trained__b"></span><span class="target" id="structfaiss_1_1Index_1a6e92732617c4dbe364e7678dd8773a7f"></span>bool <code class="sig-name descname">is_trained</code><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF11metric_typeE">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF11metric_typeE"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF11metric_typeE"></span><span id="faiss::gpu::GpuIndexIVF::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1Index_1a8e18f641854b2bde83ecff0a2f9a6f4e"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF10metric_argE">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF10metric_argE"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF10metric_argE"></span><span id="faiss::gpu::GpuIndexIVF::metric_arg__float"></span><span class="target" id="structfaiss_1_1Index_1a6f60646d6877658ea4df05e0231ed232"></span>float <code class="sig-name descname">metric_arg</code><br /></dt>
<dd><p>argument of the metric type </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Protected Functions</p>
<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu11GpuIndexIVF19addImplRequiresIDs_Ev">
<span id="_CPPv3NK5faiss3gpu11GpuIndexIVF19addImplRequiresIDs_Ev"></span><span id="_CPPv2NK5faiss3gpu11GpuIndexIVF19addImplRequiresIDs_Ev"></span><span id="faiss::gpu::GpuIndexIVF::addImplRequiresIDs_C"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a69731ab85d119127e1fe603757b28400"></span>bool <code class="sig-name descname">addImplRequiresIDs_</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Does addImpl_ require IDs? If so, and no IDs are provided, we will generate them sequentially based on the order in which the IDs are added </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF15trainQuantizer_EN5Index5idx_tEPKf">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF15trainQuantizer_EN5Index5idx_tEPKf"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF15trainQuantizer_EN5Index5idx_tEPKf"></span><span id="faiss::gpu::GpuIndexIVF::trainQuantizer___Index::idx_t.floatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a8f64aaab0221591c82825c1594432c72"></span>void <code class="sig-name descname">trainQuantizer_</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF8copyFromEPKN5faiss5IndexE">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF8copyFromEPKN5faiss5IndexE"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF8copyFromEPKN5faiss5IndexE"></span><span id="faiss::gpu::GpuIndexIVF::copyFrom__faiss::IndexCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a9d1657c6a28e0581b3bc96699e12a2ab"></span>void <code class="sig-name descname">copyFrom</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Copy what we need from the CPU equivalent. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu11GpuIndexIVF6copyToEPN5faiss5IndexE">
<span id="_CPPv3NK5faiss3gpu11GpuIndexIVF6copyToEPN5faiss5IndexE"></span><span id="_CPPv2NK5faiss3gpu11GpuIndexIVF6copyToEPN5faiss5IndexE"></span><span id="faiss::gpu::GpuIndexIVF::copyTo__faiss::IndexPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6fa51de122f2cf2bd49727d909fb4b6c"></span>void <code class="sig-name descname">copyTo</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Copy what we have to the CPU equivalent. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF8addImpl_EiPKfPKN5Index5idx_tE">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF8addImpl_EiPKfPKN5Index5idx_tE"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF8addImpl_EiPKfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVF::addImpl___i.floatCP.Index::idx_tCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1ae8479445214c5ef37adf154c138ce973"></span>void <code class="sig-name descname">addImpl_</code><span class="sig-paren">(</span>int <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span> = 0<br /></dt>
<dd><p>Overridden to actually perform the add All data is guaranteed to be resident on our device </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu11GpuIndexIVF11searchImpl_EiPKfiPfPN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu11GpuIndexIVF11searchImpl_EiPKfiPfPN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu11GpuIndexIVF11searchImpl_EiPKfiPfPN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVF::searchImpl___i.floatCP.i.floatP.Index::idx_tPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a184c443785b715fd692b2b67aa71d687"></span>void <code class="sig-name descname">searchImpl_</code><span class="sig-paren">(</span>int <em>n</em>, <em class="property">const</em> float *<em>x</em>, int <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> = 0<br /></dt>
<dd><p>Overridden to actually perform the search All data is guaranteed to be resident on our device </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Protected Attributes</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF10ivfConfig_E">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF10ivfConfig_E"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF10ivfConfig_E"></span><span id="faiss::gpu::GpuIndexIVF::ivfConfig___GpuIndexIVFConfigC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a7e25b7ac093961ab0f58f1bc72f6ea43"></span><em class="property">const</em> <a class="reference internal" href="../file/GpuIndexIVF_8h.html#_CPPv4N5faiss3gpu17GpuIndexIVFConfigE" title="faiss::gpu::GpuIndexIVFConfig">GpuIndexIVFConfig</a> <code class="sig-name descname">ivfConfig_</code><br /></dt>
<dd><p>Our configuration options. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF10resources_E">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF10resources_E"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF10resources_E"></span><span id="faiss::gpu::GpuIndexIVF::resources___std::shared_ptr:GpuResources:"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a5f6bffd99291b2198ef601ef7e5c5a30"></span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <code class="sig-name descname">resources_</code><br /></dt>
<dd><p>Manages streams, cuBLAS handles and scratch memory for devices. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF7config_E">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF7config_E"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF7config_E"></span><span id="faiss::gpu::GpuIndexIVF::config___GpuIndexConfigC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1ab62da82105579618d1b89a810d61e3bd"></span><em class="property">const</em> <a class="reference internal" href="../file/GpuIndex_8h.html#_CPPv4N5faiss3gpu14GpuIndexConfigE" title="faiss::gpu::GpuIndexConfig">GpuIndexConfig</a> <code class="sig-name descname">config_</code><br /></dt>
<dd><p>Our configuration options. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF13minPagedSize_E">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF13minPagedSize_E"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF13minPagedSize_E"></span><span id="faiss::gpu::GpuIndexIVF::minPagedSize___s"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a32a08664fc4dca2f9405e07ea5bc206f"></span>size_t <code class="sig-name descname">minPagedSize_</code><br /></dt>
<dd><p>Size above which we page copies from the CPU to GPU. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Private Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF5init_Ev">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF5init_Ev"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF5init_Ev"></span><span id="faiss::gpu::GpuIndexIVF::init_"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1acfc0a0775791db1859571e442ad678a4"></span>void <code class="sig-name descname">init_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Shared initialization functions. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss3gpu17GpuIndexIVFConfigE">
<span id="_CPPv3N5faiss3gpu17GpuIndexIVFConfigE"></span><span id="_CPPv2N5faiss3gpu17GpuIndexIVFConfigE"></span><span id="faiss::gpu::GpuIndexIVFConfig"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexIVFConfig"></span><em class="property">struct </em><code class="sig-name descname">GpuIndexIVFConfig</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4N5faiss3gpuE" title="faiss::gpu">gpu</a>::<a class="reference internal" href="../file/GpuIndex_8h.html#_CPPv4N5faiss3gpu14GpuIndexConfigE" title="faiss::gpu::GpuIndexConfig">GpuIndexConfig</a><br /></dt>
<dd><p>Subclassed by <a class="reference internal" href="../struct/structfaiss_1_1gpu_1_1GpuIndexIVFFlatConfig.html#structfaiss_1_1gpu_1_1GpuIndexIVFFlatConfig"><span class="std std-ref">faiss::gpu::GpuIndexIVFFlatConfig</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1gpu_1_1GpuIndexIVFPQConfig.html#structfaiss_1_1gpu_1_1GpuIndexIVFPQConfig"><span class="std std-ref">faiss::gpu::GpuIndexIVFPQConfig</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizerConfig.html#structfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizerConfig"><span class="std std-ref">faiss::gpu::GpuIndexIVFScalarQuantizerConfig</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu17GpuIndexIVFConfig17GpuIndexIVFConfigEv">
<span id="_CPPv3N5faiss3gpu17GpuIndexIVFConfig17GpuIndexIVFConfigEv"></span><span id="_CPPv2N5faiss3gpu17GpuIndexIVFConfig17GpuIndexIVFConfigEv"></span><span id="faiss::gpu::GpuIndexIVFConfig::GpuIndexIVFConfig"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexIVFConfig_1afdedee94ebe4faf9cdfcabc50128f948"></span><code class="sig-name descname">GpuIndexIVFConfig</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuIndexIVFConfig14indicesOptionsE">
<span id="_CPPv3N5faiss3gpu17GpuIndexIVFConfig14indicesOptionsE"></span><span id="_CPPv2N5faiss3gpu17GpuIndexIVFConfig14indicesOptionsE"></span><span id="faiss::gpu::GpuIndexIVFConfig::indicesOptions__IndicesOptions"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexIVFConfig_1af432221761d48e4753f501208a60264d"></span><a class="reference internal" href="../file/GpuIndicesOptions_8h.html#_CPPv4N5faiss3gpu14IndicesOptionsE" title="faiss::gpu::IndicesOptions">IndicesOptions</a> <code class="sig-name descname">indicesOptions</code><br /></dt>
<dd><p><a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> storage options for the GPU. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuIndexIVFConfig10flatConfigE">
<span id="_CPPv3N5faiss3gpu17GpuIndexIVFConfig10flatConfigE"></span><span id="_CPPv2N5faiss3gpu17GpuIndexIVFConfig10flatConfigE"></span><span id="faiss::gpu::GpuIndexIVFConfig::flatConfig__GpuIndexFlatConfig"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexIVFConfig_1a6d357a9a67a2fed9c8e7b139712d30f6"></span><a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a> <code class="sig-name descname">flatConfig</code><br /></dt>
<dd><p>Configuration for the coarse quantizer object. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuIndexIVFConfig6deviceE">
<span id="_CPPv3N5faiss3gpu17GpuIndexIVFConfig6deviceE"></span><span id="_CPPv2N5faiss3gpu17GpuIndexIVFConfig6deviceE"></span><span id="faiss::gpu::GpuIndexIVFConfig::device__i"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexConfig_1aab05a0aa7b42feae7df4e556a52ead57"></span>int <code class="sig-name descname">device</code><br /></dt>
<dd><p>GPU device on which the index is resident. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuIndexIVFConfig11memorySpaceE">
<span id="_CPPv3N5faiss3gpu17GpuIndexIVFConfig11memorySpaceE"></span><span id="_CPPv2N5faiss3gpu17GpuIndexIVFConfig11memorySpaceE"></span><span id="faiss::gpu::GpuIndexIVFConfig::memorySpace__MemorySpace"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexConfig_1adf7c9461009108a9a433a077ab322d2e"></span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu11MemorySpaceE" title="faiss::gpu::MemorySpace">MemorySpace</a> <code class="sig-name descname">memorySpace</code><br /></dt>
<dd><p>What memory space to use for primary storage. On Pascal and above (CC 6+) architectures, allows GPUs to use more memory than is available on the GPU. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlatE">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlatE"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlatE"></span><span id="faiss::gpu::GpuIndexIVFFlat"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFFlat"></span><em class="property">class </em><code class="sig-name descname">GpuIndexIVFFlat</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4N5faiss3gpuE" title="faiss::gpu">gpu</a>::<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVF.html#_CPPv4N5faiss3gpu11GpuIndexIVFE" title="faiss::gpu::GpuIndexIVF">GpuIndexIVF</a><br /></dt>
<dd><em>#include &lt;GpuIndexIVFFlat.h&gt;</em><p>Wrapper around the GPU implementation that looks like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFFlat.html#structfaiss_1_1IndexIVFFlat"><span class="std std-ref">faiss::IndexIVFFlat</span></a> </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat5idx_tE">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat5idx_tE"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat5idx_tE"></span><span class="target" id="structfaiss_1_1Index_1ab64b96e821336c5b363d023386781d1d"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = int64_t<br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat11component_tE">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat11component_tE"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat11component_tE"></span><span class="target" id="structfaiss_1_1Index_1af317cb1e2ad0bd145f716f2243b693eb"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = float<br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat10distance_tE">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat10distance_tE"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat10distance_tE"></span><span class="target" id="structfaiss_1_1Index_1a1c60d7a12bf3ad27054963df8cccd93f"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = float<br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat15GpuIndexIVFFlatEP20GpuResourcesProviderPKN5faiss12IndexIVFFlatE21GpuIndexIVFFlatConfig">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat15GpuIndexIVFFlatEP20GpuResourcesProviderPKN5faiss12IndexIVFFlatE21GpuIndexIVFFlatConfig"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat15GpuIndexIVFFlatEP20GpuResourcesProviderPKN5faiss12IndexIVFFlatE21GpuIndexIVFFlatConfig"></span><span id="faiss::gpu::GpuIndexIVFFlat::GpuIndexIVFFlat__GpuResourcesProviderP.faiss::IndexIVFFlatCP.GpuIndexIVFFlatConfig"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFFlat_1a5122ad265cc49565b7b70f3149055f28"></span><code class="sig-name descname">GpuIndexIVFFlat</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a> *<em>provider</em>, <em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexIVFFlat_8h.html#_CPPv4N5faiss12IndexIVFFlatE" title="faiss::IndexIVFFlat">IndexIVFFlat</a> *<em>index</em>, <a class="reference internal" href="../file/GpuIndexIVFFlat_8h.html#_CPPv4N5faiss3gpu21GpuIndexIVFFlatConfigE" title="faiss::gpu::GpuIndexIVFFlatConfig">GpuIndexIVFFlatConfig</a> <em>config</em> = <a class="reference internal" href="../file/GpuIndexIVFFlat_8h.html#_CPPv4N5faiss3gpu21GpuIndexIVFFlatConfigE" title="faiss::gpu::GpuIndexIVFFlatConfig">GpuIndexIVFFlatConfig</a>()<span class="sig-paren">)</span><br /></dt>
<dd><p>Construct from a pre-existing <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFFlat.html#structfaiss_1_1IndexIVFFlat"><span class="std std-ref">faiss::IndexIVFFlat</span></a> instance, copying data over to the given GPU, if the input index is trained. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat15GpuIndexIVFFlatEP20GpuResourcesProvideriiN5faiss10MetricTypeE21GpuIndexIVFFlatConfig">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat15GpuIndexIVFFlatEP20GpuResourcesProvideriiN5faiss10MetricTypeE21GpuIndexIVFFlatConfig"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat15GpuIndexIVFFlatEP20GpuResourcesProvideriiN5faiss10MetricTypeE21GpuIndexIVFFlatConfig"></span><span id="faiss::gpu::GpuIndexIVFFlat::GpuIndexIVFFlat__GpuResourcesProviderP.i.i.faiss::MetricType.GpuIndexIVFFlatConfig"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFFlat_1aee6a23efdb20392c234309c85e02968a"></span><code class="sig-name descname">GpuIndexIVFFlat</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a> *<em>provider</em>, int <em>dims</em>, int <em>nlist</em>, <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <em>metric</em>, <a class="reference internal" href="../file/GpuIndexIVFFlat_8h.html#_CPPv4N5faiss3gpu21GpuIndexIVFFlatConfigE" title="faiss::gpu::GpuIndexIVFFlatConfig">GpuIndexIVFFlatConfig</a> <em>config</em> = <a class="reference internal" href="../file/GpuIndexIVFFlat_8h.html#_CPPv4N5faiss3gpu21GpuIndexIVFFlatConfigE" title="faiss::gpu::GpuIndexIVFFlatConfig">GpuIndexIVFFlatConfig</a>()<span class="sig-paren">)</span><br /></dt>
<dd><p>Constructs a new instance with an empty flat quantizer; the user provides the number of lists desired. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlatD0Ev">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlatD0Ev"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlatD0Ev"></span><span id="faiss::gpu::GpuIndexIVFFlat::~GpuIndexIVFFlat"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFFlat_1a828af7e75a88c22ca427ee1da982d3a1"></span><code class="sig-name descname">~GpuIndexIVFFlat</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat13reserveMemoryE6size_t">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat13reserveMemoryE6size_t"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat13reserveMemoryE6size_t"></span><span id="faiss::gpu::GpuIndexIVFFlat::reserveMemory__s"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFFlat_1a329d7734f1285788d10c1fbf1f88d72f"></span>void <code class="sig-name descname">reserveMemory</code><span class="sig-paren">(</span>size_t <em>numVecs</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Reserve GPU memory in our inverted lists for this number of vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat8copyFromEPKN5faiss12IndexIVFFlatE">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat8copyFromEPKN5faiss12IndexIVFFlatE"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat8copyFromEPKN5faiss12IndexIVFFlatE"></span><span id="faiss::gpu::GpuIndexIVFFlat::copyFrom__faiss::IndexIVFFlatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFFlat_1a96fd66c31c7e46b1549ed61d1b3476f3"></span>void <code class="sig-name descname">copyFrom</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexIVFFlat_8h.html#_CPPv4N5faiss12IndexIVFFlatE" title="faiss::IndexIVFFlat">IndexIVFFlat</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Initialize ourselves from the given CPU index; will overwrite all data in ourselves </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat6copyToEPN5faiss12IndexIVFFlatE">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat6copyToEPN5faiss12IndexIVFFlatE"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat6copyToEPN5faiss12IndexIVFFlatE"></span><span id="faiss::gpu::GpuIndexIVFFlat::copyTo__faiss::IndexIVFFlatPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFFlat_1a82e766abaeed6e3544c5f93a38b7a0ad"></span>void <code class="sig-name descname">copyTo</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexIVFFlat_8h.html#_CPPv4N5faiss12IndexIVFFlatE" title="faiss::IndexIVFFlat">IndexIVFFlat</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Copy ourselves to the given CPU index; will overwrite all data in the index instance </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat13reclaimMemoryEv">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat13reclaimMemoryEv"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat13reclaimMemoryEv"></span><span id="faiss::gpu::GpuIndexIVFFlat::reclaimMemory"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFFlat_1adaa727f3e951068501ebf381b001f3bd"></span>size_t <code class="sig-name descname">reclaimMemory</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>After adding vectors, one can call this to reclaim device memory to exactly the amount needed. Returns space reclaimed in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat5resetEv">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat5resetEv"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat5resetEv"></span><span id="faiss::gpu::GpuIndexIVFFlat::reset"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFFlat_1a88676a893e9b44041e7a52327d960b54"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Clears out all inverted lists, but retains the coarse centroid information. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat5trainEN5Index5idx_tEPKf">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat5trainEN5Index5idx_tEPKf"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat5trainEN5Index5idx_tEPKf"></span><span id="faiss::gpu::GpuIndexIVFFlat::train__Index::idx_t.floatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFFlat_1a3c5b3760acb01814892fe93c72f08304"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Trains the coarse quantizer based on the given vector data. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat13getListLengthEi">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat13getListLengthEi"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat13getListLengthEi"></span><span id="faiss::gpu::GpuIndexIVFFlat::getListLength__iC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFFlat_1ac02dc0f2ee1bdf5a58b56825e8c68543"></span>int <code class="sig-name descname">getListLength</code><span class="sig-paren">(</span>int <em>listId</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Returns the number of vectors present in a particular inverted list. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat17getListVectorDataEib">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat17getListVectorDataEib"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat17getListVectorDataEib"></span><span id="faiss::gpu::GpuIndexIVFFlat::getListVectorData__i.bC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFFlat_1aba46df335e651d3a2ea6283565e5a7c2"></span>std::vector&lt;uint8_t&gt; <code class="sig-name descname">getListVectorData</code><span class="sig-paren">(</span>int <em>listId</em>, bool <em>gpuFormat</em> = false<span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Return the encoded vector data contained in a particular inverted list, for debugging purposes. If gpuFormat is true, the data is returned as it is encoded in the GPU-side representation. Otherwise, it is converted to the CPU format. compliant format, while the native GPU format may differ. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat14getListIndicesEi">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat14getListIndicesEi"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat14getListIndicesEi"></span><span id="faiss::gpu::GpuIndexIVFFlat::getListIndices__iC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFFlat_1a30153a7564603d6419c411e256d3f6ed"></span>std::vector&lt;<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a>&gt; <code class="sig-name descname">getListIndices</code><span class="sig-paren">(</span>int <em>listId</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Return the vector indices contained in a particular inverted list, for debugging purposes. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat8copyFromEPKN5faiss8IndexIVFE">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat8copyFromEPKN5faiss8IndexIVFE"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat8copyFromEPKN5faiss8IndexIVFE"></span><span id="faiss::gpu::GpuIndexIVFFlat::copyFrom__faiss::IndexIVFCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a94c2c171f9a2d27085dea9101067bdf2"></span>void <code class="sig-name descname">copyFrom</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Copy what we need from the CPU equivalent. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat6copyToEPN5faiss8IndexIVFE">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat6copyToEPN5faiss8IndexIVFE"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat6copyToEPN5faiss8IndexIVFE"></span><span id="faiss::gpu::GpuIndexIVFFlat::copyTo__faiss::IndexIVFPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a9153ac747b50b454d85416edcf484bd3"></span>void <code class="sig-name descname">copyTo</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Copy what we have to the CPU equivalent. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat11getNumListsEv">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat11getNumListsEv"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat11getNumListsEv"></span><span id="faiss::gpu::GpuIndexIVFFlat::getNumListsC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a008b31e78482337f8ca9ae72d9815be0"></span>int <code class="sig-name descname">getNumLists</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the number of inverted lists we’re managing. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat12getQuantizerEv">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat12getQuantizerEv"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat12getQuantizerEv"></span><span id="faiss::gpu::GpuIndexIVFFlat::getQuantizer"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1ae8ede11bab8c6f2296aa797986006511"></span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlat.html#_CPPv4N5faiss3gpu12GpuIndexFlatE" title="faiss::gpu::GpuIndexFlat">GpuIndexFlat</a> *<code class="sig-name descname">getQuantizer</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Return the quantizer we’re using. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat12setNumProbesEi">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat12setNumProbesEi"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat12setNumProbesEi"></span><span id="faiss::gpu::GpuIndexIVFFlat::setNumProbes__i"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a1efac4b9801d57fa6d0085d6aed9c1f2"></span>void <code class="sig-name descname">setNumProbes</code><span class="sig-paren">(</span>int <em>nprobe</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Sets the number of list probes per query. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat12getNumProbesEv">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat12getNumProbesEv"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat12getNumProbesEv"></span><span id="faiss::gpu::GpuIndexIVFFlat::getNumProbesC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1aa231de06057f6f024679291fed7d8c3a"></span>int <code class="sig-name descname">getNumProbes</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns our current number of list probes per query. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat9getDeviceEv">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat9getDeviceEv"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat9getDeviceEv"></span><span id="faiss::gpu::GpuIndexIVFFlat::getDeviceC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1af4f02c713f639bd70e09af8afebd0f51"></span>int <code class="sig-name descname">getDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the device that this index is resident on. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat12getResourcesEv">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat12getResourcesEv"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat12getResourcesEv"></span><span id="faiss::gpu::GpuIndexIVFFlat::getResources"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a2eb235a51b0a70bdbc2c814a48a0917d"></span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <code class="sig-name descname">getResources</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns a reference to our <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuResources"><span class="std std-ref">GpuResources</span></a> object that manages memory, stream and handle resources on the GPU </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat16setMinPagingSizeE6size_t">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat16setMinPagingSizeE6size_t"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat16setMinPagingSizeE6size_t"></span><span id="faiss::gpu::GpuIndexIVFFlat::setMinPagingSize__s"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6c82cbea6b02cc996d634f822c1d310b"></span>void <code class="sig-name descname">setMinPagingSize</code><span class="sig-paren">(</span>size_t <em>size</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Set the minimum data size for searches (in MiB) for which we use CPU -&gt; GPU paging </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat16getMinPagingSizeEv">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat16getMinPagingSizeEv"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat16getMinPagingSizeEv"></span><span id="faiss::gpu::GpuIndexIVFFlat::getMinPagingSizeC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6402d93925d2a403dc187dc1a7aab1e3"></span>size_t <code class="sig-name descname">getMinPagingSize</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the current minimum data size for paged searches. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat3addEN5Index5idx_tEPKf">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat3addEN5Index5idx_tEPKf"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat3addEN5Index5idx_tEPKf"></span><span id="faiss::gpu::GpuIndexIVFFlat::add__Index::idx_t.floatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1ac6ac307f55a1b44dbf185e22c83b0a10"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code> can be resident on the CPU or any GPU; copies are performed as needed Handles paged adds if the add set is too large; calls addInternal_ </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat12add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat12add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat12add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVFFlat::add_with_ids__Index::idx_t.floatCP.Index::idx_tCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a47f6969fe60d82b8e3407557ba9eec88"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">ids</span></code> can be resident on the CPU or any GPU; copies are performed as needed Handles paged adds if the add set is too large; calls addInternal_ </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat6assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat6assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat6assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVFFlat::assign__Index::idx_t.floatCP.Index::idx_tP.Index::idx_tC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1ac108456e9c7cde162d77f64cc9c0dcdb"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">labels</span></code> can be resident on the CPU or any GPU; copies are performed as needed </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat6searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat6searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat6searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVFFlat::search__Index::idx_t.floatCP.Index::idx_t.floatP.Index::idx_tPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a4564ff946e4339156173b39449562971"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">distances</span></code> and <code class="docutils literal notranslate"><span class="pre">labels</span></code> can be resident on the CPU or any GPU; copies are performed as needed </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat16compute_residualEPKfPfN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat16compute_residualEPKfPfN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat16compute_residualEPKfPfN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVFFlat::compute_residual__floatCP.floatP.Index::idx_tC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a1c68659822d9e330a7737c8a6aaacae2"></span>void <code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, float *<em>residual</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>key</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Overridden to force GPU indices to provide their own GPU-friendly implementation </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat18compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat18compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat18compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVFFlat::compute_residual_n__Index::idx_t.floatCP.floatP.Index::idx_tCPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1aac69097d303830c3d48c4016c1e6a955"></span>void <code class="sig-name descname">compute_residual_n</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xs</em>, float *<em>residuals</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>keys</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Overridden to force GPU indices to provide their own GPU-friendly implementation </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat12range_searchE5idx_tPKffP17RangeSearchResult">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="faiss::gpu::GpuIndexIVFFlat::range_search__idx_t.floatCP.float.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1Index_1a23c23be6698f583402bde568eee00ad1"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFFlat.html#_CPPv4N5faiss3gpu15GpuIndexIVFFlat5idx_tE" title="faiss::gpu::GpuIndexIVFFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory).</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat10remove_idsERK10IDSelector"></span><span id="faiss::gpu::GpuIndexIVFFlat::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1Index_1ab70f7d0acb4a2f22857da3b17559ae82"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span><br /></dt>
<dd><p>removes IDs from the index. Not supported by all indexes. Returns the number of elements removed. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat11reconstructE5idx_tPf">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat11reconstructE5idx_tPf"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat11reconstructE5idx_tPf"></span><span id="faiss::gpu::GpuIndexIVFFlat::reconstruct__idx_t.floatPC"></span><span class="target" id="structfaiss_1_1Index_1afaf9673009f9fe5a53ed6db522a5f69c"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFFlat.html#_CPPv4N5faiss3gpu15GpuIndexIVFFlat5idx_tE" title="faiss::gpu::GpuIndexIVFFlat::idx_t">idx_t</a> <em>key</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Reconstruct a stored vector (or an approximation if lossy coding)</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: id of the vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat13reconstruct_nE5idx_t5idx_tPf">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat13reconstruct_nE5idx_t5idx_tPf"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat13reconstruct_nE5idx_t5idx_tPf"></span><span id="faiss::gpu::GpuIndexIVFFlat::reconstruct_n__idx_t.idx_t.floatPC"></span><span class="target" id="structfaiss_1_1Index_1ae7c0b683e1fd5c8770ea2b3e1a82ce7f"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFFlat.html#_CPPv4N5faiss3gpu15GpuIndexIVFFlat5idx_tE" title="faiss::gpu::GpuIndexIVFFlat::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFFlat.html#_CPPv4N5faiss3gpu15GpuIndexIVFFlat5idx_tE" title="faiss::gpu::GpuIndexIVFFlat::idx_t">idx_t</a> <em>ni</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Reconstruct vectors i0 to i0 + ni - 1</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size ni * d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="faiss::gpu::GpuIndexIVFFlat::search_and_reconstruct__idx_t.floatCP.idx_t.floatP.idx_tP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1a009874adf12440eb46396522ffd736cd"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFFlat.html#_CPPv4N5faiss3gpu15GpuIndexIVFFlat5idx_tE" title="faiss::gpu::GpuIndexIVFFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFFlat.html#_CPPv4N5faiss3gpu15GpuIndexIVFFlat5idx_tE" title="faiss::gpu::GpuIndexIVFFlat::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFFlat.html#_CPPv4N5faiss3gpu15GpuIndexIVFFlat5idx_tE" title="faiss::gpu::GpuIndexIVFFlat::idx_t">idx_t</a> *<em>labels</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>If there are not enough results for a query, the resulting arrays is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat21get_distance_computerEv">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat21get_distance_computerEv"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat21get_distance_computerEv"></span><span id="faiss::gpu::GpuIndexIVFFlat::get_distance_computerC"></span><span class="target" id="structfaiss_1_1Index_1ab53ef983521567c3dc3fee4543546e6a"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Get a DistanceComputer (defined in AuxIndexStructures) object for this kind of index.</p>
<p>DistanceComputer is implemented for indexes that support random access of their vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat12sa_code_sizeEv">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat12sa_code_sizeEv"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat12sa_code_sizeEv"></span><span id="faiss::gpu::GpuIndexIVFFlat::sa_code_sizeC"></span><span class="target" id="structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"></span>size_t <code class="sig-name descname">sa_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>size of the produced codes in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat9sa_encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::gpu::GpuIndexIVFFlat::sa_encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1Index_1a16770c0addc888b92deee089d6f97e7c"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFFlat.html#_CPPv4N5faiss3gpu15GpuIndexIVFFlat5idx_tE" title="faiss::gpu::GpuIndexIVFFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: output encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat9sa_decodeE5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="faiss::gpu::GpuIndexIVFFlat::sa_decode__idx_t.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1af39e4b00d097ac05dc9e31c52bfb9ed7"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFFlat.html#_CPPv4N5faiss3gpu15GpuIndexIVFFlat5idx_tE" title="faiss::gpu::GpuIndexIVFFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: input encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: output vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat2cpE">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat2cpE"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat2cpE"></span><span id="faiss::gpu::GpuIndexIVFFlat::cp__ClusteringParameters"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a520803e209b44c904b876d6b8dad23c9"></span><a class="reference internal" href="../file/Clustering_8h.html#_CPPv4N5faiss20ClusteringParametersE" title="faiss::ClusteringParameters">ClusteringParameters</a> <code class="sig-name descname">cp</code><br /></dt>
<dd><p>Exposing this like the CPU version for manipulation. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat5nlistE">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat5nlistE"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat5nlistE"></span><span id="faiss::gpu::GpuIndexIVFFlat::nlist__i"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a7d06649d5ae58b7a637a8b348d6f16b3"></span>int <code class="sig-name descname">nlist</code><br /></dt>
<dd><p>Exposing this like the CPU version for query. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat6nprobeE">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat6nprobeE"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat6nprobeE"></span><span id="faiss::gpu::GpuIndexIVFFlat::nprobe__i"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a83cdbddf42124d7f6c0d9ef232e0c558"></span>int <code class="sig-name descname">nprobe</code><br /></dt>
<dd><p>Exposing this like the CPU version for manipulation. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat9quantizerE">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat9quantizerE"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat9quantizerE"></span><span id="faiss::gpu::GpuIndexIVFFlat::quantizer__GpuIndexFlatP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1ac741fa8825e3ef533cbe9a45aa22a8fe"></span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlat.html#_CPPv4N5faiss3gpu12GpuIndexFlatE" title="faiss::gpu::GpuIndexFlat">GpuIndexFlat</a> *<code class="sig-name descname">quantizer</code><br /></dt>
<dd><p>Exposeing this like the CPU version for query. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat1dE">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat1dE"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat1dE"></span><span id="faiss::gpu::GpuIndexIVFFlat::d__i"></span><span class="target" id="structfaiss_1_1Index_1a2a002388d2c081c2dbab8508dcefe73d"></span>int <code class="sig-name descname">d</code><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat6ntotalE">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat6ntotalE"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat6ntotalE"></span><span id="faiss::gpu::GpuIndexIVFFlat::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1Index_1a6970683faa021b7a6f1a0865c0d4eccd"></span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFFlat.html#_CPPv4N5faiss3gpu15GpuIndexIVFFlat5idx_tE" title="faiss::gpu::GpuIndexIVFFlat::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat7verboseE">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat7verboseE"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat7verboseE"></span><span id="faiss::gpu::GpuIndexIVFFlat::verbose__b"></span><span class="target" id="structfaiss_1_1Index_1a5590d847c5c2b958affd2a05e58a6f23"></span>bool <code class="sig-name descname">verbose</code><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat10is_trainedE">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat10is_trainedE"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat10is_trainedE"></span><span id="faiss::gpu::GpuIndexIVFFlat::is_trained__b"></span><span class="target" id="structfaiss_1_1Index_1a6e92732617c4dbe364e7678dd8773a7f"></span>bool <code class="sig-name descname">is_trained</code><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat11metric_typeE">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat11metric_typeE"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat11metric_typeE"></span><span id="faiss::gpu::GpuIndexIVFFlat::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1Index_1a8e18f641854b2bde83ecff0a2f9a6f4e"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat10metric_argE">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat10metric_argE"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat10metric_argE"></span><span id="faiss::gpu::GpuIndexIVFFlat::metric_arg__float"></span><span class="target" id="structfaiss_1_1Index_1a6f60646d6877658ea4df05e0231ed232"></span>float <code class="sig-name descname">metric_arg</code><br /></dt>
<dd><p>argument of the metric type </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Protected Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat8addImpl_EiPKfPKN5Index5idx_tE">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat8addImpl_EiPKfPKN5Index5idx_tE"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat8addImpl_EiPKfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVFFlat::addImpl___i.floatCP.Index::idx_tCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFFlat_1ad45ecb52cc736f89378661007ea731d2"></span>void <code class="sig-name descname">addImpl_</code><span class="sig-paren">(</span>int <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Called from <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuIndex"><span class="std std-ref">GpuIndex</span></a> for add/add_with_ids. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat11searchImpl_EiPKfiPfPN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat11searchImpl_EiPKfiPfPN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat11searchImpl_EiPKfiPfPN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVFFlat::searchImpl___i.floatCP.i.floatP.Index::idx_tPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFFlat_1abc85b8bc2e42b7d399f9c2561ae14ad0"></span>void <code class="sig-name descname">searchImpl_</code><span class="sig-paren">(</span>int <em>n</em>, <em class="property">const</em> float *<em>x</em>, int <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Called from <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuIndex"><span class="std std-ref">GpuIndex</span></a> for search. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat8copyFromEPKN5faiss5IndexE">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat8copyFromEPKN5faiss5IndexE"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat8copyFromEPKN5faiss5IndexE"></span><span id="faiss::gpu::GpuIndexIVFFlat::copyFrom__faiss::IndexCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a9d1657c6a28e0581b3bc96699e12a2ab"></span>void <code class="sig-name descname">copyFrom</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Copy what we need from the CPU equivalent. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat6copyToEPN5faiss5IndexE">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat6copyToEPN5faiss5IndexE"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat6copyToEPN5faiss5IndexE"></span><span id="faiss::gpu::GpuIndexIVFFlat::copyTo__faiss::IndexPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6fa51de122f2cf2bd49727d909fb4b6c"></span>void <code class="sig-name descname">copyTo</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Copy what we have to the CPU equivalent. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat19addImplRequiresIDs_Ev">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat19addImplRequiresIDs_Ev"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat19addImplRequiresIDs_Ev"></span><span id="faiss::gpu::GpuIndexIVFFlat::addImplRequiresIDs_C"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a69731ab85d119127e1fe603757b28400"></span>bool <code class="sig-name descname">addImplRequiresIDs_</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Does addImpl_ require IDs? If so, and no IDs are provided, we will generate them sequentially based on the order in which the IDs are added </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat15trainQuantizer_EN5Index5idx_tEPKf">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat15trainQuantizer_EN5Index5idx_tEPKf"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat15trainQuantizer_EN5Index5idx_tEPKf"></span><span id="faiss::gpu::GpuIndexIVFFlat::trainQuantizer___Index::idx_t.floatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a8f64aaab0221591c82825c1594432c72"></span>void <code class="sig-name descname">trainQuantizer_</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Protected Attributes</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat14ivfFlatConfig_E">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat14ivfFlatConfig_E"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat14ivfFlatConfig_E"></span><span id="faiss::gpu::GpuIndexIVFFlat::ivfFlatConfig___GpuIndexIVFFlatConfigC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFFlat_1a71f9ce7e5fb21c46f1cd8271b166f894"></span><em class="property">const</em> <a class="reference internal" href="../file/GpuIndexIVFFlat_8h.html#_CPPv4N5faiss3gpu21GpuIndexIVFFlatConfigE" title="faiss::gpu::GpuIndexIVFFlatConfig">GpuIndexIVFFlatConfig</a> <code class="sig-name descname">ivfFlatConfig_</code><br /></dt>
<dd><p>Our configuration options. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat18reserveMemoryVecs_E">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat18reserveMemoryVecs_E"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat18reserveMemoryVecs_E"></span><span id="faiss::gpu::GpuIndexIVFFlat::reserveMemoryVecs___s"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFFlat_1a741492b6184da608332a782492e8a2a8"></span>size_t <code class="sig-name descname">reserveMemoryVecs_</code><br /></dt>
<dd><p>Desired inverted list memory reservation. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat6index_E">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat6index_E"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat6index_E"></span><span id="faiss::gpu::GpuIndexIVFFlat::index___std::unique_ptr:IVFFlat:"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFFlat_1a4d8d94d582aed54a5ffdc78896cb4b02"></span>std::unique_ptr&lt;IVFFlat&gt; <code class="sig-name descname">index_</code><br /></dt>
<dd><p>Instance that we own; contains the inverted list. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat10ivfConfig_E">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat10ivfConfig_E"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat10ivfConfig_E"></span><span id="faiss::gpu::GpuIndexIVFFlat::ivfConfig___GpuIndexIVFConfigC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a7e25b7ac093961ab0f58f1bc72f6ea43"></span><em class="property">const</em> <a class="reference internal" href="../file/GpuIndexIVF_8h.html#_CPPv4N5faiss3gpu17GpuIndexIVFConfigE" title="faiss::gpu::GpuIndexIVFConfig">GpuIndexIVFConfig</a> <code class="sig-name descname">ivfConfig_</code><br /></dt>
<dd><p>Our configuration options. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat10resources_E">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat10resources_E"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat10resources_E"></span><span id="faiss::gpu::GpuIndexIVFFlat::resources___std::shared_ptr:GpuResources:"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a5f6bffd99291b2198ef601ef7e5c5a30"></span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <code class="sig-name descname">resources_</code><br /></dt>
<dd><p>Manages streams, cuBLAS handles and scratch memory for devices. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat7config_E">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat7config_E"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat7config_E"></span><span id="faiss::gpu::GpuIndexIVFFlat::config___GpuIndexConfigC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1ab62da82105579618d1b89a810d61e3bd"></span><em class="property">const</em> <a class="reference internal" href="../file/GpuIndex_8h.html#_CPPv4N5faiss3gpu14GpuIndexConfigE" title="faiss::gpu::GpuIndexConfig">GpuIndexConfig</a> <code class="sig-name descname">config_</code><br /></dt>
<dd><p>Our configuration options. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat13minPagedSize_E">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat13minPagedSize_E"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat13minPagedSize_E"></span><span id="faiss::gpu::GpuIndexIVFFlat::minPagedSize___s"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a32a08664fc4dca2f9405e07ea5bc206f"></span>size_t <code class="sig-name descname">minPagedSize_</code><br /></dt>
<dd><p>Size above which we page copies from the CPU to GPU. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss3gpu21GpuIndexIVFFlatConfigE">
<span id="_CPPv3N5faiss3gpu21GpuIndexIVFFlatConfigE"></span><span id="_CPPv2N5faiss3gpu21GpuIndexIVFFlatConfigE"></span><span id="faiss::gpu::GpuIndexIVFFlatConfig"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexIVFFlatConfig"></span><em class="property">struct </em><code class="sig-name descname">GpuIndexIVFFlatConfig</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4N5faiss3gpuE" title="faiss::gpu">gpu</a>::<a class="reference internal" href="../file/GpuIndexIVF_8h.html#_CPPv4N5faiss3gpu17GpuIndexIVFConfigE" title="faiss::gpu::GpuIndexIVFConfig">GpuIndexIVFConfig</a><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu21GpuIndexIVFFlatConfig21GpuIndexIVFFlatConfigEv">
<span id="_CPPv3N5faiss3gpu21GpuIndexIVFFlatConfig21GpuIndexIVFFlatConfigEv"></span><span id="_CPPv2N5faiss3gpu21GpuIndexIVFFlatConfig21GpuIndexIVFFlatConfigEv"></span><span id="faiss::gpu::GpuIndexIVFFlatConfig::GpuIndexIVFFlatConfig"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexIVFFlatConfig_1adec18969ca176fe00f0a0691eb427793"></span><code class="sig-name descname">GpuIndexIVFFlatConfig</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu21GpuIndexIVFFlatConfig17interleavedLayoutE">
<span id="_CPPv3N5faiss3gpu21GpuIndexIVFFlatConfig17interleavedLayoutE"></span><span id="_CPPv2N5faiss3gpu21GpuIndexIVFFlatConfig17interleavedLayoutE"></span><span id="faiss::gpu::GpuIndexIVFFlatConfig::interleavedLayout__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexIVFFlatConfig_1a72d85abb66b5496a5ad1ff15ba2f8355"></span>bool <code class="sig-name descname">interleavedLayout</code><br /></dt>
<dd><p>Use the alternative memory layout for the IVF lists (currently the default) </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu21GpuIndexIVFFlatConfig14indicesOptionsE">
<span id="_CPPv3N5faiss3gpu21GpuIndexIVFFlatConfig14indicesOptionsE"></span><span id="_CPPv2N5faiss3gpu21GpuIndexIVFFlatConfig14indicesOptionsE"></span><span id="faiss::gpu::GpuIndexIVFFlatConfig::indicesOptions__IndicesOptions"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexIVFConfig_1af432221761d48e4753f501208a60264d"></span><a class="reference internal" href="../file/GpuIndicesOptions_8h.html#_CPPv4N5faiss3gpu14IndicesOptionsE" title="faiss::gpu::IndicesOptions">IndicesOptions</a> <code class="sig-name descname">indicesOptions</code><br /></dt>
<dd><p><a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> storage options for the GPU. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu21GpuIndexIVFFlatConfig10flatConfigE">
<span id="_CPPv3N5faiss3gpu21GpuIndexIVFFlatConfig10flatConfigE"></span><span id="_CPPv2N5faiss3gpu21GpuIndexIVFFlatConfig10flatConfigE"></span><span id="faiss::gpu::GpuIndexIVFFlatConfig::flatConfig__GpuIndexFlatConfig"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexIVFConfig_1a6d357a9a67a2fed9c8e7b139712d30f6"></span><a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a> <code class="sig-name descname">flatConfig</code><br /></dt>
<dd><p>Configuration for the coarse quantizer object. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu21GpuIndexIVFFlatConfig6deviceE">
<span id="_CPPv3N5faiss3gpu21GpuIndexIVFFlatConfig6deviceE"></span><span id="_CPPv2N5faiss3gpu21GpuIndexIVFFlatConfig6deviceE"></span><span id="faiss::gpu::GpuIndexIVFFlatConfig::device__i"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexConfig_1aab05a0aa7b42feae7df4e556a52ead57"></span>int <code class="sig-name descname">device</code><br /></dt>
<dd><p>GPU device on which the index is resident. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu21GpuIndexIVFFlatConfig11memorySpaceE">
<span id="_CPPv3N5faiss3gpu21GpuIndexIVFFlatConfig11memorySpaceE"></span><span id="_CPPv2N5faiss3gpu21GpuIndexIVFFlatConfig11memorySpaceE"></span><span id="faiss::gpu::GpuIndexIVFFlatConfig::memorySpace__MemorySpace"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexConfig_1adf7c9461009108a9a433a077ab322d2e"></span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu11MemorySpaceE" title="faiss::gpu::MemorySpace">MemorySpace</a> <code class="sig-name descname">memorySpace</code><br /></dt>
<dd><p>What memory space to use for primary storage. On Pascal and above (CC 6+) architectures, allows GPUs to use more memory than is available on the GPU. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQE">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQE"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQE"></span><span id="faiss::gpu::GpuIndexIVFPQ"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ"></span><em class="property">class </em><code class="sig-name descname">GpuIndexIVFPQ</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4N5faiss3gpuE" title="faiss::gpu">gpu</a>::<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVF.html#_CPPv4N5faiss3gpu11GpuIndexIVFE" title="faiss::gpu::GpuIndexIVF">GpuIndexIVF</a><br /></dt>
<dd><em>#include &lt;GpuIndexIVFPQ.h&gt;</em><p>IVFPQ index for the GPU. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ5idx_tE">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ5idx_tE"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ5idx_tE"></span><span class="target" id="structfaiss_1_1Index_1ab64b96e821336c5b363d023386781d1d"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = int64_t<br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ11component_tE">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ11component_tE"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ11component_tE"></span><span class="target" id="structfaiss_1_1Index_1af317cb1e2ad0bd145f716f2243b693eb"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = float<br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ10distance_tE">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ10distance_tE"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ10distance_tE"></span><span class="target" id="structfaiss_1_1Index_1a1c60d7a12bf3ad27054963df8cccd93f"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = float<br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ13GpuIndexIVFPQEP20GpuResourcesProviderPKN5faiss10IndexIVFPQE19GpuIndexIVFPQConfig">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ13GpuIndexIVFPQEP20GpuResourcesProviderPKN5faiss10IndexIVFPQE19GpuIndexIVFPQConfig"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ13GpuIndexIVFPQEP20GpuResourcesProviderPKN5faiss10IndexIVFPQE19GpuIndexIVFPQConfig"></span><span id="faiss::gpu::GpuIndexIVFPQ::GpuIndexIVFPQ__GpuResourcesProviderP.faiss::IndexIVFPQCP.GpuIndexIVFPQConfig"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1a2142eefa6986b939927418c989ae7668"></span><code class="sig-name descname">GpuIndexIVFPQ</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a> *<em>provider</em>, <em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexIVFPQ_8h.html#_CPPv4N5faiss10IndexIVFPQE" title="faiss::IndexIVFPQ">IndexIVFPQ</a> *<em>index</em>, <a class="reference internal" href="../file/GpuIndexIVFPQ_8h.html#_CPPv4N5faiss3gpu19GpuIndexIVFPQConfigE" title="faiss::gpu::GpuIndexIVFPQConfig">GpuIndexIVFPQConfig</a> <em>config</em> = <a class="reference internal" href="../file/GpuIndexIVFPQ_8h.html#_CPPv4N5faiss3gpu19GpuIndexIVFPQConfigE" title="faiss::gpu::GpuIndexIVFPQConfig">GpuIndexIVFPQConfig</a>()<span class="sig-paren">)</span><br /></dt>
<dd><p>Construct from a pre-existing <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFPQ.html#structfaiss_1_1IndexIVFPQ"><span class="std std-ref">faiss::IndexIVFPQ</span></a> instance, copying data over to the given GPU, if the input index is trained. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ13GpuIndexIVFPQEP20GpuResourcesProvideriiiiN5faiss10MetricTypeE19GpuIndexIVFPQConfig">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ13GpuIndexIVFPQEP20GpuResourcesProvideriiiiN5faiss10MetricTypeE19GpuIndexIVFPQConfig"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ13GpuIndexIVFPQEP20GpuResourcesProvideriiiiN5faiss10MetricTypeE19GpuIndexIVFPQConfig"></span><span id="faiss::gpu::GpuIndexIVFPQ::GpuIndexIVFPQ__GpuResourcesProviderP.i.i.i.i.faiss::MetricType.GpuIndexIVFPQConfig"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1a6160437520c5959dca4ae6b7201ec242"></span><code class="sig-name descname">GpuIndexIVFPQ</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a> *<em>provider</em>, int <em>dims</em>, int <em>nlist</em>, int <em>subQuantizers</em>, int <em>bitsPerCode</em>, <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <em>metric</em>, <a class="reference internal" href="../file/GpuIndexIVFPQ_8h.html#_CPPv4N5faiss3gpu19GpuIndexIVFPQConfigE" title="faiss::gpu::GpuIndexIVFPQConfig">GpuIndexIVFPQConfig</a> <em>config</em> = <a class="reference internal" href="../file/GpuIndexIVFPQ_8h.html#_CPPv4N5faiss3gpu19GpuIndexIVFPQConfigE" title="faiss::gpu::GpuIndexIVFPQConfig">GpuIndexIVFPQConfig</a>()<span class="sig-paren">)</span><br /></dt>
<dd><p>Construct an empty index. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQD0Ev">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQD0Ev"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQD0Ev"></span><span id="faiss::gpu::GpuIndexIVFPQ::~GpuIndexIVFPQ"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1ab105c6666af5697b4f1b3cb99a1f7bf6"></span><code class="sig-name descname">~GpuIndexIVFPQ</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ8copyFromEPKN5faiss10IndexIVFPQE">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ8copyFromEPKN5faiss10IndexIVFPQE"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ8copyFromEPKN5faiss10IndexIVFPQE"></span><span id="faiss::gpu::GpuIndexIVFPQ::copyFrom__faiss::IndexIVFPQCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1a8d48f79af9080b55706050244fc24f0e"></span>void <code class="sig-name descname">copyFrom</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexIVFPQ_8h.html#_CPPv4N5faiss10IndexIVFPQE" title="faiss::IndexIVFPQ">IndexIVFPQ</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Reserve space on the GPU for the inverted lists for <code class="docutils literal notranslate"><span class="pre">num</span></code> vectors, assumed equally distributed among Initialize ourselves from the given CPU index; will overwrite all data in ourselves </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ6copyToEPN5faiss10IndexIVFPQE">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ6copyToEPN5faiss10IndexIVFPQE"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ6copyToEPN5faiss10IndexIVFPQE"></span><span id="faiss::gpu::GpuIndexIVFPQ::copyTo__faiss::IndexIVFPQPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1abdea07beafa14bb3d7fe9ad2c8dc34df"></span>void <code class="sig-name descname">copyTo</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexIVFPQ_8h.html#_CPPv4N5faiss10IndexIVFPQE" title="faiss::IndexIVFPQ">IndexIVFPQ</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Copy ourselves to the given CPU index; will overwrite all data in the index instance </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ13reserveMemoryE6size_t">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ13reserveMemoryE6size_t"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ13reserveMemoryE6size_t"></span><span id="faiss::gpu::GpuIndexIVFPQ::reserveMemory__s"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1a4e7d62e21f7e23fa4e94c69131389eea"></span>void <code class="sig-name descname">reserveMemory</code><span class="sig-paren">(</span>size_t <em>numVecs</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Reserve GPU memory in our inverted lists for this number of vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ19setPrecomputedCodesEb">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ19setPrecomputedCodesEb"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ19setPrecomputedCodesEb"></span><span id="faiss::gpu::GpuIndexIVFPQ::setPrecomputedCodes__b"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1afda2894c0ce520e0d3d06eeca5ed5f0c"></span>void <code class="sig-name descname">setPrecomputedCodes</code><span class="sig-paren">(</span>bool <em>enable</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Enable or disable pre-computed codes. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ19getPrecomputedCodesEv">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ19getPrecomputedCodesEv"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ19getPrecomputedCodesEv"></span><span id="faiss::gpu::GpuIndexIVFPQ::getPrecomputedCodesC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1a518ebeefff55ed18c217d3c824f25676"></span>bool <code class="sig-name descname">getPrecomputedCodes</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Are pre-computed codes enabled? </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ19getNumSubQuantizersEv">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ19getNumSubQuantizersEv"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ19getNumSubQuantizersEv"></span><span id="faiss::gpu::GpuIndexIVFPQ::getNumSubQuantizersC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1a7ed87c230b75e0d859704a7d5b9daead"></span>int <code class="sig-name descname">getNumSubQuantizers</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Return the number of sub-quantizers we are using. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ14getBitsPerCodeEv">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ14getBitsPerCodeEv"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ14getBitsPerCodeEv"></span><span id="faiss::gpu::GpuIndexIVFPQ::getBitsPerCodeC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1a0fa38b70f5a2bc7e6e359b47b4c1e73c"></span>int <code class="sig-name descname">getBitsPerCode</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Return the number of bits per PQ code. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ27getCentroidsPerSubQuantizerEv">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ27getCentroidsPerSubQuantizerEv"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ27getCentroidsPerSubQuantizerEv"></span><span id="faiss::gpu::GpuIndexIVFPQ::getCentroidsPerSubQuantizerC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1a7d8e89e73eeb7a936c144f28e613de23"></span>int <code class="sig-name descname">getCentroidsPerSubQuantizer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Return the number of centroids per PQ code (2^bits per code) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ13reclaimMemoryEv">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ13reclaimMemoryEv"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ13reclaimMemoryEv"></span><span id="faiss::gpu::GpuIndexIVFPQ::reclaimMemory"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1a83831088d9593f753560965172ccb0a0"></span>size_t <code class="sig-name descname">reclaimMemory</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>After adding vectors, one can call this to reclaim device memory to exactly the amount needed. Returns space reclaimed in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ5resetEv">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ5resetEv"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ5resetEv"></span><span id="faiss::gpu::GpuIndexIVFPQ::reset"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1a3a43a70461e09ef87bdb7b48ec420dd2"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Clears out all inverted lists, but retains the coarse and product centroid information </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ5trainEN5Index5idx_tEPKf">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ5trainEN5Index5idx_tEPKf"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ5trainEN5Index5idx_tEPKf"></span><span id="faiss::gpu::GpuIndexIVFPQ::train__Index::idx_t.floatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1ac4814acafa4bc340a4c4bdcafd469b56"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Trains the coarse and product quantizer based on the given vector data. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ13getListLengthEi">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ13getListLengthEi"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ13getListLengthEi"></span><span id="faiss::gpu::GpuIndexIVFPQ::getListLength__iC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1ae9b275308a633114cf2e8a005b42bc08"></span>int <code class="sig-name descname">getListLength</code><span class="sig-paren">(</span>int <em>listId</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Returns the number of vectors present in a particular inverted list. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ17getListVectorDataEib">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ17getListVectorDataEib"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ17getListVectorDataEib"></span><span id="faiss::gpu::GpuIndexIVFPQ::getListVectorData__i.bC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1ab2ce111a45fe511a4bcc807c5b84c8f9"></span>std::vector&lt;uint8_t&gt; <code class="sig-name descname">getListVectorData</code><span class="sig-paren">(</span>int <em>listId</em>, bool <em>gpuFormat</em> = false<span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Return the encoded vector data contained in a particular inverted list, for debugging purposes. If gpuFormat is true, the data is returned as it is encoded in the GPU-side representation. Otherwise, it is converted to the CPU format. compliant format, while the native GPU format may differ. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ14getListIndicesEi">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ14getListIndicesEi"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ14getListIndicesEi"></span><span id="faiss::gpu::GpuIndexIVFPQ::getListIndices__iC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1a62eddda61a10b790541ec1efe97a249d"></span>std::vector&lt;<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a>&gt; <code class="sig-name descname">getListIndices</code><span class="sig-paren">(</span>int <em>listId</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Return the vector indices contained in a particular inverted list, for debugging purposes. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ8copyFromEPKN5faiss8IndexIVFE">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ8copyFromEPKN5faiss8IndexIVFE"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ8copyFromEPKN5faiss8IndexIVFE"></span><span id="faiss::gpu::GpuIndexIVFPQ::copyFrom__faiss::IndexIVFCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a94c2c171f9a2d27085dea9101067bdf2"></span>void <code class="sig-name descname">copyFrom</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Copy what we need from the CPU equivalent. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ6copyToEPN5faiss8IndexIVFE">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ6copyToEPN5faiss8IndexIVFE"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ6copyToEPN5faiss8IndexIVFE"></span><span id="faiss::gpu::GpuIndexIVFPQ::copyTo__faiss::IndexIVFPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a9153ac747b50b454d85416edcf484bd3"></span>void <code class="sig-name descname">copyTo</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Copy what we have to the CPU equivalent. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ11getNumListsEv">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ11getNumListsEv"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ11getNumListsEv"></span><span id="faiss::gpu::GpuIndexIVFPQ::getNumListsC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a008b31e78482337f8ca9ae72d9815be0"></span>int <code class="sig-name descname">getNumLists</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the number of inverted lists we’re managing. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ12getQuantizerEv">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ12getQuantizerEv"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ12getQuantizerEv"></span><span id="faiss::gpu::GpuIndexIVFPQ::getQuantizer"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1ae8ede11bab8c6f2296aa797986006511"></span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlat.html#_CPPv4N5faiss3gpu12GpuIndexFlatE" title="faiss::gpu::GpuIndexFlat">GpuIndexFlat</a> *<code class="sig-name descname">getQuantizer</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Return the quantizer we’re using. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ12setNumProbesEi">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ12setNumProbesEi"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ12setNumProbesEi"></span><span id="faiss::gpu::GpuIndexIVFPQ::setNumProbes__i"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a1efac4b9801d57fa6d0085d6aed9c1f2"></span>void <code class="sig-name descname">setNumProbes</code><span class="sig-paren">(</span>int <em>nprobe</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Sets the number of list probes per query. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ12getNumProbesEv">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ12getNumProbesEv"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ12getNumProbesEv"></span><span id="faiss::gpu::GpuIndexIVFPQ::getNumProbesC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1aa231de06057f6f024679291fed7d8c3a"></span>int <code class="sig-name descname">getNumProbes</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns our current number of list probes per query. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ9getDeviceEv">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ9getDeviceEv"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ9getDeviceEv"></span><span id="faiss::gpu::GpuIndexIVFPQ::getDeviceC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1af4f02c713f639bd70e09af8afebd0f51"></span>int <code class="sig-name descname">getDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the device that this index is resident on. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ12getResourcesEv">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ12getResourcesEv"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ12getResourcesEv"></span><span id="faiss::gpu::GpuIndexIVFPQ::getResources"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a2eb235a51b0a70bdbc2c814a48a0917d"></span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <code class="sig-name descname">getResources</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns a reference to our <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuResources"><span class="std std-ref">GpuResources</span></a> object that manages memory, stream and handle resources on the GPU </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ16setMinPagingSizeE6size_t">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ16setMinPagingSizeE6size_t"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ16setMinPagingSizeE6size_t"></span><span id="faiss::gpu::GpuIndexIVFPQ::setMinPagingSize__s"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6c82cbea6b02cc996d634f822c1d310b"></span>void <code class="sig-name descname">setMinPagingSize</code><span class="sig-paren">(</span>size_t <em>size</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Set the minimum data size for searches (in MiB) for which we use CPU -&gt; GPU paging </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ16getMinPagingSizeEv">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ16getMinPagingSizeEv"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ16getMinPagingSizeEv"></span><span id="faiss::gpu::GpuIndexIVFPQ::getMinPagingSizeC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6402d93925d2a403dc187dc1a7aab1e3"></span>size_t <code class="sig-name descname">getMinPagingSize</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the current minimum data size for paged searches. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ3addEN5Index5idx_tEPKf">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ3addEN5Index5idx_tEPKf"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ3addEN5Index5idx_tEPKf"></span><span id="faiss::gpu::GpuIndexIVFPQ::add__Index::idx_t.floatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1ac6ac307f55a1b44dbf185e22c83b0a10"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code> can be resident on the CPU or any GPU; copies are performed as needed Handles paged adds if the add set is too large; calls addInternal_ </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ12add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ12add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ12add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVFPQ::add_with_ids__Index::idx_t.floatCP.Index::idx_tCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a47f6969fe60d82b8e3407557ba9eec88"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">ids</span></code> can be resident on the CPU or any GPU; copies are performed as needed Handles paged adds if the add set is too large; calls addInternal_ </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ6assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ6assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ6assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVFPQ::assign__Index::idx_t.floatCP.Index::idx_tP.Index::idx_tC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1ac108456e9c7cde162d77f64cc9c0dcdb"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">labels</span></code> can be resident on the CPU or any GPU; copies are performed as needed </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ6searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ6searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ6searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVFPQ::search__Index::idx_t.floatCP.Index::idx_t.floatP.Index::idx_tPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a4564ff946e4339156173b39449562971"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">distances</span></code> and <code class="docutils literal notranslate"><span class="pre">labels</span></code> can be resident on the CPU or any GPU; copies are performed as needed </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ16compute_residualEPKfPfN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ16compute_residualEPKfPfN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ16compute_residualEPKfPfN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVFPQ::compute_residual__floatCP.floatP.Index::idx_tC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a1c68659822d9e330a7737c8a6aaacae2"></span>void <code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, float *<em>residual</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>key</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Overridden to force GPU indices to provide their own GPU-friendly implementation </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ18compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ18compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ18compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVFPQ::compute_residual_n__Index::idx_t.floatCP.floatP.Index::idx_tCPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1aac69097d303830c3d48c4016c1e6a955"></span>void <code class="sig-name descname">compute_residual_n</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xs</em>, float *<em>residuals</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>keys</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Overridden to force GPU indices to provide their own GPU-friendly implementation </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ12range_searchE5idx_tPKffP17RangeSearchResult">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="faiss::gpu::GpuIndexIVFPQ::range_search__idx_t.floatCP.float.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1Index_1a23c23be6698f583402bde568eee00ad1"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFPQ.html#_CPPv4N5faiss3gpu13GpuIndexIVFPQ5idx_tE" title="faiss::gpu::GpuIndexIVFPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory).</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ10remove_idsERK10IDSelector"></span><span id="faiss::gpu::GpuIndexIVFPQ::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1Index_1ab70f7d0acb4a2f22857da3b17559ae82"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span><br /></dt>
<dd><p>removes IDs from the index. Not supported by all indexes. Returns the number of elements removed. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ11reconstructE5idx_tPf">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ11reconstructE5idx_tPf"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ11reconstructE5idx_tPf"></span><span id="faiss::gpu::GpuIndexIVFPQ::reconstruct__idx_t.floatPC"></span><span class="target" id="structfaiss_1_1Index_1afaf9673009f9fe5a53ed6db522a5f69c"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFPQ.html#_CPPv4N5faiss3gpu13GpuIndexIVFPQ5idx_tE" title="faiss::gpu::GpuIndexIVFPQ::idx_t">idx_t</a> <em>key</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Reconstruct a stored vector (or an approximation if lossy coding)</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: id of the vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ13reconstruct_nE5idx_t5idx_tPf">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ13reconstruct_nE5idx_t5idx_tPf"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ13reconstruct_nE5idx_t5idx_tPf"></span><span id="faiss::gpu::GpuIndexIVFPQ::reconstruct_n__idx_t.idx_t.floatPC"></span><span class="target" id="structfaiss_1_1Index_1ae7c0b683e1fd5c8770ea2b3e1a82ce7f"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFPQ.html#_CPPv4N5faiss3gpu13GpuIndexIVFPQ5idx_tE" title="faiss::gpu::GpuIndexIVFPQ::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFPQ.html#_CPPv4N5faiss3gpu13GpuIndexIVFPQ5idx_tE" title="faiss::gpu::GpuIndexIVFPQ::idx_t">idx_t</a> <em>ni</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Reconstruct vectors i0 to i0 + ni - 1</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size ni * d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="faiss::gpu::GpuIndexIVFPQ::search_and_reconstruct__idx_t.floatCP.idx_t.floatP.idx_tP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1a009874adf12440eb46396522ffd736cd"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFPQ.html#_CPPv4N5faiss3gpu13GpuIndexIVFPQ5idx_tE" title="faiss::gpu::GpuIndexIVFPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFPQ.html#_CPPv4N5faiss3gpu13GpuIndexIVFPQ5idx_tE" title="faiss::gpu::GpuIndexIVFPQ::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFPQ.html#_CPPv4N5faiss3gpu13GpuIndexIVFPQ5idx_tE" title="faiss::gpu::GpuIndexIVFPQ::idx_t">idx_t</a> *<em>labels</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>If there are not enough results for a query, the resulting arrays is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ21get_distance_computerEv">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ21get_distance_computerEv"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ21get_distance_computerEv"></span><span id="faiss::gpu::GpuIndexIVFPQ::get_distance_computerC"></span><span class="target" id="structfaiss_1_1Index_1ab53ef983521567c3dc3fee4543546e6a"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Get a DistanceComputer (defined in AuxIndexStructures) object for this kind of index.</p>
<p>DistanceComputer is implemented for indexes that support random access of their vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ12sa_code_sizeEv">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ12sa_code_sizeEv"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ12sa_code_sizeEv"></span><span id="faiss::gpu::GpuIndexIVFPQ::sa_code_sizeC"></span><span class="target" id="structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"></span>size_t <code class="sig-name descname">sa_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>size of the produced codes in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ9sa_encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::gpu::GpuIndexIVFPQ::sa_encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1Index_1a16770c0addc888b92deee089d6f97e7c"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFPQ.html#_CPPv4N5faiss3gpu13GpuIndexIVFPQ5idx_tE" title="faiss::gpu::GpuIndexIVFPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: output encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ9sa_decodeE5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="faiss::gpu::GpuIndexIVFPQ::sa_decode__idx_t.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1af39e4b00d097ac05dc9e31c52bfb9ed7"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFPQ.html#_CPPv4N5faiss3gpu13GpuIndexIVFPQ5idx_tE" title="faiss::gpu::GpuIndexIVFPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: input encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: output vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ2cpE">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ2cpE"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ2cpE"></span><span id="faiss::gpu::GpuIndexIVFPQ::cp__ClusteringParameters"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a520803e209b44c904b876d6b8dad23c9"></span><a class="reference internal" href="../file/Clustering_8h.html#_CPPv4N5faiss20ClusteringParametersE" title="faiss::ClusteringParameters">ClusteringParameters</a> <code class="sig-name descname">cp</code><br /></dt>
<dd><p>Exposing this like the CPU version for manipulation. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ5nlistE">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ5nlistE"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ5nlistE"></span><span id="faiss::gpu::GpuIndexIVFPQ::nlist__i"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a7d06649d5ae58b7a637a8b348d6f16b3"></span>int <code class="sig-name descname">nlist</code><br /></dt>
<dd><p>Exposing this like the CPU version for query. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ6nprobeE">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ6nprobeE"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ6nprobeE"></span><span id="faiss::gpu::GpuIndexIVFPQ::nprobe__i"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a83cdbddf42124d7f6c0d9ef232e0c558"></span>int <code class="sig-name descname">nprobe</code><br /></dt>
<dd><p>Exposing this like the CPU version for manipulation. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ9quantizerE">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ9quantizerE"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ9quantizerE"></span><span id="faiss::gpu::GpuIndexIVFPQ::quantizer__GpuIndexFlatP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1ac741fa8825e3ef533cbe9a45aa22a8fe"></span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlat.html#_CPPv4N5faiss3gpu12GpuIndexFlatE" title="faiss::gpu::GpuIndexFlat">GpuIndexFlat</a> *<code class="sig-name descname">quantizer</code><br /></dt>
<dd><p>Exposeing this like the CPU version for query. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ1dE">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ1dE"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ1dE"></span><span id="faiss::gpu::GpuIndexIVFPQ::d__i"></span><span class="target" id="structfaiss_1_1Index_1a2a002388d2c081c2dbab8508dcefe73d"></span>int <code class="sig-name descname">d</code><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ6ntotalE">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ6ntotalE"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ6ntotalE"></span><span id="faiss::gpu::GpuIndexIVFPQ::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1Index_1a6970683faa021b7a6f1a0865c0d4eccd"></span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFPQ.html#_CPPv4N5faiss3gpu13GpuIndexIVFPQ5idx_tE" title="faiss::gpu::GpuIndexIVFPQ::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ7verboseE">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ7verboseE"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ7verboseE"></span><span id="faiss::gpu::GpuIndexIVFPQ::verbose__b"></span><span class="target" id="structfaiss_1_1Index_1a5590d847c5c2b958affd2a05e58a6f23"></span>bool <code class="sig-name descname">verbose</code><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ10is_trainedE">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ10is_trainedE"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ10is_trainedE"></span><span id="faiss::gpu::GpuIndexIVFPQ::is_trained__b"></span><span class="target" id="structfaiss_1_1Index_1a6e92732617c4dbe364e7678dd8773a7f"></span>bool <code class="sig-name descname">is_trained</code><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ11metric_typeE">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ11metric_typeE"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ11metric_typeE"></span><span id="faiss::gpu::GpuIndexIVFPQ::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1Index_1a8e18f641854b2bde83ecff0a2f9a6f4e"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ10metric_argE">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ10metric_argE"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ10metric_argE"></span><span id="faiss::gpu::GpuIndexIVFPQ::metric_arg__float"></span><span class="target" id="structfaiss_1_1Index_1a6f60646d6877658ea4df05e0231ed232"></span>float <code class="sig-name descname">metric_arg</code><br /></dt>
<dd><p>argument of the metric type </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Protected Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ8addImpl_EiPKfPKN5Index5idx_tE">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ8addImpl_EiPKfPKN5Index5idx_tE"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ8addImpl_EiPKfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVFPQ::addImpl___i.floatCP.Index::idx_tCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1aa0468cf70921073b3ba798fe753531eb"></span>void <code class="sig-name descname">addImpl_</code><span class="sig-paren">(</span>int <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Called from <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuIndex"><span class="std std-ref">GpuIndex</span></a> for add/add_with_ids. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ11searchImpl_EiPKfiPfPN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ11searchImpl_EiPKfiPfPN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ11searchImpl_EiPKfiPfPN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVFPQ::searchImpl___i.floatCP.i.floatP.Index::idx_tPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1a73a06501e87117e5f620bb07d7c1e54d"></span>void <code class="sig-name descname">searchImpl_</code><span class="sig-paren">(</span>int <em>n</em>, <em class="property">const</em> float *<em>x</em>, int <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Called from <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuIndex"><span class="std std-ref">GpuIndex</span></a> for search. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ15verifySettings_Ev">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ15verifySettings_Ev"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ15verifySettings_Ev"></span><span id="faiss::gpu::GpuIndexIVFPQ::verifySettings_C"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1a93a5cdb61826376c8d4d8698d7a3ccc8"></span>void <code class="sig-name descname">verifySettings_</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Throws errors if configuration settings are improper. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ23trainResidualQuantizer_EN5Index5idx_tEPKf">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ23trainResidualQuantizer_EN5Index5idx_tEPKf"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ23trainResidualQuantizer_EN5Index5idx_tEPKf"></span><span id="faiss::gpu::GpuIndexIVFPQ::trainResidualQuantizer___Index::idx_t.floatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1a9252f1f86146658759fa0d0077b67dce"></span>void <code class="sig-name descname">trainResidualQuantizer_</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Trains the PQ quantizer based on the given vector data. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ8copyFromEPKN5faiss5IndexE">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ8copyFromEPKN5faiss5IndexE"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ8copyFromEPKN5faiss5IndexE"></span><span id="faiss::gpu::GpuIndexIVFPQ::copyFrom__faiss::IndexCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a9d1657c6a28e0581b3bc96699e12a2ab"></span>void <code class="sig-name descname">copyFrom</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Copy what we need from the CPU equivalent. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ6copyToEPN5faiss5IndexE">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ6copyToEPN5faiss5IndexE"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ6copyToEPN5faiss5IndexE"></span><span id="faiss::gpu::GpuIndexIVFPQ::copyTo__faiss::IndexPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6fa51de122f2cf2bd49727d909fb4b6c"></span>void <code class="sig-name descname">copyTo</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Copy what we have to the CPU equivalent. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ19addImplRequiresIDs_Ev">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ19addImplRequiresIDs_Ev"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ19addImplRequiresIDs_Ev"></span><span id="faiss::gpu::GpuIndexIVFPQ::addImplRequiresIDs_C"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a69731ab85d119127e1fe603757b28400"></span>bool <code class="sig-name descname">addImplRequiresIDs_</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Does addImpl_ require IDs? If so, and no IDs are provided, we will generate them sequentially based on the order in which the IDs are added </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ15trainQuantizer_EN5Index5idx_tEPKf">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ15trainQuantizer_EN5Index5idx_tEPKf"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ15trainQuantizer_EN5Index5idx_tEPKf"></span><span id="faiss::gpu::GpuIndexIVFPQ::trainQuantizer___Index::idx_t.floatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a8f64aaab0221591c82825c1594432c72"></span>void <code class="sig-name descname">trainQuantizer_</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Protected Attributes</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ12ivfpqConfig_E">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ12ivfpqConfig_E"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ12ivfpqConfig_E"></span><span id="faiss::gpu::GpuIndexIVFPQ::ivfpqConfig___GpuIndexIVFPQConfigC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1a34e191c9fa03320f083ca06155faa1a9"></span><em class="property">const</em> <a class="reference internal" href="../file/GpuIndexIVFPQ_8h.html#_CPPv4N5faiss3gpu19GpuIndexIVFPQConfigE" title="faiss::gpu::GpuIndexIVFPQConfig">GpuIndexIVFPQConfig</a> <code class="sig-name descname">ivfpqConfig_</code><br /></dt>
<dd><p>Our configuration options that we were initialized with. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ21usePrecomputedTables_E">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ21usePrecomputedTables_E"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ21usePrecomputedTables_E"></span><span id="faiss::gpu::GpuIndexIVFPQ::usePrecomputedTables___b"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1ae687f3d1b19bc2da4864ececf84b944b"></span>bool <code class="sig-name descname">usePrecomputedTables_</code><br /></dt>
<dd><p>Runtime override: whether or not we use precomputed tables. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ14subQuantizers_E">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ14subQuantizers_E"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ14subQuantizers_E"></span><span id="faiss::gpu::GpuIndexIVFPQ::subQuantizers___i"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1a1e0d550a362813a21de6af150ab67b7f"></span>int <code class="sig-name descname">subQuantizers_</code><br /></dt>
<dd><p>Number of sub-quantizers per encoded vector. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ12bitsPerCode_E">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ12bitsPerCode_E"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ12bitsPerCode_E"></span><span id="faiss::gpu::GpuIndexIVFPQ::bitsPerCode___i"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1a56a4264e54409db885f439a06501ef11"></span>int <code class="sig-name descname">bitsPerCode_</code><br /></dt>
<dd><p>Bits per sub-quantizer code. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ18reserveMemoryVecs_E">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ18reserveMemoryVecs_E"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ18reserveMemoryVecs_E"></span><span id="faiss::gpu::GpuIndexIVFPQ::reserveMemoryVecs___s"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1a145c8862f7e7ffd3b062a0ca38d6c6ec"></span>size_t <code class="sig-name descname">reserveMemoryVecs_</code><br /></dt>
<dd><p>Desired inverted list memory reservation. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ6index_E">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ6index_E"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ6index_E"></span><span id="faiss::gpu::GpuIndexIVFPQ::index___std::unique_ptr:IVFPQ:"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1aee2cdc21caa1cdac1e7973c5904ea091"></span>std::unique_ptr&lt;IVFPQ&gt; <code class="sig-name descname">index_</code><br /></dt>
<dd><p>The product quantizer instance that we own; contains the inverted lists </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ10ivfConfig_E">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ10ivfConfig_E"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ10ivfConfig_E"></span><span id="faiss::gpu::GpuIndexIVFPQ::ivfConfig___GpuIndexIVFConfigC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a7e25b7ac093961ab0f58f1bc72f6ea43"></span><em class="property">const</em> <a class="reference internal" href="../file/GpuIndexIVF_8h.html#_CPPv4N5faiss3gpu17GpuIndexIVFConfigE" title="faiss::gpu::GpuIndexIVFConfig">GpuIndexIVFConfig</a> <code class="sig-name descname">ivfConfig_</code><br /></dt>
<dd><p>Our configuration options. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ10resources_E">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ10resources_E"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ10resources_E"></span><span id="faiss::gpu::GpuIndexIVFPQ::resources___std::shared_ptr:GpuResources:"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a5f6bffd99291b2198ef601ef7e5c5a30"></span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <code class="sig-name descname">resources_</code><br /></dt>
<dd><p>Manages streams, cuBLAS handles and scratch memory for devices. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ7config_E">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ7config_E"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ7config_E"></span><span id="faiss::gpu::GpuIndexIVFPQ::config___GpuIndexConfigC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1ab62da82105579618d1b89a810d61e3bd"></span><em class="property">const</em> <a class="reference internal" href="../file/GpuIndex_8h.html#_CPPv4N5faiss3gpu14GpuIndexConfigE" title="faiss::gpu::GpuIndexConfig">GpuIndexConfig</a> <code class="sig-name descname">config_</code><br /></dt>
<dd><p>Our configuration options. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ13minPagedSize_E">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ13minPagedSize_E"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ13minPagedSize_E"></span><span id="faiss::gpu::GpuIndexIVFPQ::minPagedSize___s"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a32a08664fc4dca2f9405e07ea5bc206f"></span>size_t <code class="sig-name descname">minPagedSize_</code><br /></dt>
<dd><p>Size above which we page copies from the CPU to GPU. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss3gpu19GpuIndexIVFPQConfigE">
<span id="_CPPv3N5faiss3gpu19GpuIndexIVFPQConfigE"></span><span id="_CPPv2N5faiss3gpu19GpuIndexIVFPQConfigE"></span><span id="faiss::gpu::GpuIndexIVFPQConfig"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexIVFPQConfig"></span><em class="property">struct </em><code class="sig-name descname">GpuIndexIVFPQConfig</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4N5faiss3gpuE" title="faiss::gpu">gpu</a>::<a class="reference internal" href="../file/GpuIndexIVF_8h.html#_CPPv4N5faiss3gpu17GpuIndexIVFConfigE" title="faiss::gpu::GpuIndexIVFConfig">GpuIndexIVFConfig</a><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu19GpuIndexIVFPQConfig19GpuIndexIVFPQConfigEv">
<span id="_CPPv3N5faiss3gpu19GpuIndexIVFPQConfig19GpuIndexIVFPQConfigEv"></span><span id="_CPPv2N5faiss3gpu19GpuIndexIVFPQConfig19GpuIndexIVFPQConfigEv"></span><span id="faiss::gpu::GpuIndexIVFPQConfig::GpuIndexIVFPQConfig"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexIVFPQConfig_1ab8173b4e53a49aa5c43f0b04a61f16fd"></span><code class="sig-name descname">GpuIndexIVFPQConfig</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu19GpuIndexIVFPQConfig22useFloat16LookupTablesE">
<span id="_CPPv3N5faiss3gpu19GpuIndexIVFPQConfig22useFloat16LookupTablesE"></span><span id="_CPPv2N5faiss3gpu19GpuIndexIVFPQConfig22useFloat16LookupTablesE"></span><span id="faiss::gpu::GpuIndexIVFPQConfig::useFloat16LookupTables__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexIVFPQConfig_1a9dbbec78d77d90b7b150f543e477cc49"></span>bool <code class="sig-name descname">useFloat16LookupTables</code><br /></dt>
<dd><p>Whether or not float16 residual distance tables are used in the list scanning kernels. When subQuantizers * 2^bitsPerCode &gt; 16384, this is required. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu19GpuIndexIVFPQConfig20usePrecomputedTablesE">
<span id="_CPPv3N5faiss3gpu19GpuIndexIVFPQConfig20usePrecomputedTablesE"></span><span id="_CPPv2N5faiss3gpu19GpuIndexIVFPQConfig20usePrecomputedTablesE"></span><span id="faiss::gpu::GpuIndexIVFPQConfig::usePrecomputedTables__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexIVFPQConfig_1ae5b5c7acc06743e5bcca197bc33c30ec"></span>bool <code class="sig-name descname">usePrecomputedTables</code><br /></dt>
<dd><p>Whether or not we enable the precomputed table option for search, which can substantially increase the memory requirement. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu19GpuIndexIVFPQConfig17interleavedLayoutE">
<span id="_CPPv3N5faiss3gpu19GpuIndexIVFPQConfig17interleavedLayoutE"></span><span id="_CPPv2N5faiss3gpu19GpuIndexIVFPQConfig17interleavedLayoutE"></span><span id="faiss::gpu::GpuIndexIVFPQConfig::interleavedLayout__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexIVFPQConfig_1a3698bd46d5a0003ec43d434a58794532"></span>bool <code class="sig-name descname">interleavedLayout</code><br /></dt>
<dd><p>Use the alternative memory layout for the IVF lists WARNING: this is a feature under development, do not use! </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu19GpuIndexIVFPQConfig17useMMCodeDistanceE">
<span id="_CPPv3N5faiss3gpu19GpuIndexIVFPQConfig17useMMCodeDistanceE"></span><span id="_CPPv2N5faiss3gpu19GpuIndexIVFPQConfig17useMMCodeDistanceE"></span><span id="faiss::gpu::GpuIndexIVFPQConfig::useMMCodeDistance__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexIVFPQConfig_1a45b88d1deb299970d887a4aa3ec8dd2a"></span>bool <code class="sig-name descname">useMMCodeDistance</code><br /></dt>
<dd><p>Use GEMM-backed computation of PQ code distances for the no precomputed table version of IVFPQ. This is for debugging purposes, it should not substantially affect the results one way for another.</p>
<p>Note that MM code distance is enabled automatically if one uses a number of dimensions per sub-quantizer that is not natively specialized (an odd number like 7 or so). </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu19GpuIndexIVFPQConfig14indicesOptionsE">
<span id="_CPPv3N5faiss3gpu19GpuIndexIVFPQConfig14indicesOptionsE"></span><span id="_CPPv2N5faiss3gpu19GpuIndexIVFPQConfig14indicesOptionsE"></span><span id="faiss::gpu::GpuIndexIVFPQConfig::indicesOptions__IndicesOptions"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexIVFConfig_1af432221761d48e4753f501208a60264d"></span><a class="reference internal" href="../file/GpuIndicesOptions_8h.html#_CPPv4N5faiss3gpu14IndicesOptionsE" title="faiss::gpu::IndicesOptions">IndicesOptions</a> <code class="sig-name descname">indicesOptions</code><br /></dt>
<dd><p><a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> storage options for the GPU. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu19GpuIndexIVFPQConfig10flatConfigE">
<span id="_CPPv3N5faiss3gpu19GpuIndexIVFPQConfig10flatConfigE"></span><span id="_CPPv2N5faiss3gpu19GpuIndexIVFPQConfig10flatConfigE"></span><span id="faiss::gpu::GpuIndexIVFPQConfig::flatConfig__GpuIndexFlatConfig"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexIVFConfig_1a6d357a9a67a2fed9c8e7b139712d30f6"></span><a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a> <code class="sig-name descname">flatConfig</code><br /></dt>
<dd><p>Configuration for the coarse quantizer object. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu19GpuIndexIVFPQConfig6deviceE">
<span id="_CPPv3N5faiss3gpu19GpuIndexIVFPQConfig6deviceE"></span><span id="_CPPv2N5faiss3gpu19GpuIndexIVFPQConfig6deviceE"></span><span id="faiss::gpu::GpuIndexIVFPQConfig::device__i"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexConfig_1aab05a0aa7b42feae7df4e556a52ead57"></span>int <code class="sig-name descname">device</code><br /></dt>
<dd><p>GPU device on which the index is resident. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu19GpuIndexIVFPQConfig11memorySpaceE">
<span id="_CPPv3N5faiss3gpu19GpuIndexIVFPQConfig11memorySpaceE"></span><span id="_CPPv2N5faiss3gpu19GpuIndexIVFPQConfig11memorySpaceE"></span><span id="faiss::gpu::GpuIndexIVFPQConfig::memorySpace__MemorySpace"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexConfig_1adf7c9461009108a9a433a077ab322d2e"></span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu11MemorySpaceE" title="faiss::gpu::MemorySpace">MemorySpace</a> <code class="sig-name descname">memorySpace</code><br /></dt>
<dd><p>What memory space to use for primary storage. On Pascal and above (CC 6+) architectures, allows GPUs to use more memory than is available on the GPU. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizerE">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizerE"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizerE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer"></span><em class="property">class </em><code class="sig-name descname">GpuIndexIVFScalarQuantizer</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4N5faiss3gpuE" title="faiss::gpu">gpu</a>::<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVF.html#_CPPv4N5faiss3gpu11GpuIndexIVFE" title="faiss::gpu::GpuIndexIVF">GpuIndexIVF</a><br /></dt>
<dd><em>#include &lt;GpuIndexIVFScalarQuantizer.h&gt;</em><p>Wrapper around the GPU implementation that looks like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFScalarQuantizer.html#structfaiss_1_1IndexIVFScalarQuantizer"><span class="std std-ref">faiss::IndexIVFScalarQuantizer</span></a> </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer5idx_tE">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer5idx_tE"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer5idx_tE"></span><span class="target" id="structfaiss_1_1Index_1ab64b96e821336c5b363d023386781d1d"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = int64_t<br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer11component_tE">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer11component_tE"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer11component_tE"></span><span class="target" id="structfaiss_1_1Index_1af317cb1e2ad0bd145f716f2243b693eb"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = float<br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer10distance_tE">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer10distance_tE"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer10distance_tE"></span><span class="target" id="structfaiss_1_1Index_1a1c60d7a12bf3ad27054963df8cccd93f"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = float<br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer26GpuIndexIVFScalarQuantizerEP20GpuResourcesProviderPKN5faiss23IndexIVFScalarQuantizerE32GpuIndexIVFScalarQuantizerConfig">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer26GpuIndexIVFScalarQuantizerEP20GpuResourcesProviderPKN5faiss23IndexIVFScalarQuantizerE32GpuIndexIVFScalarQuantizerConfig"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer26GpuIndexIVFScalarQuantizerEP20GpuResourcesProviderPKN5faiss23IndexIVFScalarQuantizerE32GpuIndexIVFScalarQuantizerConfig"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::GpuIndexIVFScalarQuantizer__GpuResourcesProviderP.faiss::IndexIVFScalarQuantizerCP.GpuIndexIVFScalarQuantizerConfig"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer_1a20f55135edbd34cd7e11eda616a6c4a4"></span><code class="sig-name descname">GpuIndexIVFScalarQuantizer</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a> *<em>provider</em>, <em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexScalarQuantizer_8h.html#_CPPv4N5faiss23IndexIVFScalarQuantizerE" title="faiss::IndexIVFScalarQuantizer">IndexIVFScalarQuantizer</a> *<em>index</em>, <a class="reference internal" href="../file/GpuIndexIVFScalarQuantizer_8h.html#_CPPv4N5faiss3gpu32GpuIndexIVFScalarQuantizerConfigE" title="faiss::gpu::GpuIndexIVFScalarQuantizerConfig">GpuIndexIVFScalarQuantizerConfig</a> <em>config</em> = <a class="reference internal" href="../file/GpuIndexIVFScalarQuantizer_8h.html#_CPPv4N5faiss3gpu32GpuIndexIVFScalarQuantizerConfigE" title="faiss::gpu::GpuIndexIVFScalarQuantizerConfig">GpuIndexIVFScalarQuantizerConfig</a>()<span class="sig-paren">)</span><br /></dt>
<dd><p>Construct from a pre-existing <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFScalarQuantizer.html#structfaiss_1_1IndexIVFScalarQuantizer"><span class="std std-ref">faiss::IndexIVFScalarQuantizer</span></a> instance, copying data over to the given GPU, if the input index is trained. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer26GpuIndexIVFScalarQuantizerEP20GpuResourcesProvideriiN5faiss15ScalarQuantizer13QuantizerTypeEN5faiss10MetricTypeEb32GpuIndexIVFScalarQuantizerConfig">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer26GpuIndexIVFScalarQuantizerEP20GpuResourcesProvideriiN5faiss15ScalarQuantizer13QuantizerTypeEN5faiss10MetricTypeEb32GpuIndexIVFScalarQuantizerConfig"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer26GpuIndexIVFScalarQuantizerEP20GpuResourcesProvideriiN5faiss15ScalarQuantizer13QuantizerTypeEN5faiss10MetricTypeEb32GpuIndexIVFScalarQuantizerConfig"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::GpuIndexIVFScalarQuantizer__GpuResourcesProviderP.i.i.faiss::ScalarQuantizer::QuantizerType.faiss::MetricType.b.GpuIndexIVFScalarQuantizerConfig"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer_1acebcb18d4b9a6ed77dee46f355d4a493"></span><code class="sig-name descname">GpuIndexIVFScalarQuantizer</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a> *<em>provider</em>, int <em>dims</em>, int <em>nlist</em>, <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::ScalarQuantizer::QuantizerType <em>qtype</em>, <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <em>metric</em> = <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a>::<a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricType9METRIC_L2E" title="faiss::MetricType::METRIC_L2">METRIC_L2</a>, bool <em>encodeResidual</em> = true, <a class="reference internal" href="../file/GpuIndexIVFScalarQuantizer_8h.html#_CPPv4N5faiss3gpu32GpuIndexIVFScalarQuantizerConfigE" title="faiss::gpu::GpuIndexIVFScalarQuantizerConfig">GpuIndexIVFScalarQuantizerConfig</a> <em>config</em> = <a class="reference internal" href="../file/GpuIndexIVFScalarQuantizer_8h.html#_CPPv4N5faiss3gpu32GpuIndexIVFScalarQuantizerConfigE" title="faiss::gpu::GpuIndexIVFScalarQuantizerConfig">GpuIndexIVFScalarQuantizerConfig</a>()<span class="sig-paren">)</span><br /></dt>
<dd><p>Constructs a new instance with an empty flat quantizer; the user provides the number of lists desired. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizerD0Ev">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizerD0Ev"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizerD0Ev"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::~GpuIndexIVFScalarQuantizer"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer_1a65975284c6a485e26b415b36798e4785"></span><code class="sig-name descname">~GpuIndexIVFScalarQuantizer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer13reserveMemoryE6size_t">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer13reserveMemoryE6size_t"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer13reserveMemoryE6size_t"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::reserveMemory__s"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer_1a442f3139eef5b90b53e3523294c9d30f"></span>void <code class="sig-name descname">reserveMemory</code><span class="sig-paren">(</span>size_t <em>numVecs</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Reserve GPU memory in our inverted lists for this number of vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer8copyFromEPKN5faiss23IndexIVFScalarQuantizerE">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer8copyFromEPKN5faiss23IndexIVFScalarQuantizerE"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer8copyFromEPKN5faiss23IndexIVFScalarQuantizerE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::copyFrom__faiss::IndexIVFScalarQuantizerCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer_1a9d739a970bac43f2b906f7a88b638fe3"></span>void <code class="sig-name descname">copyFrom</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexScalarQuantizer_8h.html#_CPPv4N5faiss23IndexIVFScalarQuantizerE" title="faiss::IndexIVFScalarQuantizer">IndexIVFScalarQuantizer</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Initialize ourselves from the given CPU index; will overwrite all data in ourselves </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer6copyToEPN5faiss23IndexIVFScalarQuantizerE">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer6copyToEPN5faiss23IndexIVFScalarQuantizerE"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer6copyToEPN5faiss23IndexIVFScalarQuantizerE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::copyTo__faiss::IndexIVFScalarQuantizerPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer_1a280bad274d429845f94c552b26531e64"></span>void <code class="sig-name descname">copyTo</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexScalarQuantizer_8h.html#_CPPv4N5faiss23IndexIVFScalarQuantizerE" title="faiss::IndexIVFScalarQuantizer">IndexIVFScalarQuantizer</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Copy ourselves to the given CPU index; will overwrite all data in the index instance </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer13reclaimMemoryEv">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer13reclaimMemoryEv"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer13reclaimMemoryEv"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::reclaimMemory"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer_1a5611542c6d1e26dc94d677d33e30a8fd"></span>size_t <code class="sig-name descname">reclaimMemory</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>After adding vectors, one can call this to reclaim device memory to exactly the amount needed. Returns space reclaimed in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer5resetEv">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer5resetEv"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer5resetEv"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::reset"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer_1a6e25bd642bf3ae6fe84c9c315e0edf25"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Clears out all inverted lists, but retains the coarse and scalar quantizer information </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer5trainEN5Index5idx_tEPKf">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer5trainEN5Index5idx_tEPKf"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer5trainEN5Index5idx_tEPKf"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::train__Index::idx_t.floatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer_1a11c52bf069e04520b000cf888c06cb05"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Trains the coarse and scalar quantizer based on the given vector data. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer13getListLengthEi">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer13getListLengthEi"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer13getListLengthEi"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::getListLength__iC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer_1ae2a57707bf9631d4f4ca5866dba07208"></span>int <code class="sig-name descname">getListLength</code><span class="sig-paren">(</span>int <em>listId</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Returns the number of vectors present in a particular inverted list. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer17getListVectorDataEib">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer17getListVectorDataEib"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer17getListVectorDataEib"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::getListVectorData__i.bC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer_1a8fd6f67fc3978b1742473d789b783612"></span>std::vector&lt;uint8_t&gt; <code class="sig-name descname">getListVectorData</code><span class="sig-paren">(</span>int <em>listId</em>, bool <em>gpuFormat</em> = false<span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Return the encoded vector data contained in a particular inverted list, for debugging purposes. If gpuFormat is true, the data is returned as it is encoded in the GPU-side representation. Otherwise, it is converted to the CPU format. compliant format, while the native GPU format may differ. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer14getListIndicesEi">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer14getListIndicesEi"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer14getListIndicesEi"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::getListIndices__iC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer_1a6755bb048958c117db7dd4d898f8a4d6"></span>std::vector&lt;<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a>&gt; <code class="sig-name descname">getListIndices</code><span class="sig-paren">(</span>int <em>listId</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Return the vector indices contained in a particular inverted list, for debugging purposes. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer8copyFromEPKN5faiss8IndexIVFE">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer8copyFromEPKN5faiss8IndexIVFE"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer8copyFromEPKN5faiss8IndexIVFE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::copyFrom__faiss::IndexIVFCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a94c2c171f9a2d27085dea9101067bdf2"></span>void <code class="sig-name descname">copyFrom</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Copy what we need from the CPU equivalent. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer6copyToEPN5faiss8IndexIVFE">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer6copyToEPN5faiss8IndexIVFE"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer6copyToEPN5faiss8IndexIVFE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::copyTo__faiss::IndexIVFPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a9153ac747b50b454d85416edcf484bd3"></span>void <code class="sig-name descname">copyTo</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Copy what we have to the CPU equivalent. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer11getNumListsEv">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer11getNumListsEv"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer11getNumListsEv"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::getNumListsC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a008b31e78482337f8ca9ae72d9815be0"></span>int <code class="sig-name descname">getNumLists</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the number of inverted lists we’re managing. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer12getQuantizerEv">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer12getQuantizerEv"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer12getQuantizerEv"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::getQuantizer"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1ae8ede11bab8c6f2296aa797986006511"></span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlat.html#_CPPv4N5faiss3gpu12GpuIndexFlatE" title="faiss::gpu::GpuIndexFlat">GpuIndexFlat</a> *<code class="sig-name descname">getQuantizer</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Return the quantizer we’re using. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer12setNumProbesEi">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer12setNumProbesEi"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer12setNumProbesEi"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::setNumProbes__i"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a1efac4b9801d57fa6d0085d6aed9c1f2"></span>void <code class="sig-name descname">setNumProbes</code><span class="sig-paren">(</span>int <em>nprobe</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Sets the number of list probes per query. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer12getNumProbesEv">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer12getNumProbesEv"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer12getNumProbesEv"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::getNumProbesC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1aa231de06057f6f024679291fed7d8c3a"></span>int <code class="sig-name descname">getNumProbes</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns our current number of list probes per query. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer9getDeviceEv">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer9getDeviceEv"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer9getDeviceEv"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::getDeviceC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1af4f02c713f639bd70e09af8afebd0f51"></span>int <code class="sig-name descname">getDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the device that this index is resident on. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer12getResourcesEv">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer12getResourcesEv"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer12getResourcesEv"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::getResources"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a2eb235a51b0a70bdbc2c814a48a0917d"></span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <code class="sig-name descname">getResources</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns a reference to our <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuResources"><span class="std std-ref">GpuResources</span></a> object that manages memory, stream and handle resources on the GPU </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer16setMinPagingSizeE6size_t">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer16setMinPagingSizeE6size_t"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer16setMinPagingSizeE6size_t"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::setMinPagingSize__s"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6c82cbea6b02cc996d634f822c1d310b"></span>void <code class="sig-name descname">setMinPagingSize</code><span class="sig-paren">(</span>size_t <em>size</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Set the minimum data size for searches (in MiB) for which we use CPU -&gt; GPU paging </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer16getMinPagingSizeEv">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer16getMinPagingSizeEv"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer16getMinPagingSizeEv"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::getMinPagingSizeC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6402d93925d2a403dc187dc1a7aab1e3"></span>size_t <code class="sig-name descname">getMinPagingSize</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the current minimum data size for paged searches. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer3addEN5Index5idx_tEPKf">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer3addEN5Index5idx_tEPKf"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer3addEN5Index5idx_tEPKf"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::add__Index::idx_t.floatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1ac6ac307f55a1b44dbf185e22c83b0a10"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code> can be resident on the CPU or any GPU; copies are performed as needed Handles paged adds if the add set is too large; calls addInternal_ </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer12add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer12add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer12add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::add_with_ids__Index::idx_t.floatCP.Index::idx_tCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a47f6969fe60d82b8e3407557ba9eec88"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">ids</span></code> can be resident on the CPU or any GPU; copies are performed as needed Handles paged adds if the add set is too large; calls addInternal_ </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer6assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer6assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer6assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::assign__Index::idx_t.floatCP.Index::idx_tP.Index::idx_tC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1ac108456e9c7cde162d77f64cc9c0dcdb"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">labels</span></code> can be resident on the CPU or any GPU; copies are performed as needed </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer6searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer6searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer6searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::search__Index::idx_t.floatCP.Index::idx_t.floatP.Index::idx_tPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a4564ff946e4339156173b39449562971"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">distances</span></code> and <code class="docutils literal notranslate"><span class="pre">labels</span></code> can be resident on the CPU or any GPU; copies are performed as needed </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer16compute_residualEPKfPfN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer16compute_residualEPKfPfN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer16compute_residualEPKfPfN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::compute_residual__floatCP.floatP.Index::idx_tC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a1c68659822d9e330a7737c8a6aaacae2"></span>void <code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, float *<em>residual</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>key</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Overridden to force GPU indices to provide their own GPU-friendly implementation </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer18compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer18compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer18compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::compute_residual_n__Index::idx_t.floatCP.floatP.Index::idx_tCPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1aac69097d303830c3d48c4016c1e6a955"></span>void <code class="sig-name descname">compute_residual_n</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xs</em>, float *<em>residuals</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>keys</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Overridden to force GPU indices to provide their own GPU-friendly implementation </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer12range_searchE5idx_tPKffP17RangeSearchResult">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::range_search__idx_t.floatCP.float.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1Index_1a23c23be6698f583402bde568eee00ad1"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer.html#_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer5idx_tE" title="faiss::gpu::GpuIndexIVFScalarQuantizer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory).</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer10remove_idsERK10IDSelector"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1Index_1ab70f7d0acb4a2f22857da3b17559ae82"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span><br /></dt>
<dd><p>removes IDs from the index. Not supported by all indexes. Returns the number of elements removed. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer11reconstructE5idx_tPf">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer11reconstructE5idx_tPf"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer11reconstructE5idx_tPf"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::reconstruct__idx_t.floatPC"></span><span class="target" id="structfaiss_1_1Index_1afaf9673009f9fe5a53ed6db522a5f69c"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer.html#_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer5idx_tE" title="faiss::gpu::GpuIndexIVFScalarQuantizer::idx_t">idx_t</a> <em>key</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Reconstruct a stored vector (or an approximation if lossy coding)</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: id of the vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer13reconstruct_nE5idx_t5idx_tPf">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer13reconstruct_nE5idx_t5idx_tPf"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer13reconstruct_nE5idx_t5idx_tPf"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::reconstruct_n__idx_t.idx_t.floatPC"></span><span class="target" id="structfaiss_1_1Index_1ae7c0b683e1fd5c8770ea2b3e1a82ce7f"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer.html#_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer5idx_tE" title="faiss::gpu::GpuIndexIVFScalarQuantizer::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer.html#_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer5idx_tE" title="faiss::gpu::GpuIndexIVFScalarQuantizer::idx_t">idx_t</a> <em>ni</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Reconstruct vectors i0 to i0 + ni - 1</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size ni * d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::search_and_reconstruct__idx_t.floatCP.idx_t.floatP.idx_tP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1a009874adf12440eb46396522ffd736cd"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer.html#_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer5idx_tE" title="faiss::gpu::GpuIndexIVFScalarQuantizer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer.html#_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer5idx_tE" title="faiss::gpu::GpuIndexIVFScalarQuantizer::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer.html#_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer5idx_tE" title="faiss::gpu::GpuIndexIVFScalarQuantizer::idx_t">idx_t</a> *<em>labels</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>If there are not enough results for a query, the resulting arrays is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer21get_distance_computerEv">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer21get_distance_computerEv"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer21get_distance_computerEv"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::get_distance_computerC"></span><span class="target" id="structfaiss_1_1Index_1ab53ef983521567c3dc3fee4543546e6a"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Get a DistanceComputer (defined in AuxIndexStructures) object for this kind of index.</p>
<p>DistanceComputer is implemented for indexes that support random access of their vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer12sa_code_sizeEv">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer12sa_code_sizeEv"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer12sa_code_sizeEv"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::sa_code_sizeC"></span><span class="target" id="structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"></span>size_t <code class="sig-name descname">sa_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>size of the produced codes in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer9sa_encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::sa_encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1Index_1a16770c0addc888b92deee089d6f97e7c"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer.html#_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer5idx_tE" title="faiss::gpu::GpuIndexIVFScalarQuantizer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: output encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer9sa_decodeE5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::sa_decode__idx_t.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1af39e4b00d097ac05dc9e31c52bfb9ed7"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer.html#_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer5idx_tE" title="faiss::gpu::GpuIndexIVFScalarQuantizer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: input encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: output vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer2sqE">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer2sqE"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer2sqE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::sq__faiss::ScalarQuantizer"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer_1aa692a5a002bf93908018535d6a1cdf26"></span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::ScalarQuantizer <code class="sig-name descname">sq</code><br /></dt>
<dd><p>Exposed like the CPU version. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer11by_residualE">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer11by_residualE"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer11by_residualE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::by_residual__b"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer_1a2586cb94bd25692ad730180a34630824"></span>bool <code class="sig-name descname">by_residual</code><br /></dt>
<dd><p>Exposed like the CPU version. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer2cpE">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer2cpE"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer2cpE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::cp__ClusteringParameters"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a520803e209b44c904b876d6b8dad23c9"></span><a class="reference internal" href="../file/Clustering_8h.html#_CPPv4N5faiss20ClusteringParametersE" title="faiss::ClusteringParameters">ClusteringParameters</a> <code class="sig-name descname">cp</code><br /></dt>
<dd><p>Exposing this like the CPU version for manipulation. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer5nlistE">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer5nlistE"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer5nlistE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::nlist__i"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a7d06649d5ae58b7a637a8b348d6f16b3"></span>int <code class="sig-name descname">nlist</code><br /></dt>
<dd><p>Exposing this like the CPU version for query. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer6nprobeE">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer6nprobeE"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer6nprobeE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::nprobe__i"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a83cdbddf42124d7f6c0d9ef232e0c558"></span>int <code class="sig-name descname">nprobe</code><br /></dt>
<dd><p>Exposing this like the CPU version for manipulation. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer9quantizerE">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer9quantizerE"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer9quantizerE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::quantizer__GpuIndexFlatP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1ac741fa8825e3ef533cbe9a45aa22a8fe"></span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlat.html#_CPPv4N5faiss3gpu12GpuIndexFlatE" title="faiss::gpu::GpuIndexFlat">GpuIndexFlat</a> *<code class="sig-name descname">quantizer</code><br /></dt>
<dd><p>Exposeing this like the CPU version for query. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer1dE">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer1dE"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer1dE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::d__i"></span><span class="target" id="structfaiss_1_1Index_1a2a002388d2c081c2dbab8508dcefe73d"></span>int <code class="sig-name descname">d</code><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer6ntotalE">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer6ntotalE"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer6ntotalE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1Index_1a6970683faa021b7a6f1a0865c0d4eccd"></span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer.html#_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer5idx_tE" title="faiss::gpu::GpuIndexIVFScalarQuantizer::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer7verboseE">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer7verboseE"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer7verboseE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::verbose__b"></span><span class="target" id="structfaiss_1_1Index_1a5590d847c5c2b958affd2a05e58a6f23"></span>bool <code class="sig-name descname">verbose</code><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer10is_trainedE">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer10is_trainedE"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer10is_trainedE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::is_trained__b"></span><span class="target" id="structfaiss_1_1Index_1a6e92732617c4dbe364e7678dd8773a7f"></span>bool <code class="sig-name descname">is_trained</code><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer11metric_typeE">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer11metric_typeE"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer11metric_typeE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1Index_1a8e18f641854b2bde83ecff0a2f9a6f4e"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer10metric_argE">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer10metric_argE"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer10metric_argE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::metric_arg__float"></span><span class="target" id="structfaiss_1_1Index_1a6f60646d6877658ea4df05e0231ed232"></span>float <code class="sig-name descname">metric_arg</code><br /></dt>
<dd><p>argument of the metric type </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Protected Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer8addImpl_EiPKfPKN5Index5idx_tE">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer8addImpl_EiPKfPKN5Index5idx_tE"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer8addImpl_EiPKfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::addImpl___i.floatCP.Index::idx_tCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer_1acb0acce275150539ea2e6180052787f3"></span>void <code class="sig-name descname">addImpl_</code><span class="sig-paren">(</span>int <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Called from <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuIndex"><span class="std std-ref">GpuIndex</span></a> for add/add_with_ids. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer11searchImpl_EiPKfiPfPN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer11searchImpl_EiPKfiPfPN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer11searchImpl_EiPKfiPfPN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::searchImpl___i.floatCP.i.floatP.Index::idx_tPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer_1a6b69eff925245a3e0d39e00564e7a988"></span>void <code class="sig-name descname">searchImpl_</code><span class="sig-paren">(</span>int <em>n</em>, <em class="property">const</em> float *<em>x</em>, int <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Called from <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuIndex"><span class="std std-ref">GpuIndex</span></a> for search. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer15trainResiduals_EN5Index5idx_tEPKf">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer15trainResiduals_EN5Index5idx_tEPKf"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer15trainResiduals_EN5Index5idx_tEPKf"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::trainResiduals___Index::idx_t.floatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer_1a8b1656df14f1e8c9aef6f19c0ca87982"></span>void <code class="sig-name descname">trainResiduals_</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Called from train to handle SQ residual training. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer8copyFromEPKN5faiss5IndexE">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer8copyFromEPKN5faiss5IndexE"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer8copyFromEPKN5faiss5IndexE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::copyFrom__faiss::IndexCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a9d1657c6a28e0581b3bc96699e12a2ab"></span>void <code class="sig-name descname">copyFrom</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Copy what we need from the CPU equivalent. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer6copyToEPN5faiss5IndexE">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer6copyToEPN5faiss5IndexE"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer6copyToEPN5faiss5IndexE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::copyTo__faiss::IndexPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6fa51de122f2cf2bd49727d909fb4b6c"></span>void <code class="sig-name descname">copyTo</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Copy what we have to the CPU equivalent. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer19addImplRequiresIDs_Ev">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer19addImplRequiresIDs_Ev"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer19addImplRequiresIDs_Ev"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::addImplRequiresIDs_C"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a69731ab85d119127e1fe603757b28400"></span>bool <code class="sig-name descname">addImplRequiresIDs_</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Does addImpl_ require IDs? If so, and no IDs are provided, we will generate them sequentially based on the order in which the IDs are added </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer15trainQuantizer_EN5Index5idx_tEPKf">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer15trainQuantizer_EN5Index5idx_tEPKf"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer15trainQuantizer_EN5Index5idx_tEPKf"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::trainQuantizer___Index::idx_t.floatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a8f64aaab0221591c82825c1594432c72"></span>void <code class="sig-name descname">trainQuantizer_</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Protected Attributes</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer12ivfSQConfig_E">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer12ivfSQConfig_E"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer12ivfSQConfig_E"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::ivfSQConfig___GpuIndexIVFScalarQuantizerConfigC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer_1ac11e7fc14a0fcd2e4bac244b47ac1238"></span><em class="property">const</em> <a class="reference internal" href="../file/GpuIndexIVFScalarQuantizer_8h.html#_CPPv4N5faiss3gpu32GpuIndexIVFScalarQuantizerConfigE" title="faiss::gpu::GpuIndexIVFScalarQuantizerConfig">GpuIndexIVFScalarQuantizerConfig</a> <code class="sig-name descname">ivfSQConfig_</code><br /></dt>
<dd><p>Our configuration options. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer18reserveMemoryVecs_E">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer18reserveMemoryVecs_E"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer18reserveMemoryVecs_E"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::reserveMemoryVecs___s"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer_1a8476560fd366356b996fb249108982ad"></span>size_t <code class="sig-name descname">reserveMemoryVecs_</code><br /></dt>
<dd><p>Desired inverted list memory reservation. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer6index_E">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer6index_E"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer6index_E"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::index___std::unique_ptr:IVFFlat:"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer_1ac858f594d34b793fdd72043c2df8cf53"></span>std::unique_ptr&lt;IVFFlat&gt; <code class="sig-name descname">index_</code><br /></dt>
<dd><p>Instance that we own; contains the inverted list. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer10ivfConfig_E">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer10ivfConfig_E"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer10ivfConfig_E"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::ivfConfig___GpuIndexIVFConfigC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a7e25b7ac093961ab0f58f1bc72f6ea43"></span><em class="property">const</em> <a class="reference internal" href="../file/GpuIndexIVF_8h.html#_CPPv4N5faiss3gpu17GpuIndexIVFConfigE" title="faiss::gpu::GpuIndexIVFConfig">GpuIndexIVFConfig</a> <code class="sig-name descname">ivfConfig_</code><br /></dt>
<dd><p>Our configuration options. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer10resources_E">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer10resources_E"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer10resources_E"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::resources___std::shared_ptr:GpuResources:"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a5f6bffd99291b2198ef601ef7e5c5a30"></span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <code class="sig-name descname">resources_</code><br /></dt>
<dd><p>Manages streams, cuBLAS handles and scratch memory for devices. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer7config_E">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer7config_E"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer7config_E"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::config___GpuIndexConfigC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1ab62da82105579618d1b89a810d61e3bd"></span><em class="property">const</em> <a class="reference internal" href="../file/GpuIndex_8h.html#_CPPv4N5faiss3gpu14GpuIndexConfigE" title="faiss::gpu::GpuIndexConfig">GpuIndexConfig</a> <code class="sig-name descname">config_</code><br /></dt>
<dd><p>Our configuration options. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer13minPagedSize_E">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer13minPagedSize_E"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer13minPagedSize_E"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::minPagedSize___s"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a32a08664fc4dca2f9405e07ea5bc206f"></span>size_t <code class="sig-name descname">minPagedSize_</code><br /></dt>
<dd><p>Size above which we page copies from the CPU to GPU. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss3gpu32GpuIndexIVFScalarQuantizerConfigE">
<span id="_CPPv3N5faiss3gpu32GpuIndexIVFScalarQuantizerConfigE"></span><span id="_CPPv2N5faiss3gpu32GpuIndexIVFScalarQuantizerConfigE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizerConfig"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizerConfig"></span><em class="property">struct </em><code class="sig-name descname">GpuIndexIVFScalarQuantizerConfig</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4N5faiss3gpuE" title="faiss::gpu">gpu</a>::<a class="reference internal" href="../file/GpuIndexIVF_8h.html#_CPPv4N5faiss3gpu17GpuIndexIVFConfigE" title="faiss::gpu::GpuIndexIVFConfig">GpuIndexIVFConfig</a><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu32GpuIndexIVFScalarQuantizerConfig32GpuIndexIVFScalarQuantizerConfigEv">
<span id="_CPPv3N5faiss3gpu32GpuIndexIVFScalarQuantizerConfig32GpuIndexIVFScalarQuantizerConfigEv"></span><span id="_CPPv2N5faiss3gpu32GpuIndexIVFScalarQuantizerConfig32GpuIndexIVFScalarQuantizerConfigEv"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizerConfig::GpuIndexIVFScalarQuantizerConfig"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizerConfig_1a9f1d563c0024b897e62edd1800bae795"></span><code class="sig-name descname">GpuIndexIVFScalarQuantizerConfig</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu32GpuIndexIVFScalarQuantizerConfig17interleavedLayoutE">
<span id="_CPPv3N5faiss3gpu32GpuIndexIVFScalarQuantizerConfig17interleavedLayoutE"></span><span id="_CPPv2N5faiss3gpu32GpuIndexIVFScalarQuantizerConfig17interleavedLayoutE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizerConfig::interleavedLayout__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizerConfig_1a37a76f2a5f746906d167fbe915e87da1"></span>bool <code class="sig-name descname">interleavedLayout</code><br /></dt>
<dd><p>Use the alternative memory layout for the IVF lists (currently the default) </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu32GpuIndexIVFScalarQuantizerConfig14indicesOptionsE">
<span id="_CPPv3N5faiss3gpu32GpuIndexIVFScalarQuantizerConfig14indicesOptionsE"></span><span id="_CPPv2N5faiss3gpu32GpuIndexIVFScalarQuantizerConfig14indicesOptionsE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizerConfig::indicesOptions__IndicesOptions"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexIVFConfig_1af432221761d48e4753f501208a60264d"></span><a class="reference internal" href="../file/GpuIndicesOptions_8h.html#_CPPv4N5faiss3gpu14IndicesOptionsE" title="faiss::gpu::IndicesOptions">IndicesOptions</a> <code class="sig-name descname">indicesOptions</code><br /></dt>
<dd><p><a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> storage options for the GPU. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu32GpuIndexIVFScalarQuantizerConfig10flatConfigE">
<span id="_CPPv3N5faiss3gpu32GpuIndexIVFScalarQuantizerConfig10flatConfigE"></span><span id="_CPPv2N5faiss3gpu32GpuIndexIVFScalarQuantizerConfig10flatConfigE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizerConfig::flatConfig__GpuIndexFlatConfig"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexIVFConfig_1a6d357a9a67a2fed9c8e7b139712d30f6"></span><a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a> <code class="sig-name descname">flatConfig</code><br /></dt>
<dd><p>Configuration for the coarse quantizer object. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu32GpuIndexIVFScalarQuantizerConfig6deviceE">
<span id="_CPPv3N5faiss3gpu32GpuIndexIVFScalarQuantizerConfig6deviceE"></span><span id="_CPPv2N5faiss3gpu32GpuIndexIVFScalarQuantizerConfig6deviceE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizerConfig::device__i"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexConfig_1aab05a0aa7b42feae7df4e556a52ead57"></span>int <code class="sig-name descname">device</code><br /></dt>
<dd><p>GPU device on which the index is resident. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu32GpuIndexIVFScalarQuantizerConfig11memorySpaceE">
<span id="_CPPv3N5faiss3gpu32GpuIndexIVFScalarQuantizerConfig11memorySpaceE"></span><span id="_CPPv2N5faiss3gpu32GpuIndexIVFScalarQuantizerConfig11memorySpaceE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizerConfig::memorySpace__MemorySpace"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexConfig_1adf7c9461009108a9a433a077ab322d2e"></span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu11MemorySpaceE" title="faiss::gpu::MemorySpace">MemorySpace</a> <code class="sig-name descname">memorySpace</code><br /></dt>
<dd><p>What memory space to use for primary storage. On Pascal and above (CC 6+) architectures, allows GPUs to use more memory than is available on the GPU. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss3gpu20GpuMemoryReservationE">
<span id="_CPPv3N5faiss3gpu20GpuMemoryReservationE"></span><span id="_CPPv2N5faiss3gpu20GpuMemoryReservationE"></span><span id="faiss::gpu::GpuMemoryReservation"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuMemoryReservation"></span><em class="property">struct </em><code class="sig-name descname">GpuMemoryReservation</code><br /></dt>
<dd><em>#include &lt;GpuResources.h&gt;</em><p>A RAII object that manages a temporary memory request. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu20GpuMemoryReservation20GpuMemoryReservationEv">
<span id="_CPPv3N5faiss3gpu20GpuMemoryReservation20GpuMemoryReservationEv"></span><span id="_CPPv2N5faiss3gpu20GpuMemoryReservation20GpuMemoryReservationEv"></span><span id="faiss::gpu::GpuMemoryReservation::GpuMemoryReservation"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuMemoryReservation_1a8631ed006dff5fce027220a1ea42a91d"></span><code class="sig-name descname">GpuMemoryReservation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu20GpuMemoryReservation20GpuMemoryReservationEP12GpuResourcesi12cudaStream_tPv6size_t">
<span id="_CPPv3N5faiss3gpu20GpuMemoryReservation20GpuMemoryReservationEP12GpuResourcesi12cudaStream_tPv6size_t"></span><span id="_CPPv2N5faiss3gpu20GpuMemoryReservation20GpuMemoryReservationEP12GpuResourcesi12cudaStream_tPv6size_t"></span><span id="faiss::gpu::GpuMemoryReservation::GpuMemoryReservation__GpuResourcesP.i.cudaStream_t.voidP.s"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuMemoryReservation_1a21e29e3f8f04d34f03718c3eaad3d7ab"></span><code class="sig-name descname">GpuMemoryReservation</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a> *<em>r</em>, int <em>dev</em>, cudaStream_t <em>str</em>, void *<em>p</em>, size_t <em>sz</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu20GpuMemoryReservation20GpuMemoryReservationERR20GpuMemoryReservation">
<span id="_CPPv3N5faiss3gpu20GpuMemoryReservation20GpuMemoryReservationERR20GpuMemoryReservation"></span><span id="_CPPv2N5faiss3gpu20GpuMemoryReservation20GpuMemoryReservationERR20GpuMemoryReservation"></span><span id="faiss::gpu::GpuMemoryReservation::GpuMemoryReservation__GpuMemoryReservationRR"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuMemoryReservation_1a9f40022a8ca5ff60fe704b9d462fa096"></span><code class="sig-name descname">GpuMemoryReservation</code><span class="sig-paren">(</span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu20GpuMemoryReservation20GpuMemoryReservationERR20GpuMemoryReservation" title="faiss::gpu::GpuMemoryReservation::GpuMemoryReservation">GpuMemoryReservation</a> &amp;&amp;<em>m</em><span class="sig-paren">)</span> <em class="property">noexcept</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu20GpuMemoryReservationD0Ev">
<span id="_CPPv3N5faiss3gpu20GpuMemoryReservationD0Ev"></span><span id="_CPPv2N5faiss3gpu20GpuMemoryReservationD0Ev"></span><span id="faiss::gpu::GpuMemoryReservation::~GpuMemoryReservation"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuMemoryReservation_1a24a41906bdc0f87e5ad3f0849df09c63"></span><code class="sig-name descname">~GpuMemoryReservation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu20GpuMemoryReservationaSERR20GpuMemoryReservation">
<span id="_CPPv3N5faiss3gpu20GpuMemoryReservationaSERR20GpuMemoryReservation"></span><span id="_CPPv2N5faiss3gpu20GpuMemoryReservationaSERR20GpuMemoryReservation"></span><span id="faiss::gpu::GpuMemoryReservation::assign-operator__GpuMemoryReservationRR"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuMemoryReservation_1a2e36ac15a92691b0037d2f0ec9db833b"></span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu20GpuMemoryReservationE" title="faiss::gpu::GpuMemoryReservation">GpuMemoryReservation</a> &amp;<code class="sig-name descname">operator=</code><span class="sig-paren">(</span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu20GpuMemoryReservationE" title="faiss::gpu::GpuMemoryReservation">GpuMemoryReservation</a> &amp;&amp;<em>m</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu20GpuMemoryReservation3getEv">
<span id="_CPPv3N5faiss3gpu20GpuMemoryReservation3getEv"></span><span id="_CPPv2N5faiss3gpu20GpuMemoryReservation3getEv"></span><span id="faiss::gpu::GpuMemoryReservation::get"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuMemoryReservation_1a4894ba319a954367fc9a7d8e17ce0200"></span>void *<code class="sig-name descname">get</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu20GpuMemoryReservation7releaseEv">
<span id="_CPPv3N5faiss3gpu20GpuMemoryReservation7releaseEv"></span><span id="_CPPv2N5faiss3gpu20GpuMemoryReservation7releaseEv"></span><span id="faiss::gpu::GpuMemoryReservation::release"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuMemoryReservation_1a3420ab9b0a349ca60b9763268174c120"></span>void <code class="sig-name descname">release</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu20GpuMemoryReservation3resE">
<span id="_CPPv3N5faiss3gpu20GpuMemoryReservation3resE"></span><span id="_CPPv2N5faiss3gpu20GpuMemoryReservation3resE"></span><span id="faiss::gpu::GpuMemoryReservation::res__GpuResourcesP"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuMemoryReservation_1a211012d3090fce8c79f7b7404c4b749c"></span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a> *<code class="sig-name descname">res</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu20GpuMemoryReservation6deviceE">
<span id="_CPPv3N5faiss3gpu20GpuMemoryReservation6deviceE"></span><span id="_CPPv2N5faiss3gpu20GpuMemoryReservation6deviceE"></span><span id="faiss::gpu::GpuMemoryReservation::device__i"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuMemoryReservation_1a88f82c738e2527dfec47cf526237757c"></span>int <code class="sig-name descname">device</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu20GpuMemoryReservation6streamE">
<span id="_CPPv3N5faiss3gpu20GpuMemoryReservation6streamE"></span><span id="_CPPv2N5faiss3gpu20GpuMemoryReservation6streamE"></span><span id="faiss::gpu::GpuMemoryReservation::stream__cudaStream_t"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuMemoryReservation_1ae42376827d02e31fe88ca0d79eab557a"></span>cudaStream_t <code class="sig-name descname">stream</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu20GpuMemoryReservation4dataE">
<span id="_CPPv3N5faiss3gpu20GpuMemoryReservation4dataE"></span><span id="_CPPv2N5faiss3gpu20GpuMemoryReservation4dataE"></span><span id="faiss::gpu::GpuMemoryReservation::data__voidP"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuMemoryReservation_1ae8b2f577d470cccf55e138708151cba1"></span>void *<code class="sig-name descname">data</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu20GpuMemoryReservation4sizeE">
<span id="_CPPv3N5faiss3gpu20GpuMemoryReservation4sizeE"></span><span id="_CPPv2N5faiss3gpu20GpuMemoryReservation4sizeE"></span><span id="faiss::gpu::GpuMemoryReservation::size__s"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuMemoryReservation_1a9d6c29b2ff05c2b3aa6bc0183719444e"></span>size_t <code class="sig-name descname">size</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss3gpu24GpuMultipleClonerOptionsE">
<span id="_CPPv3N5faiss3gpu24GpuMultipleClonerOptionsE"></span><span id="_CPPv2N5faiss3gpu24GpuMultipleClonerOptionsE"></span><span id="faiss::gpu::GpuMultipleClonerOptions"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuMultipleClonerOptions"></span><em class="property">struct </em><code class="sig-name descname">GpuMultipleClonerOptions</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4N5faiss3gpuE" title="faiss::gpu">gpu</a>::<a class="reference internal" href="../file/GpuClonerOptions_8h.html#_CPPv4N5faiss3gpu16GpuClonerOptionsE" title="faiss::gpu::GpuClonerOptions">GpuClonerOptions</a><br /></dt>
<dd><p>Subclassed by <a class="reference internal" href="../struct/structfaiss_1_1gpu_1_1ToGpuClonerMultiple.html#structfaiss_1_1gpu_1_1ToGpuClonerMultiple"><span class="std std-ref">faiss::gpu::ToGpuClonerMultiple</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24GpuMultipleClonerOptions24GpuMultipleClonerOptionsEv">
<span id="_CPPv3N5faiss3gpu24GpuMultipleClonerOptions24GpuMultipleClonerOptionsEv"></span><span id="_CPPv2N5faiss3gpu24GpuMultipleClonerOptions24GpuMultipleClonerOptionsEv"></span><span id="faiss::gpu::GpuMultipleClonerOptions::GpuMultipleClonerOptions"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuMultipleClonerOptions_1abd3d51458ecb2161a27f118086d4cd15"></span><code class="sig-name descname">GpuMultipleClonerOptions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu24GpuMultipleClonerOptions5shardE">
<span id="_CPPv3N5faiss3gpu24GpuMultipleClonerOptions5shardE"></span><span id="_CPPv2N5faiss3gpu24GpuMultipleClonerOptions5shardE"></span><span id="faiss::gpu::GpuMultipleClonerOptions::shard__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuMultipleClonerOptions_1a7c5bd7a840f6641d5d68699f4416d79d"></span>bool <code class="sig-name descname">shard</code><br /></dt>
<dd><p>Whether to shard the index across GPUs, versus replication across GPUs </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu24GpuMultipleClonerOptions10shard_typeE">
<span id="_CPPv3N5faiss3gpu24GpuMultipleClonerOptions10shard_typeE"></span><span id="_CPPv2N5faiss3gpu24GpuMultipleClonerOptions10shard_typeE"></span><span id="faiss::gpu::GpuMultipleClonerOptions::shard_type__i"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuMultipleClonerOptions_1a9548f823297298b0a78109dec7feb45e"></span>int <code class="sig-name descname">shard_type</code><br /></dt>
<dd><p><a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1ada0c2daaf628138ad21c77eb616fbbae"><span class="std std-ref">IndexIVF::copy_subset_to</span></a> subset type. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu24GpuMultipleClonerOptions14indicesOptionsE">
<span id="_CPPv3N5faiss3gpu24GpuMultipleClonerOptions14indicesOptionsE"></span><span id="_CPPv2N5faiss3gpu24GpuMultipleClonerOptions14indicesOptionsE"></span><span id="faiss::gpu::GpuMultipleClonerOptions::indicesOptions__IndicesOptions"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1ad960ac51b7cc607fcb1a1b07efc32a9e"></span><a class="reference internal" href="../file/GpuIndicesOptions_8h.html#_CPPv4N5faiss3gpu14IndicesOptionsE" title="faiss::gpu::IndicesOptions">IndicesOptions</a> <code class="sig-name descname">indicesOptions</code><br /></dt>
<dd><p>how should indices be stored on index types that support indices (anything but GpuIndexFlat*)? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu24GpuMultipleClonerOptions25useFloat16CoarseQuantizerE">
<span id="_CPPv3N5faiss3gpu24GpuMultipleClonerOptions25useFloat16CoarseQuantizerE"></span><span id="_CPPv2N5faiss3gpu24GpuMultipleClonerOptions25useFloat16CoarseQuantizerE"></span><span id="faiss::gpu::GpuMultipleClonerOptions::useFloat16CoarseQuantizer__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1a85f3093908b6e9a503c24bb226b17b1b"></span>bool <code class="sig-name descname">useFloat16CoarseQuantizer</code><br /></dt>
<dd><p>is the coarse quantizer in float16? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu24GpuMultipleClonerOptions10useFloat16E">
<span id="_CPPv3N5faiss3gpu24GpuMultipleClonerOptions10useFloat16E"></span><span id="_CPPv2N5faiss3gpu24GpuMultipleClonerOptions10useFloat16E"></span><span id="faiss::gpu::GpuMultipleClonerOptions::useFloat16__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1ac7cc57d6091d6a79ea6020bf8d1fbe27"></span>bool <code class="sig-name descname">useFloat16</code><br /></dt>
<dd><p>for <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuIndexIVFFlat"><span class="std std-ref">GpuIndexIVFFlat</span></a>, is storage in float16? for <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuIndexIVFPQ"><span class="std std-ref">GpuIndexIVFPQ</span></a>, are intermediate calculations in float16? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu24GpuMultipleClonerOptions14usePrecomputedE">
<span id="_CPPv3N5faiss3gpu24GpuMultipleClonerOptions14usePrecomputedE"></span><span id="_CPPv2N5faiss3gpu24GpuMultipleClonerOptions14usePrecomputedE"></span><span id="faiss::gpu::GpuMultipleClonerOptions::usePrecomputed__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1abc9c607f2dfc9f23942a523fb49c63fe"></span>bool <code class="sig-name descname">usePrecomputed</code><br /></dt>
<dd><p>use precomputed tables? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu24GpuMultipleClonerOptions11reserveVecsE">
<span id="_CPPv3N5faiss3gpu24GpuMultipleClonerOptions11reserveVecsE"></span><span id="_CPPv2N5faiss3gpu24GpuMultipleClonerOptions11reserveVecsE"></span><span id="faiss::gpu::GpuMultipleClonerOptions::reserveVecs__l"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1ab60dd87e51af59373a48d73852573f04"></span>long <code class="sig-name descname">reserveVecs</code><br /></dt>
<dd><p>reserve vectors in the invfiles? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu24GpuMultipleClonerOptions15storeTransposedE">
<span id="_CPPv3N5faiss3gpu24GpuMultipleClonerOptions15storeTransposedE"></span><span id="_CPPv2N5faiss3gpu24GpuMultipleClonerOptions15storeTransposedE"></span><span id="faiss::gpu::GpuMultipleClonerOptions::storeTransposed__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1a5f2470ec5b2a8fe7aae0542f113b781d"></span>bool <code class="sig-name descname">storeTransposed</code><br /></dt>
<dd><p>For <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuIndexFlat"><span class="std std-ref">GpuIndexFlat</span></a>, store data in transposed layout? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu24GpuMultipleClonerOptions7verboseE">
<span id="_CPPv3N5faiss3gpu24GpuMultipleClonerOptions7verboseE"></span><span id="_CPPv2N5faiss3gpu24GpuMultipleClonerOptions7verboseE"></span><span id="faiss::gpu::GpuMultipleClonerOptions::verbose__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1abc7d0451773e0f2f640338533abc1397"></span>bool <code class="sig-name descname">verbose</code><br /></dt>
<dd><p>Set verbose options on the index. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss3gpu17GpuParameterSpaceE">
<span id="_CPPv3N5faiss3gpu17GpuParameterSpaceE"></span><span id="_CPPv2N5faiss3gpu17GpuParameterSpaceE"></span><span id="faiss::gpu::GpuParameterSpace"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuParameterSpace"></span><em class="property">struct </em><code class="sig-name descname">GpuParameterSpace</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss14ParameterSpaceE" title="faiss::ParameterSpace">ParameterSpace</a><br /></dt>
<dd><em>#include &lt;GpuAutoTune.h&gt;</em><p>parameter space and setters for GPU indexes </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu17GpuParameterSpace10initializeEPKN5faiss5IndexE">
<span id="_CPPv3N5faiss3gpu17GpuParameterSpace10initializeEPKN5faiss5IndexE"></span><span id="_CPPv2N5faiss3gpu17GpuParameterSpace10initializeEPKN5faiss5IndexE"></span><span id="faiss::gpu::GpuParameterSpace::initialize__faiss::IndexCP"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuParameterSpace_1ab2bf33a6f1579c3d42f656ded1df3398"></span>void <code class="sig-name descname">initialize</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>initialize with reasonable parameters for the index </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu17GpuParameterSpace19set_index_parameterEPN5faiss5IndexERKNSt6stringEd">
<span id="_CPPv3NK5faiss3gpu17GpuParameterSpace19set_index_parameterEPN5faiss5IndexERKNSt6stringEd"></span><span id="_CPPv2NK5faiss3gpu17GpuParameterSpace19set_index_parameterEPN5faiss5IndexERKNSt6stringEd"></span><span id="faiss::gpu::GpuParameterSpace::set_index_parameter__faiss::IndexP.ssCR.doubleC"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuParameterSpace_1a1820826bb47a51ec9f000118be9c83b2"></span>void <code class="sig-name descname">set_index_parameter</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em>, <em class="property">const</em> std::string &amp;<em>name</em>, double <em>val</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>set a combination of parameters on an index </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu17GpuParameterSpace14n_combinationsEv">
<span id="_CPPv3NK5faiss3gpu17GpuParameterSpace14n_combinationsEv"></span><span id="_CPPv2NK5faiss3gpu17GpuParameterSpace14n_combinationsEv"></span><span id="faiss::gpu::GpuParameterSpace::n_combinationsC"></span><span class="target" id="structfaiss_1_1ParameterSpace_1a255b1e3bf93f8b0cbbe16eae66478acc"></span>size_t <code class="sig-name descname">n_combinations</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>nb of combinations, = product of values sizes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu17GpuParameterSpace14combination_geE6size_t6size_t">
<span id="_CPPv3NK5faiss3gpu17GpuParameterSpace14combination_geE6size_t6size_t"></span><span id="_CPPv2NK5faiss3gpu17GpuParameterSpace14combination_geE6size_t6size_t"></span><span id="faiss::gpu::GpuParameterSpace::combination_ge__s.sC"></span><span class="target" id="structfaiss_1_1ParameterSpace_1ab311c622327c18b42aa66e2b9bcd5a7f"></span>bool <code class="sig-name descname">combination_ge</code><span class="sig-paren">(</span>size_t <em>c1</em>, size_t <em>c2</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>returns whether combinations c1 &gt;= c2 in the tuple sense </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu17GpuParameterSpace16combination_nameE6size_t">
<span id="_CPPv3NK5faiss3gpu17GpuParameterSpace16combination_nameE6size_t"></span><span id="_CPPv2NK5faiss3gpu17GpuParameterSpace16combination_nameE6size_t"></span><span id="faiss::gpu::GpuParameterSpace::combination_name__sC"></span><span class="target" id="structfaiss_1_1ParameterSpace_1af5081b3739982c6be702e46df666fec4"></span>std::string <code class="sig-name descname">combination_name</code><span class="sig-paren">(</span>size_t <em>cno</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>get string representation of the combination </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu17GpuParameterSpace7displayEv">
<span id="_CPPv3NK5faiss3gpu17GpuParameterSpace7displayEv"></span><span id="_CPPv2NK5faiss3gpu17GpuParameterSpace7displayEv"></span><span id="faiss::gpu::GpuParameterSpace::displayC"></span><span class="target" id="structfaiss_1_1ParameterSpace_1a066ae6501cf7b31b1b5bb1e34bb8d0dc"></span>void <code class="sig-name descname">display</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>print a description on stdout </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu17GpuParameterSpace9add_rangeERKNSt6stringE">
<span id="_CPPv3N5faiss3gpu17GpuParameterSpace9add_rangeERKNSt6stringE"></span><span id="_CPPv2N5faiss3gpu17GpuParameterSpace9add_rangeERKNSt6stringE"></span><span id="faiss::gpu::GpuParameterSpace::add_range__ssCR"></span><span class="target" id="structfaiss_1_1ParameterSpace_1a48fcb0d8a091c768dd59b4234c0733c1"></span><a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss14ParameterRangeE" title="faiss::ParameterRange">ParameterRange</a> &amp;<code class="sig-name descname">add_range</code><span class="sig-paren">(</span><em class="property">const</em> std::string &amp;<em>name</em><span class="sig-paren">)</span><br /></dt>
<dd><p>add a new parameter (or return it if it exists) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu17GpuParameterSpace20set_index_parametersEP5Index6size_t">
<span id="_CPPv3NK5faiss3gpu17GpuParameterSpace20set_index_parametersEP5Index6size_t"></span><span id="_CPPv2NK5faiss3gpu17GpuParameterSpace20set_index_parametersEP5Index6size_t"></span><span id="faiss::gpu::GpuParameterSpace::set_index_parameters__IndexP.sC"></span><span class="target" id="structfaiss_1_1ParameterSpace_1a613036d9ce9b2d89856043782975a30a"></span>void <code class="sig-name descname">set_index_parameters</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em>, size_t <em>cno</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>set a combination of parameters on an index </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu17GpuParameterSpace20set_index_parametersEP5IndexPKc">
<span id="_CPPv3NK5faiss3gpu17GpuParameterSpace20set_index_parametersEP5IndexPKc"></span><span id="_CPPv2NK5faiss3gpu17GpuParameterSpace20set_index_parametersEP5IndexPKc"></span><span id="faiss::gpu::GpuParameterSpace::set_index_parameters__IndexP.cCPC"></span><span class="target" id="structfaiss_1_1ParameterSpace_1acaf902b57394d802a32dcbdfa6bcd7b8"></span>void <code class="sig-name descname">set_index_parameters</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em>, <em class="property">const</em> char *<em>param_string</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>set a combination of parameters described by a string </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu17GpuParameterSpace13update_boundsE6size_tRK14OperatingPointPdPd">
<span id="_CPPv3NK5faiss3gpu17GpuParameterSpace13update_boundsE6size_tRK14OperatingPointPdPd"></span><span id="_CPPv2NK5faiss3gpu17GpuParameterSpace13update_boundsE6size_tRK14OperatingPointPdPd"></span><span id="faiss::gpu::GpuParameterSpace::update_bounds__s.OperatingPointCR.doubleP.doublePC"></span><span class="target" id="structfaiss_1_1ParameterSpace_1a8b8ca45f0a520a7100b4ad9c7be1e079"></span>void <code class="sig-name descname">update_bounds</code><span class="sig-paren">(</span>size_t <em>cno</em>, <em class="property">const</em> <a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss14OperatingPointE" title="faiss::OperatingPoint">OperatingPoint</a> &amp;<em>op</em>, double *<em>upper_bound_perf</em>, double *<em>lower_bound_t</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>find an upper bound on the performance and a lower bound on t for configuration cno given another operating point op </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu17GpuParameterSpace7exploreEP5Index6size_tPKfRK17AutoTuneCriterionP15OperatingPoints">
<span id="_CPPv3NK5faiss3gpu17GpuParameterSpace7exploreEP5Index6size_tPKfRK17AutoTuneCriterionP15OperatingPoints"></span><span id="_CPPv2NK5faiss3gpu17GpuParameterSpace7exploreEP5Index6size_tPKfRK17AutoTuneCriterionP15OperatingPoints"></span><span id="faiss::gpu::GpuParameterSpace::explore__IndexP.s.floatCP.AutoTuneCriterionCR.OperatingPointsPC"></span><span class="target" id="structfaiss_1_1ParameterSpace_1abf95f9ac04d0a2d1d4ac9e3b685bfcc3"></span>void <code class="sig-name descname">explore</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em>, size_t <em>nq</em>, <em class="property">const</em> float *<em>xq</em>, <em class="property">const</em> <a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss17AutoTuneCriterionE" title="faiss::AutoTuneCriterion">AutoTuneCriterion</a> &amp;<em>crit</em>, <a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss15OperatingPointsE" title="faiss::OperatingPoints">OperatingPoints</a> *<em>ops</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>explore operating points <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">index</span></code>: index to run on </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xq</span></code>: query vectors (size nq * index.d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">crit</span></code>: selection criterion </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ops</span></code>: resulting operating points </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuParameterSpace16parameter_rangesE">
<span id="_CPPv3N5faiss3gpu17GpuParameterSpace16parameter_rangesE"></span><span id="_CPPv2N5faiss3gpu17GpuParameterSpace16parameter_rangesE"></span><span id="faiss::gpu::GpuParameterSpace::parameter_ranges__std::vector:ParameterRange:"></span><span class="target" id="structfaiss_1_1ParameterSpace_1a334c1bb54bc2b70950a4a63950728cbb"></span>std::vector&lt;<a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss14ParameterRangeE" title="faiss::ParameterRange">ParameterRange</a>&gt; <code class="sig-name descname">parameter_ranges</code><br /></dt>
<dd><p>all tunable parameters </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuParameterSpace7verboseE">
<span id="_CPPv3N5faiss3gpu17GpuParameterSpace7verboseE"></span><span id="_CPPv2N5faiss3gpu17GpuParameterSpace7verboseE"></span><span id="faiss::gpu::GpuParameterSpace::verbose__i"></span><span class="target" id="structfaiss_1_1ParameterSpace_1a7a9f2292c4e0ac3aad569434edea87b0"></span>int <code class="sig-name descname">verbose</code><br /></dt>
<dd><p>verbosity during exploration </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuParameterSpace13n_experimentsE">
<span id="_CPPv3N5faiss3gpu17GpuParameterSpace13n_experimentsE"></span><span id="_CPPv2N5faiss3gpu17GpuParameterSpace13n_experimentsE"></span><span id="faiss::gpu::GpuParameterSpace::n_experiments__i"></span><span class="target" id="structfaiss_1_1ParameterSpace_1a76aeae25b3269fb24a26194fbe013b86"></span>int <code class="sig-name descname">n_experiments</code><br /></dt>
<dd><p>nb of experiments during optimization (0 = try all combinations) </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuParameterSpace9batchsizeE">
<span id="_CPPv3N5faiss3gpu17GpuParameterSpace9batchsizeE"></span><span id="_CPPv2N5faiss3gpu17GpuParameterSpace9batchsizeE"></span><span id="faiss::gpu::GpuParameterSpace::batchsize__s"></span><span class="target" id="structfaiss_1_1ParameterSpace_1aee8fd44e15656ba80fe98de4c65ed767"></span>size_t <code class="sig-name descname">batchsize</code><br /></dt>
<dd><p>maximum number of queries to submit at a time. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuParameterSpace19thread_over_batchesE">
<span id="_CPPv3N5faiss3gpu17GpuParameterSpace19thread_over_batchesE"></span><span id="_CPPv2N5faiss3gpu17GpuParameterSpace19thread_over_batchesE"></span><span id="faiss::gpu::GpuParameterSpace::thread_over_batches__b"></span><span class="target" id="structfaiss_1_1ParameterSpace_1af6dc3b9c5631b509cbae99bf0f24170b"></span>bool <code class="sig-name descname">thread_over_batches</code><br /></dt>
<dd><p>use multithreading over batches (useful to benchmark independent single-searches) </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuParameterSpace17min_test_durationE">
<span id="_CPPv3N5faiss3gpu17GpuParameterSpace17min_test_durationE"></span><span id="_CPPv2N5faiss3gpu17GpuParameterSpace17min_test_durationE"></span><span id="faiss::gpu::GpuParameterSpace::min_test_duration__double"></span><span class="target" id="structfaiss_1_1ParameterSpace_1a50d9d784d69d9812c12dc9b2baf9351d"></span>double <code class="sig-name descname">min_test_duration</code><br /></dt>
<dd><p>run tests several times until they reach at least this duration (to avoid jittering in MT mode) </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt id="_CPPv4N5faiss3gpu12GpuResourcesE">
<span id="_CPPv3N5faiss3gpu12GpuResourcesE"></span><span id="_CPPv2N5faiss3gpu12GpuResourcesE"></span><span id="faiss::gpu::GpuResources"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources"></span><em class="property">class </em><code class="sig-name descname">GpuResources</code><br /></dt>
<dd><em>#include &lt;GpuResources.h&gt;</em><p>Base class of GPU-side resource provider; hides provision of cuBLAS handles, CUDA streams and all device memory allocation performed </p>
<p>Subclassed by <a class="reference internal" href="#classfaiss_1_1gpu_1_1StandardGpuResourcesImpl"><span class="std std-ref">faiss::gpu::StandardGpuResourcesImpl</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuResourcesD0Ev">
<span id="_CPPv3N5faiss3gpu12GpuResourcesD0Ev"></span><span id="_CPPv2N5faiss3gpu12GpuResourcesD0Ev"></span><span id="faiss::gpu::GpuResources::~GpuResources"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1a979a487daf95fc077321e4cd8020278c"></span><code class="sig-name descname">~GpuResources</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuResources19initializeForDeviceEi">
<span id="_CPPv3N5faiss3gpu12GpuResources19initializeForDeviceEi"></span><span id="_CPPv2N5faiss3gpu12GpuResources19initializeForDeviceEi"></span><span id="faiss::gpu::GpuResources::initializeForDevice__i"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1a1f7f4e220ce279257e1daf929c3b0d4e"></span>void <code class="sig-name descname">initializeForDevice</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span> = 0<br /></dt>
<dd><p>Call to pre-allocate resources for a particular device. If this is not called, then resources will be allocated at the first time of demand </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuResources13getBlasHandleEi">
<span id="_CPPv3N5faiss3gpu12GpuResources13getBlasHandleEi"></span><span id="_CPPv2N5faiss3gpu12GpuResources13getBlasHandleEi"></span><span id="faiss::gpu::GpuResources::getBlasHandle__i"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1aa2682b8503dfdab4f7f5ef867035ad29"></span>cublasHandle_t <code class="sig-name descname">getBlasHandle</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span> = 0<br /></dt>
<dd><p>Returns the cuBLAS handle that we use for the given device. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuResources16getDefaultStreamEi">
<span id="_CPPv3N5faiss3gpu12GpuResources16getDefaultStreamEi"></span><span id="_CPPv2N5faiss3gpu12GpuResources16getDefaultStreamEi"></span><span id="faiss::gpu::GpuResources::getDefaultStream__i"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1a6c564198df6ba675920c993e2af34b8c"></span>cudaStream_t <code class="sig-name descname">getDefaultStream</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span> = 0<br /></dt>
<dd><p>Returns the stream that we order all computation on for the given device </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuResources16setDefaultStreamEi12cudaStream_t">
<span id="_CPPv3N5faiss3gpu12GpuResources16setDefaultStreamEi12cudaStream_t"></span><span id="_CPPv2N5faiss3gpu12GpuResources16setDefaultStreamEi12cudaStream_t"></span><span id="faiss::gpu::GpuResources::setDefaultStream__i.cudaStream_t"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1ac7a6bad94585904e17907844736165ec"></span>void <code class="sig-name descname">setDefaultStream</code><span class="sig-paren">(</span>int <em>device</em>, cudaStream_t <em>stream</em><span class="sig-paren">)</span> = 0<br /></dt>
<dd><p>Overrides the default stream for a device to the user-supplied stream. The resources object does not own this stream (i.e., it will not destroy it). </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuResources19getAlternateStreamsEi">
<span id="_CPPv3N5faiss3gpu12GpuResources19getAlternateStreamsEi"></span><span id="_CPPv2N5faiss3gpu12GpuResources19getAlternateStreamsEi"></span><span id="faiss::gpu::GpuResources::getAlternateStreams__i"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1afb469bf3b107f43ef0d6abe4a014bb5b"></span>std::vector&lt;cudaStream_t&gt; <code class="sig-name descname">getAlternateStreams</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span> = 0<br /></dt>
<dd><p>Returns the set of alternative streams that we use for the given device. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuResources11allocMemoryERK12AllocRequest">
<span id="_CPPv3N5faiss3gpu12GpuResources11allocMemoryERK12AllocRequest"></span><span id="_CPPv2N5faiss3gpu12GpuResources11allocMemoryERK12AllocRequest"></span><span id="faiss::gpu::GpuResources::allocMemory__AllocRequestCR"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1a4f29fea84dc03a44931d2e985ee39d82"></span>void *<code class="sig-name descname">allocMemory</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu12AllocRequestE" title="faiss::gpu::AllocRequest">AllocRequest</a> &amp;<em>req</em><span class="sig-paren">)</span> = 0<br /></dt>
<dd><p>Memory management Returns an allocation from the given memory space, ordered with respect to the given stream (i.e., the first user will be a kernel in this stream). All allocations are sized internally to be the next highest multiple of 16 bytes, and all allocations returned are guaranteed to be 16 byte aligned. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuResources13deallocMemoryEiPv">
<span id="_CPPv3N5faiss3gpu12GpuResources13deallocMemoryEiPv"></span><span id="_CPPv2N5faiss3gpu12GpuResources13deallocMemoryEiPv"></span><span id="faiss::gpu::GpuResources::deallocMemory__i.voidP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1a0f444157f93f8c99cf1ce12591818d3d"></span>void <code class="sig-name descname">deallocMemory</code><span class="sig-paren">(</span>int <em>device</em>, void *<em>in</em><span class="sig-paren">)</span> = 0<br /></dt>
<dd><p>Returns a previous allocation. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu12GpuResources22getTempMemoryAvailableEi">
<span id="_CPPv3NK5faiss3gpu12GpuResources22getTempMemoryAvailableEi"></span><span id="_CPPv2NK5faiss3gpu12GpuResources22getTempMemoryAvailableEi"></span><span id="faiss::gpu::GpuResources::getTempMemoryAvailable__iC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1abfad190786252900370003ed02b3f411"></span>size_t <code class="sig-name descname">getTempMemoryAvailable</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span> <em class="property">const</em> = 0<br /></dt>
<dd><p>For MemorySpace::Temporary, how much space is immediately available without cudaMalloc allocation? </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuResources15getPinnedMemoryEv">
<span id="_CPPv3N5faiss3gpu12GpuResources15getPinnedMemoryEv"></span><span id="_CPPv2N5faiss3gpu12GpuResources15getPinnedMemoryEv"></span><span id="faiss::gpu::GpuResources::getPinnedMemory"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1ad1b018745239e03d0044b659335c17a8"></span>std::pair&lt;void*, size_t&gt; <code class="sig-name descname">getPinnedMemory</code><span class="sig-paren">(</span><span class="sig-paren">)</span> = 0<br /></dt>
<dd><p>Returns the available CPU pinned memory buffer. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuResources18getAsyncCopyStreamEi">
<span id="_CPPv3N5faiss3gpu12GpuResources18getAsyncCopyStreamEi"></span><span id="_CPPv2N5faiss3gpu12GpuResources18getAsyncCopyStreamEi"></span><span id="faiss::gpu::GpuResources::getAsyncCopyStream__i"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1a104b291ed4116033752144e90856c2e7"></span>cudaStream_t <code class="sig-name descname">getAsyncCopyStream</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span> = 0<br /></dt>
<dd><p>Returns the stream on which we perform async CPU &lt;-&gt; GPU copies. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuResources26getBlasHandleCurrentDeviceEv">
<span id="_CPPv3N5faiss3gpu12GpuResources26getBlasHandleCurrentDeviceEv"></span><span id="_CPPv2N5faiss3gpu12GpuResources26getBlasHandleCurrentDeviceEv"></span><span id="faiss::gpu::GpuResources::getBlasHandleCurrentDevice"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1a00cb7bcbc5f1a00da673f30749149b12"></span>cublasHandle_t <code class="sig-name descname">getBlasHandleCurrentDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Calls getBlasHandle with the current device. </p>
<p>Functions provided by default </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuResources29getDefaultStreamCurrentDeviceEv">
<span id="_CPPv3N5faiss3gpu12GpuResources29getDefaultStreamCurrentDeviceEv"></span><span id="_CPPv2N5faiss3gpu12GpuResources29getDefaultStreamCurrentDeviceEv"></span><span id="faiss::gpu::GpuResources::getDefaultStreamCurrentDevice"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1aa0354aa570c24e17a9f8a6a45b153ed2"></span>cudaStream_t <code class="sig-name descname">getDefaultStreamCurrentDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Calls getDefaultStream with the current device. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu12GpuResources35getTempMemoryAvailableCurrentDeviceEv">
<span id="_CPPv3NK5faiss3gpu12GpuResources35getTempMemoryAvailableCurrentDeviceEv"></span><span id="_CPPv2NK5faiss3gpu12GpuResources35getTempMemoryAvailableCurrentDeviceEv"></span><span id="faiss::gpu::GpuResources::getTempMemoryAvailableCurrentDeviceC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1aeb57bc66a9823aaf140324e22985a71d"></span>size_t <code class="sig-name descname">getTempMemoryAvailableCurrentDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Calls getTempMemoryAvailable with the current device. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuResources17allocMemoryHandleERK12AllocRequest">
<span id="_CPPv3N5faiss3gpu12GpuResources17allocMemoryHandleERK12AllocRequest"></span><span id="_CPPv2N5faiss3gpu12GpuResources17allocMemoryHandleERK12AllocRequest"></span><span id="faiss::gpu::GpuResources::allocMemoryHandle__AllocRequestCR"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1af0949f87d4f522b7ee5be17ad760b266"></span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu20GpuMemoryReservationE" title="faiss::gpu::GpuMemoryReservation">GpuMemoryReservation</a> <code class="sig-name descname">allocMemoryHandle</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu12AllocRequestE" title="faiss::gpu::AllocRequest">AllocRequest</a> &amp;<em>req</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns a temporary memory allocation via a RAII object. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuResources17syncDefaultStreamEi">
<span id="_CPPv3N5faiss3gpu12GpuResources17syncDefaultStreamEi"></span><span id="_CPPv2N5faiss3gpu12GpuResources17syncDefaultStreamEi"></span><span id="faiss::gpu::GpuResources::syncDefaultStream__i"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1a130deab9f6d49cbdde8f9da45ce868fd"></span>void <code class="sig-name descname">syncDefaultStream</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Synchronizes the CPU with respect to the default stream for the given device </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuResources30syncDefaultStreamCurrentDeviceEv">
<span id="_CPPv3N5faiss3gpu12GpuResources30syncDefaultStreamCurrentDeviceEv"></span><span id="_CPPv2N5faiss3gpu12GpuResources30syncDefaultStreamCurrentDeviceEv"></span><span id="faiss::gpu::GpuResources::syncDefaultStreamCurrentDevice"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1adf6a5653ec2bbb0e9d58a0e1dd73897f"></span>void <code class="sig-name descname">syncDefaultStreamCurrentDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Calls syncDefaultStream for the current device. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuResources32getAlternateStreamsCurrentDeviceEv">
<span id="_CPPv3N5faiss3gpu12GpuResources32getAlternateStreamsCurrentDeviceEv"></span><span id="_CPPv2N5faiss3gpu12GpuResources32getAlternateStreamsCurrentDeviceEv"></span><span id="faiss::gpu::GpuResources::getAlternateStreamsCurrentDevice"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1a2104e59caebc31d9f98729281b616acc"></span>std::vector&lt;cudaStream_t&gt; <code class="sig-name descname">getAlternateStreamsCurrentDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Calls getAlternateStreams for the current device. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuResources31getAsyncCopyStreamCurrentDeviceEv">
<span id="_CPPv3N5faiss3gpu12GpuResources31getAsyncCopyStreamCurrentDeviceEv"></span><span id="_CPPv2N5faiss3gpu12GpuResources31getAsyncCopyStreamCurrentDeviceEv"></span><span id="faiss::gpu::GpuResources::getAsyncCopyStreamCurrentDevice"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1aefb90d15fade57cdfcff03ec800183d4"></span>cudaStream_t <code class="sig-name descname">getAsyncCopyStreamCurrentDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Calls getAsyncCopyStream for the current device. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt id="_CPPv4N5faiss3gpu20GpuResourcesProviderE">
<span id="_CPPv3N5faiss3gpu20GpuResourcesProviderE"></span><span id="_CPPv2N5faiss3gpu20GpuResourcesProviderE"></span><span id="faiss::gpu::GpuResourcesProvider"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResourcesProvider"></span><em class="property">class </em><code class="sig-name descname">GpuResourcesProvider</code><br /></dt>
<dd><em>#include &lt;GpuResources.h&gt;</em><p>Interface for a provider of a shared resources object. </p>
<p>Subclassed by <a class="reference internal" href="#classfaiss_1_1gpu_1_1StandardGpuResources"><span class="std std-ref">faiss::gpu::StandardGpuResources</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu20GpuResourcesProviderD0Ev">
<span id="_CPPv3N5faiss3gpu20GpuResourcesProviderD0Ev"></span><span id="_CPPv2N5faiss3gpu20GpuResourcesProviderD0Ev"></span><span id="faiss::gpu::GpuResourcesProvider::~GpuResourcesProvider"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResourcesProvider_1a9de5bf47e6a9754f19e43b30dd61bfca"></span><code class="sig-name descname">~GpuResourcesProvider</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu20GpuResourcesProvider12getResourcesEv">
<span id="_CPPv3N5faiss3gpu20GpuResourcesProvider12getResourcesEv"></span><span id="_CPPv2N5faiss3gpu20GpuResourcesProvider12getResourcesEv"></span><span id="faiss::gpu::GpuResourcesProvider::getResources"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResourcesProvider_1a0b727386cf462ab0392ee1ccca8135b3"></span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <code class="sig-name descname">getResources</code><span class="sig-paren">(</span><span class="sig-paren">)</span> = 0<br /></dt>
<dd><p>Returns the shared resources object. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4I0EN5faiss3gpu12IndexWrapperE">
<span id="_CPPv3I0EN5faiss3gpu12IndexWrapperE"></span><span id="_CPPv2I0EN5faiss3gpu12IndexWrapperE"></span>template&lt;typename <code class="sig-name descname">GpuIndex</code>&gt;<br /><span class="target" id="structfaiss_1_1gpu_1_1IndexWrapper"></span><em class="property">struct </em><code class="sig-name descname">IndexWrapper</code><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12IndexWrapper12IndexWrapperEiNSt8functionIFNSt10unique_ptrI8GpuIndexEEP20GpuResourcesProvideriEEE">
<span id="_CPPv3N5faiss3gpu12IndexWrapper12IndexWrapperEiNSt8functionIFNSt10unique_ptrI8GpuIndexEEP20GpuResourcesProvideriEEE"></span><span id="_CPPv2N5faiss3gpu12IndexWrapper12IndexWrapperEiNSt8functionIFNSt10unique_ptrI8GpuIndexEEP20GpuResourcesProvideriEEE"></span><span class="target" id="structfaiss_1_1gpu_1_1IndexWrapper_1a6b9484717293c385b79b8408e525fda5"></span><code class="sig-name descname">IndexWrapper</code><span class="sig-paren">(</span>int <em>numGpus</em>, std::function&lt;std::unique_ptr&lt;<a class="reference internal" href="../file/IndexWrapper_8h.html#_CPPv4I0EN5faiss3gpu12IndexWrapperE" title="faiss::gpu::IndexWrapper::GpuIndex">GpuIndex</a>&gt;<span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a>*, int<span class="sig-paren">)</span>&gt; <em>init</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12IndexWrapper8getIndexEv">
<span id="_CPPv3N5faiss3gpu12IndexWrapper8getIndexEv"></span><span id="_CPPv2N5faiss3gpu12IndexWrapper8getIndexEv"></span><span id="faiss::gpu::IndexWrapper::getIndex"></span><span class="target" id="structfaiss_1_1gpu_1_1IndexWrapper_1a4abae0ec686d3e382ba7562ee97e17cc"></span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">getIndex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12IndexWrapper12runOnIndicesENSt8functionIFvP8GpuIndexEEE">
<span id="_CPPv3N5faiss3gpu12IndexWrapper12runOnIndicesENSt8functionIFvP8GpuIndexEEE"></span><span id="_CPPv2N5faiss3gpu12IndexWrapper12runOnIndicesENSt8functionIFvP8GpuIndexEEE"></span><span class="target" id="structfaiss_1_1gpu_1_1IndexWrapper_1a533e41b6d13eaeefb960fa48aba50430"></span>void <code class="sig-name descname">runOnIndices</code><span class="sig-paren">(</span>std::function&lt;void<span class="sig-paren">(</span><a class="reference internal" href="../file/IndexWrapper_8h.html#_CPPv4I0EN5faiss3gpu12IndexWrapperE" title="faiss::gpu::IndexWrapper::GpuIndex">GpuIndex</a>*<span class="sig-paren">)</span>&gt; <em>f</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12IndexWrapper12setNumProbesEi">
<span id="_CPPv3N5faiss3gpu12IndexWrapper12setNumProbesEi"></span><span id="_CPPv2N5faiss3gpu12IndexWrapper12setNumProbesEi"></span><span id="faiss::gpu::IndexWrapper::setNumProbes__i"></span><span class="target" id="structfaiss_1_1gpu_1_1IndexWrapper_1a98d34a44e898d9e6c35de0da8f4eff8e"></span>void <code class="sig-name descname">setNumProbes</code><span class="sig-paren">(</span>int <em>nprobe</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu12IndexWrapper9resourcesE">
<span id="_CPPv3N5faiss3gpu12IndexWrapper9resourcesE"></span><span id="_CPPv2N5faiss3gpu12IndexWrapper9resourcesE"></span><span id="faiss::gpu::IndexWrapper::resources__std::vector:std::unique_ptr:faiss::gpu::StandardGpuResources::"></span><span class="target" id="structfaiss_1_1gpu_1_1IndexWrapper_1a9a617b326139ba9e1082f6052a8963f6"></span>std::vector&lt;std::unique_ptr&lt;<a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4N5faiss3gpuE" title="faiss::gpu">gpu</a>::<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1StandardGpuResources.html#_CPPv4N5faiss3gpu20StandardGpuResourcesE" title="faiss::gpu::StandardGpuResources">StandardGpuResources</a>&gt;&gt; <code class="sig-name descname">resources</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu12IndexWrapper8subIndexE">
<span id="_CPPv3N5faiss3gpu12IndexWrapper8subIndexE"></span><span id="_CPPv2N5faiss3gpu12IndexWrapper8subIndexE"></span><span id="faiss::gpu::IndexWrapper::subIndex__std::vector:std::unique_ptr:GpuIndex::"></span><span class="target" id="structfaiss_1_1gpu_1_1IndexWrapper_1a166f30f9ea4d8d6b9a5dacc5c37e8871"></span>std::vector&lt;std::unique_ptr&lt;<a class="reference internal" href="../file/IndexWrapper_8h.html#_CPPv4I0EN5faiss3gpu12IndexWrapperE" title="faiss::gpu::IndexWrapper::GpuIndex">GpuIndex</a>&gt;&gt; <code class="sig-name descname">subIndex</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu12IndexWrapper12replicaIndexE">
<span id="_CPPv3N5faiss3gpu12IndexWrapper12replicaIndexE"></span><span id="_CPPv2N5faiss3gpu12IndexWrapper12replicaIndexE"></span><span id="faiss::gpu::IndexWrapper::replicaIndex__std::unique_ptr:faiss::IndexReplicas:"></span><span class="target" id="structfaiss_1_1gpu_1_1IndexWrapper_1af265d777bf70e674192125f090718750"></span>std::unique_ptr&lt;<a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexReplicas_8h.html#_CPPv4N5faiss13IndexReplicasE" title="faiss::IndexReplicas">IndexReplicas</a>&gt; <code class="sig-name descname">replicaIndex</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt id="_CPPv4N5faiss3gpu11KernelTimerE">
<span id="_CPPv3N5faiss3gpu11KernelTimerE"></span><span id="_CPPv2N5faiss3gpu11KernelTimerE"></span><span id="faiss::gpu::KernelTimer"></span><span class="target" id="classfaiss_1_1gpu_1_1KernelTimer"></span><em class="property">class </em><code class="sig-name descname">KernelTimer</code><br /></dt>
<dd><em>#include &lt;Timer.h&gt;</em><p>Utility class for timing execution of a kernel. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11KernelTimer11KernelTimerE12cudaStream_t">
<span id="_CPPv3N5faiss3gpu11KernelTimer11KernelTimerE12cudaStream_t"></span><span id="_CPPv2N5faiss3gpu11KernelTimer11KernelTimerE12cudaStream_t"></span><span id="faiss::gpu::KernelTimer::KernelTimer__cudaStream_t"></span><span class="target" id="classfaiss_1_1gpu_1_1KernelTimer_1af533a5a8734243263032960c2445d233"></span><code class="sig-name descname">KernelTimer</code><span class="sig-paren">(</span>cudaStream_t <em>stream</em> = 0<span class="sig-paren">)</span><br /></dt>
<dd><p>Constructor starts the timer and adds an event into the current device stream </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11KernelTimerD0Ev">
<span id="_CPPv3N5faiss3gpu11KernelTimerD0Ev"></span><span id="_CPPv2N5faiss3gpu11KernelTimerD0Ev"></span><span id="faiss::gpu::KernelTimer::~KernelTimer"></span><span class="target" id="classfaiss_1_1gpu_1_1KernelTimer_1af9883350bf0732b2452f1ce4670266fa"></span><code class="sig-name descname">~KernelTimer</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Destructor releases event resources. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11KernelTimer19elapsedMillisecondsEv">
<span id="_CPPv3N5faiss3gpu11KernelTimer19elapsedMillisecondsEv"></span><span id="_CPPv2N5faiss3gpu11KernelTimer19elapsedMillisecondsEv"></span><span id="faiss::gpu::KernelTimer::elapsedMilliseconds"></span><span class="target" id="classfaiss_1_1gpu_1_1KernelTimer_1ac79ab2b2ef60a3fb713f7c80380ad2b5"></span>float <code class="sig-name descname">elapsedMilliseconds</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Adds a stop event then synchronizes on the stop event to get the actual GPU-side kernel timings for any kernels launched in the current stream. Returns the number of milliseconds elapsed. Can only be called once. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Private Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11KernelTimer11startEvent_E">
<span id="_CPPv3N5faiss3gpu11KernelTimer11startEvent_E"></span><span id="_CPPv2N5faiss3gpu11KernelTimer11startEvent_E"></span><span id="faiss::gpu::KernelTimer::startEvent___cudaEvent_t"></span><span class="target" id="classfaiss_1_1gpu_1_1KernelTimer_1ae02d1204dcac4dc5cff5be785312a7b4"></span>cudaEvent_t <code class="sig-name descname">startEvent_</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11KernelTimer10stopEvent_E">
<span id="_CPPv3N5faiss3gpu11KernelTimer10stopEvent_E"></span><span id="_CPPv2N5faiss3gpu11KernelTimer10stopEvent_E"></span><span id="faiss::gpu::KernelTimer::stopEvent___cudaEvent_t"></span><span class="target" id="classfaiss_1_1gpu_1_1KernelTimer_1a53028f1e94f1f092208a6df69893b73f"></span>cudaEvent_t <code class="sig-name descname">stopEvent_</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11KernelTimer7stream_E">
<span id="_CPPv3N5faiss3gpu11KernelTimer7stream_E"></span><span id="_CPPv2N5faiss3gpu11KernelTimer7stream_E"></span><span id="faiss::gpu::KernelTimer::stream___cudaStream_t"></span><span class="target" id="classfaiss_1_1gpu_1_1KernelTimer_1aac90fea6973d68d2b12149d5fb928da8"></span>cudaStream_t <code class="sig-name descname">stream_</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11KernelTimer6valid_E">
<span id="_CPPv3N5faiss3gpu11KernelTimer6valid_E"></span><span id="_CPPv2N5faiss3gpu11KernelTimer6valid_E"></span><span id="faiss::gpu::KernelTimer::valid___b"></span><span class="target" id="classfaiss_1_1gpu_1_1KernelTimer_1a7582d3003da51096c5740c8773d9c3ec"></span>bool <code class="sig-name descname">valid_</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemoryE">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemoryE"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemoryE"></span><span id="faiss::gpu::StackDeviceMemory"></span><span class="target" id="classfaiss_1_1gpu_1_1StackDeviceMemory"></span><em class="property">class </em><code class="sig-name descname">StackDeviceMemory</code><br /></dt>
<dd><em>#include &lt;StackDeviceMemory.h&gt;</em><p>Device memory manager that provides temporary memory allocations out of a region of memory, for a single device </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory17StackDeviceMemoryEP12GpuResourcesi6size_t">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory17StackDeviceMemoryEP12GpuResourcesi6size_t"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory17StackDeviceMemoryEP12GpuResourcesi6size_t"></span><span id="faiss::gpu::StackDeviceMemory::StackDeviceMemory__GpuResourcesP.i.s"></span><span class="target" id="classfaiss_1_1gpu_1_1StackDeviceMemory_1a0b23b6f143696a118db874ea55dcf7bd"></span><code class="sig-name descname">StackDeviceMemory</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a> *<em>res</em>, int <em>device</em>, size_t <em>allocPerDevice</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Allocate a new region of memory that we manage. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory17StackDeviceMemoryEiPv6size_tb">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory17StackDeviceMemoryEiPv6size_tb"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory17StackDeviceMemoryEiPv6size_tb"></span><span id="faiss::gpu::StackDeviceMemory::StackDeviceMemory__i.voidP.s.b"></span><span class="target" id="classfaiss_1_1gpu_1_1StackDeviceMemory_1afd7a84b8cd1f747d873cdd1ab07e8a4b"></span><code class="sig-name descname">StackDeviceMemory</code><span class="sig-paren">(</span>int <em>device</em>, void *<em>p</em>, size_t <em>size</em>, bool <em>isOwner</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Manage a region of memory for a particular device, with or without ownership </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemoryD0Ev">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemoryD0Ev"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemoryD0Ev"></span><span id="faiss::gpu::StackDeviceMemory::~StackDeviceMemory"></span><span class="target" id="classfaiss_1_1gpu_1_1StackDeviceMemory_1ab9c08b79317d9d2dae9208b41dba7826"></span><code class="sig-name descname">~StackDeviceMemory</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu17StackDeviceMemory9getDeviceEv">
<span id="_CPPv3NK5faiss3gpu17StackDeviceMemory9getDeviceEv"></span><span id="_CPPv2NK5faiss3gpu17StackDeviceMemory9getDeviceEv"></span><span id="faiss::gpu::StackDeviceMemory::getDeviceC"></span><span class="target" id="classfaiss_1_1gpu_1_1StackDeviceMemory_1ab4d6a319417fb80e56cce4d28124ea89"></span>int <code class="sig-name descname">getDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory11allocMemoryE12cudaStream_t6size_t">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory11allocMemoryE12cudaStream_t6size_t"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory11allocMemoryE12cudaStream_t6size_t"></span><span id="faiss::gpu::StackDeviceMemory::allocMemory__cudaStream_t.s"></span><span class="target" id="classfaiss_1_1gpu_1_1StackDeviceMemory_1a24c4533f998df2a186ab6588257dd5fa"></span>void *<code class="sig-name descname">allocMemory</code><span class="sig-paren">(</span>cudaStream_t <em>stream</em>, size_t <em>size</em><span class="sig-paren">)</span><br /></dt>
<dd><p>All allocations requested should be a multiple of 16 bytes. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory13deallocMemoryEi12cudaStream_t6size_tPv">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory13deallocMemoryEi12cudaStream_t6size_tPv"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory13deallocMemoryEi12cudaStream_t6size_tPv"></span><span id="faiss::gpu::StackDeviceMemory::deallocMemory__i.cudaStream_t.s.voidP"></span><span class="target" id="classfaiss_1_1gpu_1_1StackDeviceMemory_1a59d4cd8b4ef1b4968c5954c2c778d83f"></span>void <code class="sig-name descname">deallocMemory</code><span class="sig-paren">(</span>int <em>device</em>, cudaStream_t, size_t <em>size</em>, void *<em>p</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu17StackDeviceMemory16getSizeAvailableEv">
<span id="_CPPv3NK5faiss3gpu17StackDeviceMemory16getSizeAvailableEv"></span><span id="_CPPv2NK5faiss3gpu17StackDeviceMemory16getSizeAvailableEv"></span><span id="faiss::gpu::StackDeviceMemory::getSizeAvailableC"></span><span class="target" id="classfaiss_1_1gpu_1_1StackDeviceMemory_1a58431176d97b990ab8144bb30d7c2bd5"></span>size_t <code class="sig-name descname">getSizeAvailable</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu17StackDeviceMemory8toStringEv">
<span id="_CPPv3NK5faiss3gpu17StackDeviceMemory8toStringEv"></span><span id="_CPPv2NK5faiss3gpu17StackDeviceMemory8toStringEv"></span><span id="faiss::gpu::StackDeviceMemory::toStringC"></span><span class="target" id="classfaiss_1_1gpu_1_1StackDeviceMemory_1adc327179a0f60e889bad08dfb0ad5b0d"></span>std::string <code class="sig-name descname">toString</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Protected Attributes</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory7device_E">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory7device_E"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory7device_E"></span><span id="faiss::gpu::StackDeviceMemory::device___i"></span><span class="target" id="classfaiss_1_1gpu_1_1StackDeviceMemory_1ac54f49a3be6b7fe4f1fc70094075d875"></span>int <code class="sig-name descname">device_</code><br /></dt>
<dd><p>Our device. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory6stack_E">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory6stack_E"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory6stack_E"></span><span id="faiss::gpu::StackDeviceMemory::stack___Stack"></span><span class="target" id="classfaiss_1_1gpu_1_1StackDeviceMemory_1a323a632f397eaf3df3034595762c6a29"></span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1StackDeviceMemory.html#_CPPv4N5faiss3gpu17StackDeviceMemory5StackE" title="faiss::gpu::StackDeviceMemory::Stack">Stack</a> <code class="sig-name descname">stack_</code><br /></dt>
<dd><p>Memory stack. </p>
</dd></dl>

</div>
<dl class="cpp struct">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory5RangeE">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory5RangeE"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory5RangeE"></span><span id="faiss::gpu::StackDeviceMemory::Range"></span><span class="target" id="structfaiss_1_1gpu_1_1StackDeviceMemory_1_1Range"></span><em class="property">struct </em><code class="sig-name descname">Range</code><br /></dt>
<dd><em>#include &lt;StackDeviceMemory.h&gt;</em><p>Previous allocation ranges and the streams for which synchronization is required </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory5Range5RangeEPcPc12cudaStream_t">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory5Range5RangeEPcPc12cudaStream_t"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory5Range5RangeEPcPc12cudaStream_t"></span><span id="faiss::gpu::StackDeviceMemory::Range::Range__cP.cP.cudaStream_t"></span><span class="target" id="structfaiss_1_1gpu_1_1StackDeviceMemory_1_1Range_1a02f1fe4dc4d707011090e3e925e9d9ef"></span><code class="sig-name descname">Range</code><span class="sig-paren">(</span>char *<em>s</em>, char *<em>e</em>, cudaStream_t <em>str</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory5Range6start_E">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory5Range6start_E"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory5Range6start_E"></span><span id="faiss::gpu::StackDeviceMemory::Range::start___cP"></span><span class="target" id="structfaiss_1_1gpu_1_1StackDeviceMemory_1_1Range_1a421e4893035861050a391d0088df815a"></span>char *<code class="sig-name descname">start_</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory5Range4end_E">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory5Range4end_E"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory5Range4end_E"></span><span id="faiss::gpu::StackDeviceMemory::Range::end___cP"></span><span class="target" id="structfaiss_1_1gpu_1_1StackDeviceMemory_1_1Range_1ab822fde6b35d02fa17b291db81e72c1f"></span>char *<code class="sig-name descname">end_</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory5Range7stream_E">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory5Range7stream_E"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory5Range7stream_E"></span><span id="faiss::gpu::StackDeviceMemory::Range::stream___cudaStream_t"></span><span class="target" id="structfaiss_1_1gpu_1_1StackDeviceMemory_1_1Range_1acca587483d1cb6776c200b11f518a34c"></span>cudaStream_t <code class="sig-name descname">stream_</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory5StackE">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory5StackE"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory5StackE"></span><span id="faiss::gpu::StackDeviceMemory::Stack"></span><span class="target" id="structfaiss_1_1gpu_1_1StackDeviceMemory_1_1Stack"></span><em class="property">struct </em><code class="sig-name descname">Stack</code><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory5Stack5StackEP12GpuResourcesi6size_t">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory5Stack5StackEP12GpuResourcesi6size_t"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory5Stack5StackEP12GpuResourcesi6size_t"></span><span id="faiss::gpu::StackDeviceMemory::Stack::Stack__GpuResourcesP.i.s"></span><span class="target" id="structfaiss_1_1gpu_1_1StackDeviceMemory_1_1Stack_1ab6afe6dad139fe3759c2835e31475e93"></span><code class="sig-name descname">Stack</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a> *<em>res</em>, int <em>device</em>, size_t <em>size</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Constructor that allocates memory via cudaMalloc. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory5StackD0Ev">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory5StackD0Ev"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory5StackD0Ev"></span><span id="faiss::gpu::StackDeviceMemory::Stack::~Stack"></span><span class="target" id="structfaiss_1_1gpu_1_1StackDeviceMemory_1_1Stack_1a79be10f299ef6152040bff6c0cdd51ca"></span><code class="sig-name descname">~Stack</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu17StackDeviceMemory5Stack16getSizeAvailableEv">
<span id="_CPPv3NK5faiss3gpu17StackDeviceMemory5Stack16getSizeAvailableEv"></span><span id="_CPPv2NK5faiss3gpu17StackDeviceMemory5Stack16getSizeAvailableEv"></span><span id="faiss::gpu::StackDeviceMemory::Stack::getSizeAvailableC"></span><span class="target" id="structfaiss_1_1gpu_1_1StackDeviceMemory_1_1Stack_1a897d537bc1505843de36e104c1c9163c"></span>size_t <code class="sig-name descname">getSizeAvailable</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns how much size is available for an allocation without calling cudaMalloc </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory5Stack8getAllocE6size_t12cudaStream_t">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory5Stack8getAllocE6size_t12cudaStream_t"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory5Stack8getAllocE6size_t12cudaStream_t"></span><span id="faiss::gpu::StackDeviceMemory::Stack::getAlloc__s.cudaStream_t"></span><span class="target" id="structfaiss_1_1gpu_1_1StackDeviceMemory_1_1Stack_1a2ff2675de5f5dbfc50d8ca8400845396"></span>char *<code class="sig-name descname">getAlloc</code><span class="sig-paren">(</span>size_t <em>size</em>, cudaStream_t <em>stream</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Obtains an allocation; all allocations are guaranteed to be 16 byte aligned </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory5Stack11returnAllocEPc6size_t12cudaStream_t">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory5Stack11returnAllocEPc6size_t12cudaStream_t"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory5Stack11returnAllocEPc6size_t12cudaStream_t"></span><span id="faiss::gpu::StackDeviceMemory::Stack::returnAlloc__cP.s.cudaStream_t"></span><span class="target" id="structfaiss_1_1gpu_1_1StackDeviceMemory_1_1Stack_1a5c652c126c2bf37149995cdb9d46a382"></span>void <code class="sig-name descname">returnAlloc</code><span class="sig-paren">(</span>char *<em>p</em>, size_t <em>size</em>, cudaStream_t <em>stream</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns an allocation. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu17StackDeviceMemory5Stack8toStringEv">
<span id="_CPPv3NK5faiss3gpu17StackDeviceMemory5Stack8toStringEv"></span><span id="_CPPv2NK5faiss3gpu17StackDeviceMemory5Stack8toStringEv"></span><span id="faiss::gpu::StackDeviceMemory::Stack::toStringC"></span><span class="target" id="structfaiss_1_1gpu_1_1StackDeviceMemory_1_1Stack_1a85a65314a9a97a91d36bf1398f07f17d"></span>std::string <code class="sig-name descname">toString</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the stack state. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory5Stack4res_E">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory5Stack4res_E"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory5Stack4res_E"></span><span id="faiss::gpu::StackDeviceMemory::Stack::res___GpuResourcesP"></span><span class="target" id="structfaiss_1_1gpu_1_1StackDeviceMemory_1_1Stack_1a9b05d832e1643160a35bc02066a2c7b1"></span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a> *<code class="sig-name descname">res_</code><br /></dt>
<dd><p>Our <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuResources"><span class="std std-ref">GpuResources</span></a> object. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory5Stack7device_E">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory5Stack7device_E"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory5Stack7device_E"></span><span id="faiss::gpu::StackDeviceMemory::Stack::device___i"></span><span class="target" id="structfaiss_1_1gpu_1_1StackDeviceMemory_1_1Stack_1a0950e30ddd0008367a0fb109db9c01b9"></span>int <code class="sig-name descname">device_</code><br /></dt>
<dd><p>Device this allocation is on. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory5Stack6alloc_E">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory5Stack6alloc_E"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory5Stack6alloc_E"></span><span id="faiss::gpu::StackDeviceMemory::Stack::alloc___cP"></span><span class="target" id="structfaiss_1_1gpu_1_1StackDeviceMemory_1_1Stack_1ad856213491fe150e623daf1732da6909"></span>char *<code class="sig-name descname">alloc_</code><br /></dt>
<dd><p>Where our temporary memory buffer is allocated; we allocate starting 16 bytes into this </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory5Stack10allocSize_E">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory5Stack10allocSize_E"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory5Stack10allocSize_E"></span><span id="faiss::gpu::StackDeviceMemory::Stack::allocSize___s"></span><span class="target" id="structfaiss_1_1gpu_1_1StackDeviceMemory_1_1Stack_1ae85e9575618031342319550a9994b24c"></span>size_t <code class="sig-name descname">allocSize_</code><br /></dt>
<dd><p>Total size of our allocation. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory5Stack6start_E">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory5Stack6start_E"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory5Stack6start_E"></span><span id="faiss::gpu::StackDeviceMemory::Stack::start___cP"></span><span class="target" id="structfaiss_1_1gpu_1_1StackDeviceMemory_1_1Stack_1aed64654e7d498114fdd48a6f1cdb1aa2"></span>char *<code class="sig-name descname">start_</code><br /></dt>
<dd><p>Our temporary memory region; [start_, end_) is valid. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory5Stack4end_E">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory5Stack4end_E"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory5Stack4end_E"></span><span id="faiss::gpu::StackDeviceMemory::Stack::end___cP"></span><span class="target" id="structfaiss_1_1gpu_1_1StackDeviceMemory_1_1Stack_1a1db5eeb343fc59b9dc3f0303558c692b"></span>char *<code class="sig-name descname">end_</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory5Stack5head_E">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory5Stack5head_E"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory5Stack5head_E"></span><span id="faiss::gpu::StackDeviceMemory::Stack::head___cP"></span><span class="target" id="structfaiss_1_1gpu_1_1StackDeviceMemory_1_1Stack_1a140d3dc4577883704708ecca493813ff"></span>char *<code class="sig-name descname">head_</code><br /></dt>
<dd><p><a class="reference internal" href="../struct/structfaiss_1_1gpu_1_1StackDeviceMemory_1_1Stack.html#structfaiss_1_1gpu_1_1StackDeviceMemory_1_1Stack"><span class="std std-ref">Stack</span></a> head within [start, end) </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory5Stack10lastUsers_E">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory5Stack10lastUsers_E"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory5Stack10lastUsers_E"></span><span id="faiss::gpu::StackDeviceMemory::Stack::lastUsers___std::list:Range:"></span><span class="target" id="structfaiss_1_1gpu_1_1StackDeviceMemory_1_1Stack_1a9fc42fbbe671faee41ea85a68bdb6b1e"></span>std::list&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1StackDeviceMemory.html#_CPPv4N5faiss3gpu17StackDeviceMemory5RangeE" title="faiss::gpu::StackDeviceMemory::Range">Range</a>&gt; <code class="sig-name descname">lastUsers_</code><br /></dt>
<dd><p>List of previous last users of allocations on our stack, for possible synchronization purposes </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory5Stack20highWaterMemoryUsed_E">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory5Stack20highWaterMemoryUsed_E"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory5Stack20highWaterMemoryUsed_E"></span><span id="faiss::gpu::StackDeviceMemory::Stack::highWaterMemoryUsed___s"></span><span class="target" id="structfaiss_1_1gpu_1_1StackDeviceMemory_1_1Stack_1aa05c1f4a5280fe723c9888937182df75"></span>size_t <code class="sig-name descname">highWaterMemoryUsed_</code><br /></dt>
<dd><p>What’s the high water mark in terms of memory used from the temporary buffer? </p>
</dd></dl>

</div>
</dd></dl>

</dd></dl>

<dl class="cpp class">
<dt id="_CPPv4N5faiss3gpu20StandardGpuResourcesE">
<span id="_CPPv3N5faiss3gpu20StandardGpuResourcesE"></span><span id="_CPPv2N5faiss3gpu20StandardGpuResourcesE"></span><span id="faiss::gpu::StandardGpuResources"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResources"></span><em class="property">class </em><code class="sig-name descname">StandardGpuResources</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4N5faiss3gpuE" title="faiss::gpu">gpu</a>::<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a><br /></dt>
<dd><em>#include &lt;StandardGpuResources.h&gt;</em><p>Default implementation of <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuResources"><span class="std std-ref">GpuResources</span></a> that allocates a cuBLAS stream and 2 streams for use, as well as temporary memory. Internally, the Faiss GPU code uses the instance managed by getResources, but this is the user-facing object that is internally reference counted. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu20StandardGpuResources20StandardGpuResourcesEv">
<span id="_CPPv3N5faiss3gpu20StandardGpuResources20StandardGpuResourcesEv"></span><span id="_CPPv2N5faiss3gpu20StandardGpuResources20StandardGpuResourcesEv"></span><span id="faiss::gpu::StandardGpuResources::StandardGpuResources"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResources_1ad1ef27033798e5250230a339099e07db"></span><code class="sig-name descname">StandardGpuResources</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu20StandardGpuResourcesD0Ev">
<span id="_CPPv3N5faiss3gpu20StandardGpuResourcesD0Ev"></span><span id="_CPPv2N5faiss3gpu20StandardGpuResourcesD0Ev"></span><span id="faiss::gpu::StandardGpuResources::~StandardGpuResources"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResources_1ae26840fd6490cfaf7311f2eed81def34"></span><code class="sig-name descname">~StandardGpuResources</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu20StandardGpuResources12getResourcesEv">
<span id="_CPPv3N5faiss3gpu20StandardGpuResources12getResourcesEv"></span><span id="_CPPv2N5faiss3gpu20StandardGpuResources12getResourcesEv"></span><span id="faiss::gpu::StandardGpuResources::getResources"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResources_1aed88267bce1b6657a06d160f0e62ffc4"></span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <code class="sig-name descname">getResources</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Returns the shared resources object. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu20StandardGpuResources12noTempMemoryEv">
<span id="_CPPv3N5faiss3gpu20StandardGpuResources12noTempMemoryEv"></span><span id="_CPPv2N5faiss3gpu20StandardGpuResources12noTempMemoryEv"></span><span id="faiss::gpu::StandardGpuResources::noTempMemory"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResources_1a6431477a7328ac147797b3b4e3fcf651"></span>void <code class="sig-name descname">noTempMemory</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Disable allocation of temporary memory; all temporary memory requests will call cudaMalloc / cudaFree at the point of use </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu20StandardGpuResources13setTempMemoryE6size_t">
<span id="_CPPv3N5faiss3gpu20StandardGpuResources13setTempMemoryE6size_t"></span><span id="_CPPv2N5faiss3gpu20StandardGpuResources13setTempMemoryE6size_t"></span><span id="faiss::gpu::StandardGpuResources::setTempMemory__s"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResources_1a367102e65b16bfdc7a32770a4f5854a6"></span>void <code class="sig-name descname">setTempMemory</code><span class="sig-paren">(</span>size_t <em>size</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Specify that we wish to use a certain fixed size of memory on all devices as temporary memory. This is the upper bound for the GPU memory that we will reserve. We will never go above 1.5 GiB on any GPU; smaller GPUs (with &lt;= 4 GiB or &lt;= 8 GiB) will use less memory than that. To avoid any temporary memory allocation, pass 0. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu20StandardGpuResources15setPinnedMemoryE6size_t">
<span id="_CPPv3N5faiss3gpu20StandardGpuResources15setPinnedMemoryE6size_t"></span><span id="_CPPv2N5faiss3gpu20StandardGpuResources15setPinnedMemoryE6size_t"></span><span id="faiss::gpu::StandardGpuResources::setPinnedMemory__s"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResources_1af9acb23ac323f85fa5dab4ed968ccd51"></span>void <code class="sig-name descname">setPinnedMemory</code><span class="sig-paren">(</span>size_t <em>size</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Set amount of pinned memory to allocate, for async GPU &lt;-&gt; CPU transfers </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu20StandardGpuResources16setDefaultStreamEi12cudaStream_t">
<span id="_CPPv3N5faiss3gpu20StandardGpuResources16setDefaultStreamEi12cudaStream_t"></span><span id="_CPPv2N5faiss3gpu20StandardGpuResources16setDefaultStreamEi12cudaStream_t"></span><span id="faiss::gpu::StandardGpuResources::setDefaultStream__i.cudaStream_t"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResources_1a5924b424c36dba8300866f1b98c438cb"></span>void <code class="sig-name descname">setDefaultStream</code><span class="sig-paren">(</span>int <em>device</em>, cudaStream_t <em>stream</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Called to change the stream for work ordering. We do not own <code class="docutils literal notranslate"><span class="pre">stream</span></code>; i.e., it will not be destroyed when the <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuResources"><span class="std std-ref">GpuResources</span></a> object gets cleaned up. We are guaranteed that all Faiss GPU work is ordered with respect to this stream upon exit from an index or other Faiss GPU call. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu20StandardGpuResources19revertDefaultStreamEi">
<span id="_CPPv3N5faiss3gpu20StandardGpuResources19revertDefaultStreamEi"></span><span id="_CPPv2N5faiss3gpu20StandardGpuResources19revertDefaultStreamEi"></span><span id="faiss::gpu::StandardGpuResources::revertDefaultStream__i"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResources_1abf351c4a72d7ab72070b24f82764da58"></span>void <code class="sig-name descname">revertDefaultStream</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Revert the default stream to the original stream managed by this resources object, in case someone called <code class="docutils literal notranslate"><span class="pre">setDefaultStream</span></code>. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu20StandardGpuResources30setDefaultNullStreamAllDevicesEv">
<span id="_CPPv3N5faiss3gpu20StandardGpuResources30setDefaultNullStreamAllDevicesEv"></span><span id="_CPPv2N5faiss3gpu20StandardGpuResources30setDefaultNullStreamAllDevicesEv"></span><span id="faiss::gpu::StandardGpuResources::setDefaultNullStreamAllDevices"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResources_1a5374f336f1957c266d7a5c185eb962a1"></span>void <code class="sig-name descname">setDefaultNullStreamAllDevices</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Called to change the work ordering streams to the null stream for all devices </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu20StandardGpuResources13getMemoryInfoEv">
<span id="_CPPv3NK5faiss3gpu20StandardGpuResources13getMemoryInfoEv"></span><span id="_CPPv2NK5faiss3gpu20StandardGpuResources13getMemoryInfoEv"></span><span id="faiss::gpu::StandardGpuResources::getMemoryInfoC"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResources_1a9e0e2c7d7e9254c73546dc87d24ccbcf"></span>std::map&lt;int, std::map&lt;std::string, std::pair&lt;int, size_t&gt;&gt;&gt; <code class="sig-name descname">getMemoryInfo</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Export a description of memory used for Python. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu20StandardGpuResources16getDefaultStreamEi">
<span id="_CPPv3N5faiss3gpu20StandardGpuResources16getDefaultStreamEi"></span><span id="_CPPv2N5faiss3gpu20StandardGpuResources16getDefaultStreamEi"></span><span id="faiss::gpu::StandardGpuResources::getDefaultStream__i"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResources_1a2d0caade01eb384bc82c2e8759a129a1"></span>cudaStream_t <code class="sig-name descname">getDefaultStream</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns the current default stream. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu20StandardGpuResources22getTempMemoryAvailableEi">
<span id="_CPPv3NK5faiss3gpu20StandardGpuResources22getTempMemoryAvailableEi"></span><span id="_CPPv2NK5faiss3gpu20StandardGpuResources22getTempMemoryAvailableEi"></span><span id="faiss::gpu::StandardGpuResources::getTempMemoryAvailable__iC"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResources_1a318f3c0aa6085f430c71f64496f42496"></span>size_t <code class="sig-name descname">getTempMemoryAvailable</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the current amount of temp memory available. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu20StandardGpuResources30syncDefaultStreamCurrentDeviceEv">
<span id="_CPPv3N5faiss3gpu20StandardGpuResources30syncDefaultStreamCurrentDeviceEv"></span><span id="_CPPv2N5faiss3gpu20StandardGpuResources30syncDefaultStreamCurrentDeviceEv"></span><span id="faiss::gpu::StandardGpuResources::syncDefaultStreamCurrentDevice"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResources_1aba33a979707f40913035bbbfcc9b2a14"></span>void <code class="sig-name descname">syncDefaultStreamCurrentDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Synchronize our default stream with the CPU. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu20StandardGpuResources23setLogMemoryAllocationsEb">
<span id="_CPPv3N5faiss3gpu20StandardGpuResources23setLogMemoryAllocationsEb"></span><span id="_CPPv2N5faiss3gpu20StandardGpuResources23setLogMemoryAllocationsEb"></span><span id="faiss::gpu::StandardGpuResources::setLogMemoryAllocations__b"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResources_1a26de76d448f071aa46555b77155a516d"></span>void <code class="sig-name descname">setLogMemoryAllocations</code><span class="sig-paren">(</span>bool <em>enable</em><span class="sig-paren">)</span><br /></dt>
<dd><p>If enabled, will print every GPU memory allocation and deallocation to standard output </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Private Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu20StandardGpuResources4res_E">
<span id="_CPPv3N5faiss3gpu20StandardGpuResources4res_E"></span><span id="_CPPv2N5faiss3gpu20StandardGpuResources4res_E"></span><span id="faiss::gpu::StandardGpuResources::res___std::shared_ptr:StandardGpuResourcesImpl:"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResources_1a14134d33f2201b905babac6252ac1019"></span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1StandardGpuResourcesImpl.html#_CPPv4N5faiss3gpu24StandardGpuResourcesImplE" title="faiss::gpu::StandardGpuResourcesImpl">StandardGpuResourcesImpl</a>&gt; <code class="sig-name descname">res_</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImplE">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImplE"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImplE"></span><span id="faiss::gpu::StandardGpuResourcesImpl"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl"></span><em class="property">class </em><code class="sig-name descname">StandardGpuResourcesImpl</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4N5faiss3gpuE" title="faiss::gpu">gpu</a>::<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a><br /></dt>
<dd><em>#include &lt;StandardGpuResources.h&gt;</em><p>Standard implementation of the <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuResources"><span class="std std-ref">GpuResources</span></a> object that provides for a temporary memory manager </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl24StandardGpuResourcesImplEv">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl24StandardGpuResourcesImplEv"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl24StandardGpuResourcesImplEv"></span><span id="faiss::gpu::StandardGpuResourcesImpl::StandardGpuResourcesImpl"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1a416835fae3db3685e40f42c8260f8745"></span><code class="sig-name descname">StandardGpuResourcesImpl</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImplD0Ev">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImplD0Ev"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImplD0Ev"></span><span id="faiss::gpu::StandardGpuResourcesImpl::~StandardGpuResourcesImpl"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1a6c05d4e676be74d65d44ccb23eb63f63"></span><code class="sig-name descname">~StandardGpuResourcesImpl</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl12noTempMemoryEv">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl12noTempMemoryEv"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl12noTempMemoryEv"></span><span id="faiss::gpu::StandardGpuResourcesImpl::noTempMemory"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1a37459ad7862e50792e6498289c7f81b7"></span>void <code class="sig-name descname">noTempMemory</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Disable allocation of temporary memory; all temporary memory requests will call cudaMalloc / cudaFree at the point of use </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl13setTempMemoryE6size_t">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl13setTempMemoryE6size_t"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl13setTempMemoryE6size_t"></span><span id="faiss::gpu::StandardGpuResourcesImpl::setTempMemory__s"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1a95ec5cc373c8aeefcacd55ee0be0dff3"></span>void <code class="sig-name descname">setTempMemory</code><span class="sig-paren">(</span>size_t <em>size</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Specify that we wish to use a certain fixed size of memory on all devices as temporary memory. This is the upper bound for the GPU memory that we will reserve. We will never go above 1.5 GiB on any GPU; smaller GPUs (with &lt;= 4 GiB or &lt;= 8 GiB) will use less memory than that. To avoid any temporary memory allocation, pass 0. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl15setPinnedMemoryE6size_t">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl15setPinnedMemoryE6size_t"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl15setPinnedMemoryE6size_t"></span><span id="faiss::gpu::StandardGpuResourcesImpl::setPinnedMemory__s"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1a63bd261de7e331760dea2e59ac26c036"></span>void <code class="sig-name descname">setPinnedMemory</code><span class="sig-paren">(</span>size_t <em>size</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Set amount of pinned memory to allocate, for async GPU &lt;-&gt; CPU transfers </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl16setDefaultStreamEi12cudaStream_t">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl16setDefaultStreamEi12cudaStream_t"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl16setDefaultStreamEi12cudaStream_t"></span><span id="faiss::gpu::StandardGpuResourcesImpl::setDefaultStream__i.cudaStream_t"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1aea675757238dda776033cd8607c6daef"></span>void <code class="sig-name descname">setDefaultStream</code><span class="sig-paren">(</span>int <em>device</em>, cudaStream_t <em>stream</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Called to change the stream for work ordering. We do not own <code class="docutils literal notranslate"><span class="pre">stream</span></code>; i.e., it will not be destroyed when the <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuResources"><span class="std std-ref">GpuResources</span></a> object gets cleaned up. We are guaranteed that all Faiss GPU work is ordered with respect to this stream upon exit from an index or other Faiss GPU call. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl19revertDefaultStreamEi">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl19revertDefaultStreamEi"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl19revertDefaultStreamEi"></span><span id="faiss::gpu::StandardGpuResourcesImpl::revertDefaultStream__i"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1a9c01fa8034c5fcb8ef797293873ab75d"></span>void <code class="sig-name descname">revertDefaultStream</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Revert the default stream to the original stream managed by this resources object, in case someone called <code class="docutils literal notranslate"><span class="pre">setDefaultStream</span></code>. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl16getDefaultStreamEi">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl16getDefaultStreamEi"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl16getDefaultStreamEi"></span><span id="faiss::gpu::StandardGpuResourcesImpl::getDefaultStream__i"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1ade7aa26366d1dae8b5eafc445bdbc465"></span>cudaStream_t <code class="sig-name descname">getDefaultStream</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Returns the stream for the given device on which all Faiss GPU work is ordered. We are guaranteed that all Faiss GPU work is ordered with respect to this stream upon exit from an index or other Faiss GPU call. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl30setDefaultNullStreamAllDevicesEv">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl30setDefaultNullStreamAllDevicesEv"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl30setDefaultNullStreamAllDevicesEv"></span><span id="faiss::gpu::StandardGpuResourcesImpl::setDefaultNullStreamAllDevices"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1af7f1af9afed27148890d5e4aaabe10d5"></span>void <code class="sig-name descname">setDefaultNullStreamAllDevices</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Called to change the work ordering streams to the null stream for all devices </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl23setLogMemoryAllocationsEb">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl23setLogMemoryAllocationsEb"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl23setLogMemoryAllocationsEb"></span><span id="faiss::gpu::StandardGpuResourcesImpl::setLogMemoryAllocations__b"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1ace6a664d48bf37e59cc4adb942a35ad7"></span>void <code class="sig-name descname">setLogMemoryAllocations</code><span class="sig-paren">(</span>bool <em>enable</em><span class="sig-paren">)</span><br /></dt>
<dd><p>If enabled, will print every GPU memory allocation and deallocation to standard output </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl19initializeForDeviceEi">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl19initializeForDeviceEi"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl19initializeForDeviceEi"></span><span id="faiss::gpu::StandardGpuResourcesImpl::initializeForDevice__i"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1a5a7f41d69de7b8ec6b9b5d99cc39e86b"></span>void <code class="sig-name descname">initializeForDevice</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Internal system calls. </p>
<p>Initialize resources for this device </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl13getBlasHandleEi">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl13getBlasHandleEi"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl13getBlasHandleEi"></span><span id="faiss::gpu::StandardGpuResourcesImpl::getBlasHandle__i"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1a7a2b9d0db8057ec24a4acbdad5acf984"></span>cublasHandle_t <code class="sig-name descname">getBlasHandle</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Returns the cuBLAS handle that we use for the given device. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl19getAlternateStreamsEi">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl19getAlternateStreamsEi"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl19getAlternateStreamsEi"></span><span id="faiss::gpu::StandardGpuResourcesImpl::getAlternateStreams__i"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1a098278ee17c5a58a385190da02ba8b08"></span>std::vector&lt;cudaStream_t&gt; <code class="sig-name descname">getAlternateStreams</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Returns the set of alternative streams that we use for the given device. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl11allocMemoryERK12AllocRequest">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl11allocMemoryERK12AllocRequest"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl11allocMemoryERK12AllocRequest"></span><span id="faiss::gpu::StandardGpuResourcesImpl::allocMemory__AllocRequestCR"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1abfebafa768ef83db56488906fe57ed6c"></span>void *<code class="sig-name descname">allocMemory</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu12AllocRequestE" title="faiss::gpu::AllocRequest">AllocRequest</a> &amp;<em>req</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Allocate non-temporary GPU memory. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl13deallocMemoryEiPv">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl13deallocMemoryEiPv"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl13deallocMemoryEiPv"></span><span id="faiss::gpu::StandardGpuResourcesImpl::deallocMemory__i.voidP"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1a00d69ab624340410818c700b9019475d"></span>void <code class="sig-name descname">deallocMemory</code><span class="sig-paren">(</span>int <em>device</em>, void *<em>in</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Returns a previous allocation. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu24StandardGpuResourcesImpl22getTempMemoryAvailableEi">
<span id="_CPPv3NK5faiss3gpu24StandardGpuResourcesImpl22getTempMemoryAvailableEi"></span><span id="_CPPv2NK5faiss3gpu24StandardGpuResourcesImpl22getTempMemoryAvailableEi"></span><span id="faiss::gpu::StandardGpuResourcesImpl::getTempMemoryAvailable__iC"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1a633cfc45b53aa74156418ddc108c8167"></span>size_t <code class="sig-name descname">getTempMemoryAvailable</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>For MemorySpace::Temporary, how much space is immediately available without cudaMalloc allocation? </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu24StandardGpuResourcesImpl13getMemoryInfoEv">
<span id="_CPPv3NK5faiss3gpu24StandardGpuResourcesImpl13getMemoryInfoEv"></span><span id="_CPPv2NK5faiss3gpu24StandardGpuResourcesImpl13getMemoryInfoEv"></span><span id="faiss::gpu::StandardGpuResourcesImpl::getMemoryInfoC"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1af8760dfaf89fac90208e8c73b718437c"></span>std::map&lt;int, std::map&lt;std::string, std::pair&lt;int, size_t&gt;&gt;&gt; <code class="sig-name descname">getMemoryInfo</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Export a description of memory used for Python. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl15getPinnedMemoryEv">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl15getPinnedMemoryEv"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl15getPinnedMemoryEv"></span><span id="faiss::gpu::StandardGpuResourcesImpl::getPinnedMemory"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1a86dea0d55d2ab7226f173e2ec998c6b4"></span>std::pair&lt;void*, size_t&gt; <code class="sig-name descname">getPinnedMemory</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Returns the available CPU pinned memory buffer. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl18getAsyncCopyStreamEi">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl18getAsyncCopyStreamEi"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl18getAsyncCopyStreamEi"></span><span id="faiss::gpu::StandardGpuResourcesImpl::getAsyncCopyStream__i"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1a28beb152642c2621724c7eedb088630c"></span>cudaStream_t <code class="sig-name descname">getAsyncCopyStream</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Returns the stream on which we perform async CPU &lt;-&gt; GPU copies. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl26getBlasHandleCurrentDeviceEv">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl26getBlasHandleCurrentDeviceEv"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl26getBlasHandleCurrentDeviceEv"></span><span id="faiss::gpu::StandardGpuResourcesImpl::getBlasHandleCurrentDevice"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1a00cb7bcbc5f1a00da673f30749149b12"></span>cublasHandle_t <code class="sig-name descname">getBlasHandleCurrentDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Calls getBlasHandle with the current device. </p>
<p>Functions provided by default </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl29getDefaultStreamCurrentDeviceEv">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl29getDefaultStreamCurrentDeviceEv"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl29getDefaultStreamCurrentDeviceEv"></span><span id="faiss::gpu::StandardGpuResourcesImpl::getDefaultStreamCurrentDevice"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1aa0354aa570c24e17a9f8a6a45b153ed2"></span>cudaStream_t <code class="sig-name descname">getDefaultStreamCurrentDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Calls getDefaultStream with the current device. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu24StandardGpuResourcesImpl35getTempMemoryAvailableCurrentDeviceEv">
<span id="_CPPv3NK5faiss3gpu24StandardGpuResourcesImpl35getTempMemoryAvailableCurrentDeviceEv"></span><span id="_CPPv2NK5faiss3gpu24StandardGpuResourcesImpl35getTempMemoryAvailableCurrentDeviceEv"></span><span id="faiss::gpu::StandardGpuResourcesImpl::getTempMemoryAvailableCurrentDeviceC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1aeb57bc66a9823aaf140324e22985a71d"></span>size_t <code class="sig-name descname">getTempMemoryAvailableCurrentDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Calls getTempMemoryAvailable with the current device. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl17allocMemoryHandleERK12AllocRequest">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl17allocMemoryHandleERK12AllocRequest"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl17allocMemoryHandleERK12AllocRequest"></span><span id="faiss::gpu::StandardGpuResourcesImpl::allocMemoryHandle__AllocRequestCR"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1af0949f87d4f522b7ee5be17ad760b266"></span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu20GpuMemoryReservationE" title="faiss::gpu::GpuMemoryReservation">GpuMemoryReservation</a> <code class="sig-name descname">allocMemoryHandle</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu12AllocRequestE" title="faiss::gpu::AllocRequest">AllocRequest</a> &amp;<em>req</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns a temporary memory allocation via a RAII object. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl17syncDefaultStreamEi">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl17syncDefaultStreamEi"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl17syncDefaultStreamEi"></span><span id="faiss::gpu::StandardGpuResourcesImpl::syncDefaultStream__i"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1a130deab9f6d49cbdde8f9da45ce868fd"></span>void <code class="sig-name descname">syncDefaultStream</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Synchronizes the CPU with respect to the default stream for the given device </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl30syncDefaultStreamCurrentDeviceEv">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl30syncDefaultStreamCurrentDeviceEv"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl30syncDefaultStreamCurrentDeviceEv"></span><span id="faiss::gpu::StandardGpuResourcesImpl::syncDefaultStreamCurrentDevice"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1adf6a5653ec2bbb0e9d58a0e1dd73897f"></span>void <code class="sig-name descname">syncDefaultStreamCurrentDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Calls syncDefaultStream for the current device. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl32getAlternateStreamsCurrentDeviceEv">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl32getAlternateStreamsCurrentDeviceEv"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl32getAlternateStreamsCurrentDeviceEv"></span><span id="faiss::gpu::StandardGpuResourcesImpl::getAlternateStreamsCurrentDevice"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1a2104e59caebc31d9f98729281b616acc"></span>std::vector&lt;cudaStream_t&gt; <code class="sig-name descname">getAlternateStreamsCurrentDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Calls getAlternateStreams for the current device. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl31getAsyncCopyStreamCurrentDeviceEv">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl31getAsyncCopyStreamCurrentDeviceEv"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl31getAsyncCopyStreamCurrentDeviceEv"></span><span id="faiss::gpu::StandardGpuResourcesImpl::getAsyncCopyStreamCurrentDevice"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1aefb90d15fade57cdfcff03ec800183d4"></span>cudaStream_t <code class="sig-name descname">getAsyncCopyStreamCurrentDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Calls getAsyncCopyStream for the current device. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Private Functions</p>
<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu24StandardGpuResourcesImpl13isInitializedEi">
<span id="_CPPv3NK5faiss3gpu24StandardGpuResourcesImpl13isInitializedEi"></span><span id="_CPPv2NK5faiss3gpu24StandardGpuResourcesImpl13isInitializedEi"></span><span id="faiss::gpu::StandardGpuResourcesImpl::isInitialized__iC"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1a55c7e84b0f56ea2c591fd14415a23dd2"></span>bool <code class="sig-name descname">isInitialized</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Have GPU resources been initialized for this device yet? </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Private Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl7allocs_E">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl7allocs_E"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl7allocs_E"></span><span id="faiss::gpu::StandardGpuResourcesImpl::allocs___std::unordered_map:i.std::unordered_map:voidP.AllocRequest::"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1aaf1d435773c0b0a0571fa397c9bfaa6a"></span>std::unordered_map&lt;int, std::unordered_map&lt;void*, <a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu12AllocRequestE" title="faiss::gpu::AllocRequest">AllocRequest</a>&gt;&gt; <code class="sig-name descname">allocs_</code><br /></dt>
<dd><p>Set of currently outstanding memory allocations per device device -&gt; (alloc request, allocated ptr) </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl11tempMemory_E">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl11tempMemory_E"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl11tempMemory_E"></span><span id="faiss::gpu::StandardGpuResourcesImpl::tempMemory___std::unordered_map:i.std::unique_ptr:StackDeviceMemory::"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1ae246ade2809d7dc770dcc52183b8b498"></span>std::unordered_map&lt;int, std::unique_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1StackDeviceMemory.html#_CPPv4N5faiss3gpu17StackDeviceMemoryE" title="faiss::gpu::StackDeviceMemory">StackDeviceMemory</a>&gt;&gt; <code class="sig-name descname">tempMemory_</code><br /></dt>
<dd><p>Temporary memory provider, per each device. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl15defaultStreams_E">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl15defaultStreams_E"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl15defaultStreams_E"></span><span id="faiss::gpu::StandardGpuResourcesImpl::defaultStreams___std::unordered_map:i.cudaStream_t:"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1a20022e4935d985f8e274e5cd1bc37187"></span>std::unordered_map&lt;int, cudaStream_t&gt; <code class="sig-name descname">defaultStreams_</code><br /></dt>
<dd><p>Our default stream that work is ordered on, one per each device. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl19userDefaultStreams_E">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl19userDefaultStreams_E"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl19userDefaultStreams_E"></span><span id="faiss::gpu::StandardGpuResourcesImpl::userDefaultStreams___std::unordered_map:i.cudaStream_t:"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1ad7a1e48b4128742c29a97f87ccecdd11"></span>std::unordered_map&lt;int, cudaStream_t&gt; <code class="sig-name descname">userDefaultStreams_</code><br /></dt>
<dd><p>This contains particular streams as set by the user for ordering, if any </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl17alternateStreams_E">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl17alternateStreams_E"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl17alternateStreams_E"></span><span id="faiss::gpu::StandardGpuResourcesImpl::alternateStreams___std::unordered_map:i.std::vector:cudaStream_t::"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1a6b511d4f63fe99e81624a2a5b13847b2"></span>std::unordered_map&lt;int, std::vector&lt;cudaStream_t&gt;&gt; <code class="sig-name descname">alternateStreams_</code><br /></dt>
<dd><p>Other streams we can use, per each device. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl17asyncCopyStreams_E">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl17asyncCopyStreams_E"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl17asyncCopyStreams_E"></span><span id="faiss::gpu::StandardGpuResourcesImpl::asyncCopyStreams___std::unordered_map:i.cudaStream_t:"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1a8ca38d5ac22483ae58a0fe5555998846"></span>std::unordered_map&lt;int, cudaStream_t&gt; <code class="sig-name descname">asyncCopyStreams_</code><br /></dt>
<dd><p>Async copy stream to use for GPU &lt;-&gt; CPU pinned memory copies. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl12blasHandles_E">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl12blasHandles_E"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl12blasHandles_E"></span><span id="faiss::gpu::StandardGpuResourcesImpl::blasHandles___std::unordered_map:i.cublasHandle_t:"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1af1c41ca22c2e5b2c7451759223f9f3db"></span>std::unordered_map&lt;int, cublasHandle_t&gt; <code class="sig-name descname">blasHandles_</code><br /></dt>
<dd><p>cuBLAS handle for each device </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl15pinnedMemAlloc_E">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl15pinnedMemAlloc_E"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl15pinnedMemAlloc_E"></span><span id="faiss::gpu::StandardGpuResourcesImpl::pinnedMemAlloc___voidP"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1a54c32dec0e85b9316426c89085e03b3c"></span>void *<code class="sig-name descname">pinnedMemAlloc_</code><br /></dt>
<dd><p>Pinned memory allocation for use with this GPU. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl19pinnedMemAllocSize_E">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl19pinnedMemAllocSize_E"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl19pinnedMemAllocSize_E"></span><span id="faiss::gpu::StandardGpuResourcesImpl::pinnedMemAllocSize___s"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1aed791b318265666dd2b6fde3863f7d18"></span>size_t <code class="sig-name descname">pinnedMemAllocSize_</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl12tempMemSize_E">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl12tempMemSize_E"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl12tempMemSize_E"></span><span id="faiss::gpu::StandardGpuResourcesImpl::tempMemSize___s"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1a62e7ab153d60395b6e4906f223a60116"></span>size_t <code class="sig-name descname">tempMemSize_</code><br /></dt>
<dd><p>Another option is to use a specified amount of memory on all devices </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl14pinnedMemSize_E">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl14pinnedMemSize_E"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl14pinnedMemSize_E"></span><span id="faiss::gpu::StandardGpuResourcesImpl::pinnedMemSize___s"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1a68fb215506fb57a4adca5b289808c79f"></span>size_t <code class="sig-name descname">pinnedMemSize_</code><br /></dt>
<dd><p>Amount of pinned memory we should allocate. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl13allocLogging_E">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl13allocLogging_E"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl13allocLogging_E"></span><span id="faiss::gpu::StandardGpuResourcesImpl::allocLogging___b"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1ad157e95342116754b0be81a8e5775343"></span>bool <code class="sig-name descname">allocLogging_</code><br /></dt>
<dd><p>Whether or not we log every GPU memory allocation and deallocation. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Private Static Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl23getDefaultTempMemForGPUEi6size_t">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl23getDefaultTempMemForGPUEi6size_t"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl23getDefaultTempMemForGPUEi6size_t"></span><span id="faiss::gpu::StandardGpuResourcesImpl::getDefaultTempMemForGPU__i.s"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1a8ec365660c997441b2cf5faea71c36bb"></span>size_t <code class="sig-name descname">getDefaultTempMemForGPU</code><span class="sig-paren">(</span>int <em>device</em>, size_t <em>requested</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Adjust the default temporary memory allocation based on the total GPU memory size </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss3gpu11ToCPUClonerE">
<span id="_CPPv3N5faiss3gpu11ToCPUClonerE"></span><span id="_CPPv2N5faiss3gpu11ToCPUClonerE"></span><span id="faiss::gpu::ToCPUCloner"></span><span class="target" id="structfaiss_1_1gpu_1_1ToCPUCloner"></span><em class="property">struct </em><code class="sig-name descname">ToCPUCloner</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/clone__index_8h.html#_CPPv4N5faiss6ClonerE" title="faiss::Cloner">Cloner</a><br /></dt>
<dd><em>#include &lt;GpuCloner.h&gt;</em><p><a class="reference internal" href="../struct/structfaiss_1_1Cloner.html#structfaiss_1_1Cloner"><span class="std std-ref">Cloner</span></a> specialized for GPU -&gt; CPU. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11ToCPUCloner11merge_indexEP5IndexP5Indexb">
<span id="_CPPv3N5faiss3gpu11ToCPUCloner11merge_indexEP5IndexP5Indexb"></span><span id="_CPPv2N5faiss3gpu11ToCPUCloner11merge_indexEP5IndexP5Indexb"></span><span id="faiss::gpu::ToCPUCloner::merge_index__IndexP.IndexP.b"></span><span class="target" id="structfaiss_1_1gpu_1_1ToCPUCloner_1ac176600d3e3e5c79ce334ed12e835d50"></span>void <code class="sig-name descname">merge_index</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>dst</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>src</em>, bool <em>successive_ids</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11ToCPUCloner11clone_IndexEPK5Index">
<span id="_CPPv3N5faiss3gpu11ToCPUCloner11clone_IndexEPK5Index"></span><span id="_CPPv2N5faiss3gpu11ToCPUCloner11clone_IndexEPK5Index"></span><span id="faiss::gpu::ToCPUCloner::clone_Index__IndexCP"></span><span class="target" id="structfaiss_1_1gpu_1_1ToCPUCloner_1a213e9050200bc81d808892216f6a578c"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">clone_Index</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11ToCPUCloner21clone_VectorTransformEPK15VectorTransform">
<span id="_CPPv3N5faiss3gpu11ToCPUCloner21clone_VectorTransformEPK15VectorTransform"></span><span id="_CPPv2N5faiss3gpu11ToCPUCloner21clone_VectorTransformEPK15VectorTransform"></span><span id="faiss::gpu::ToCPUCloner::clone_VectorTransform__VectorTransformCP"></span><span class="target" id="structfaiss_1_1Cloner_1a6d0153062dcfde3da36a7ee845f0378e"></span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss15VectorTransformE" title="faiss::VectorTransform">VectorTransform</a> *<code class="sig-name descname">clone_VectorTransform</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss15VectorTransformE" title="faiss::VectorTransform">VectorTransform</a>*<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11ToCPUCloner14clone_IndexIVFEPK8IndexIVF">
<span id="_CPPv3N5faiss3gpu11ToCPUCloner14clone_IndexIVFEPK8IndexIVF"></span><span id="_CPPv2N5faiss3gpu11ToCPUCloner14clone_IndexIVFEPK8IndexIVF"></span><span id="faiss::gpu::ToCPUCloner::clone_IndexIVF__IndexIVFCP"></span><span class="target" id="structfaiss_1_1Cloner_1a900cc361b28631b47359b1df41fda0cf"></span><a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> *<code class="sig-name descname">clone_IndexIVF</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a>*<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss3gpu11ToGpuClonerE">
<span id="_CPPv3N5faiss3gpu11ToGpuClonerE"></span><span id="_CPPv2N5faiss3gpu11ToGpuClonerE"></span><span id="faiss::gpu::ToGpuCloner"></span><span class="target" id="structfaiss_1_1gpu_1_1ToGpuCloner"></span><em class="property">struct </em><code class="sig-name descname">ToGpuCloner</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/clone__index_8h.html#_CPPv4N5faiss6ClonerE" title="faiss::Cloner">Cloner</a>, <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4N5faiss3gpuE" title="faiss::gpu">gpu</a>::<a class="reference internal" href="../file/GpuClonerOptions_8h.html#_CPPv4N5faiss3gpu16GpuClonerOptionsE" title="faiss::gpu::GpuClonerOptions">GpuClonerOptions</a><br /></dt>
<dd><em>#include &lt;GpuCloner.h&gt;</em><p><a class="reference internal" href="../struct/structfaiss_1_1Cloner.html#structfaiss_1_1Cloner"><span class="std std-ref">Cloner</span></a> specialized for CPU -&gt; 1 GPU. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11ToGpuCloner11ToGpuClonerEP20GpuResourcesProvideriRK16GpuClonerOptions">
<span id="_CPPv3N5faiss3gpu11ToGpuCloner11ToGpuClonerEP20GpuResourcesProvideriRK16GpuClonerOptions"></span><span id="_CPPv2N5faiss3gpu11ToGpuCloner11ToGpuClonerEP20GpuResourcesProvideriRK16GpuClonerOptions"></span><span id="faiss::gpu::ToGpuCloner::ToGpuCloner__GpuResourcesProviderP.i.GpuClonerOptionsCR"></span><span class="target" id="structfaiss_1_1gpu_1_1ToGpuCloner_1a75c697e6c9678764e5fcd17e18f23867"></span><code class="sig-name descname">ToGpuCloner</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a> *<em>prov</em>, int <em>device</em>, <em class="property">const</em> <a class="reference internal" href="../file/GpuClonerOptions_8h.html#_CPPv4N5faiss3gpu16GpuClonerOptionsE" title="faiss::gpu::GpuClonerOptions">GpuClonerOptions</a> &amp;<em>options</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11ToGpuCloner11clone_IndexEPK5Index">
<span id="_CPPv3N5faiss3gpu11ToGpuCloner11clone_IndexEPK5Index"></span><span id="_CPPv2N5faiss3gpu11ToGpuCloner11clone_IndexEPK5Index"></span><span id="faiss::gpu::ToGpuCloner::clone_Index__IndexCP"></span><span class="target" id="structfaiss_1_1gpu_1_1ToGpuCloner_1afd01f5d062a04d0ea3b2342cfac066bb"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">clone_Index</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11ToGpuCloner21clone_VectorTransformEPK15VectorTransform">
<span id="_CPPv3N5faiss3gpu11ToGpuCloner21clone_VectorTransformEPK15VectorTransform"></span><span id="_CPPv2N5faiss3gpu11ToGpuCloner21clone_VectorTransformEPK15VectorTransform"></span><span id="faiss::gpu::ToGpuCloner::clone_VectorTransform__VectorTransformCP"></span><span class="target" id="structfaiss_1_1Cloner_1a6d0153062dcfde3da36a7ee845f0378e"></span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss15VectorTransformE" title="faiss::VectorTransform">VectorTransform</a> *<code class="sig-name descname">clone_VectorTransform</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss15VectorTransformE" title="faiss::VectorTransform">VectorTransform</a>*<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11ToGpuCloner14clone_IndexIVFEPK8IndexIVF">
<span id="_CPPv3N5faiss3gpu11ToGpuCloner14clone_IndexIVFEPK8IndexIVF"></span><span id="_CPPv2N5faiss3gpu11ToGpuCloner14clone_IndexIVFEPK8IndexIVF"></span><span id="faiss::gpu::ToGpuCloner::clone_IndexIVF__IndexIVFCP"></span><span class="target" id="structfaiss_1_1Cloner_1a900cc361b28631b47359b1df41fda0cf"></span><a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> *<code class="sig-name descname">clone_IndexIVF</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a>*<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11ToGpuCloner8providerE">
<span id="_CPPv3N5faiss3gpu11ToGpuCloner8providerE"></span><span id="_CPPv2N5faiss3gpu11ToGpuCloner8providerE"></span><span id="faiss::gpu::ToGpuCloner::provider__GpuResourcesProviderP"></span><span class="target" id="structfaiss_1_1gpu_1_1ToGpuCloner_1a0a0c7a86cc9f8bd752392a2a31046b71"></span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a> *<code class="sig-name descname">provider</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11ToGpuCloner6deviceE">
<span id="_CPPv3N5faiss3gpu11ToGpuCloner6deviceE"></span><span id="_CPPv2N5faiss3gpu11ToGpuCloner6deviceE"></span><span id="faiss::gpu::ToGpuCloner::device__i"></span><span class="target" id="structfaiss_1_1gpu_1_1ToGpuCloner_1a6f68f4bdf04d86a1d45162822e85a224"></span>int <code class="sig-name descname">device</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11ToGpuCloner14indicesOptionsE">
<span id="_CPPv3N5faiss3gpu11ToGpuCloner14indicesOptionsE"></span><span id="_CPPv2N5faiss3gpu11ToGpuCloner14indicesOptionsE"></span><span id="faiss::gpu::ToGpuCloner::indicesOptions__IndicesOptions"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1ad960ac51b7cc607fcb1a1b07efc32a9e"></span><a class="reference internal" href="../file/GpuIndicesOptions_8h.html#_CPPv4N5faiss3gpu14IndicesOptionsE" title="faiss::gpu::IndicesOptions">IndicesOptions</a> <code class="sig-name descname">indicesOptions</code><br /></dt>
<dd><p>how should indices be stored on index types that support indices (anything but GpuIndexFlat*)? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11ToGpuCloner25useFloat16CoarseQuantizerE">
<span id="_CPPv3N5faiss3gpu11ToGpuCloner25useFloat16CoarseQuantizerE"></span><span id="_CPPv2N5faiss3gpu11ToGpuCloner25useFloat16CoarseQuantizerE"></span><span id="faiss::gpu::ToGpuCloner::useFloat16CoarseQuantizer__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1a85f3093908b6e9a503c24bb226b17b1b"></span>bool <code class="sig-name descname">useFloat16CoarseQuantizer</code><br /></dt>
<dd><p>is the coarse quantizer in float16? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11ToGpuCloner10useFloat16E">
<span id="_CPPv3N5faiss3gpu11ToGpuCloner10useFloat16E"></span><span id="_CPPv2N5faiss3gpu11ToGpuCloner10useFloat16E"></span><span id="faiss::gpu::ToGpuCloner::useFloat16__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1ac7cc57d6091d6a79ea6020bf8d1fbe27"></span>bool <code class="sig-name descname">useFloat16</code><br /></dt>
<dd><p>for <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuIndexIVFFlat"><span class="std std-ref">GpuIndexIVFFlat</span></a>, is storage in float16? for <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuIndexIVFPQ"><span class="std std-ref">GpuIndexIVFPQ</span></a>, are intermediate calculations in float16? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11ToGpuCloner14usePrecomputedE">
<span id="_CPPv3N5faiss3gpu11ToGpuCloner14usePrecomputedE"></span><span id="_CPPv2N5faiss3gpu11ToGpuCloner14usePrecomputedE"></span><span id="faiss::gpu::ToGpuCloner::usePrecomputed__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1abc9c607f2dfc9f23942a523fb49c63fe"></span>bool <code class="sig-name descname">usePrecomputed</code><br /></dt>
<dd><p>use precomputed tables? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11ToGpuCloner11reserveVecsE">
<span id="_CPPv3N5faiss3gpu11ToGpuCloner11reserveVecsE"></span><span id="_CPPv2N5faiss3gpu11ToGpuCloner11reserveVecsE"></span><span id="faiss::gpu::ToGpuCloner::reserveVecs__l"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1ab60dd87e51af59373a48d73852573f04"></span>long <code class="sig-name descname">reserveVecs</code><br /></dt>
<dd><p>reserve vectors in the invfiles? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11ToGpuCloner15storeTransposedE">
<span id="_CPPv3N5faiss3gpu11ToGpuCloner15storeTransposedE"></span><span id="_CPPv2N5faiss3gpu11ToGpuCloner15storeTransposedE"></span><span id="faiss::gpu::ToGpuCloner::storeTransposed__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1a5f2470ec5b2a8fe7aae0542f113b781d"></span>bool <code class="sig-name descname">storeTransposed</code><br /></dt>
<dd><p>For <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuIndexFlat"><span class="std std-ref">GpuIndexFlat</span></a>, store data in transposed layout? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11ToGpuCloner7verboseE">
<span id="_CPPv3N5faiss3gpu11ToGpuCloner7verboseE"></span><span id="_CPPv2N5faiss3gpu11ToGpuCloner7verboseE"></span><span id="faiss::gpu::ToGpuCloner::verbose__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1abc7d0451773e0f2f640338533abc1397"></span>bool <code class="sig-name descname">verbose</code><br /></dt>
<dd><p>Set verbose options on the index. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss3gpu19ToGpuClonerMultipleE">
<span id="_CPPv3N5faiss3gpu19ToGpuClonerMultipleE"></span><span id="_CPPv2N5faiss3gpu19ToGpuClonerMultipleE"></span><span id="faiss::gpu::ToGpuClonerMultiple"></span><span class="target" id="structfaiss_1_1gpu_1_1ToGpuClonerMultiple"></span><em class="property">struct </em><code class="sig-name descname">ToGpuClonerMultiple</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/clone__index_8h.html#_CPPv4N5faiss6ClonerE" title="faiss::Cloner">Cloner</a>, <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4N5faiss3gpuE" title="faiss::gpu">gpu</a>::<a class="reference internal" href="../file/GpuClonerOptions_8h.html#_CPPv4N5faiss3gpu24GpuMultipleClonerOptionsE" title="faiss::gpu::GpuMultipleClonerOptions">GpuMultipleClonerOptions</a><br /></dt>
<dd><em>#include &lt;GpuCloner.h&gt;</em><p><a class="reference internal" href="../struct/structfaiss_1_1Cloner.html#structfaiss_1_1Cloner"><span class="std std-ref">Cloner</span></a> specialized for CPU -&gt; multiple GPUs. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu19ToGpuClonerMultiple19ToGpuClonerMultipleERNSt6vectorIP20GpuResourcesProviderEERNSt6vectorIiEERK24GpuMultipleClonerOptions">
<span id="_CPPv3N5faiss3gpu19ToGpuClonerMultiple19ToGpuClonerMultipleERNSt6vectorIP20GpuResourcesProviderEERNSt6vectorIiEERK24GpuMultipleClonerOptions"></span><span id="_CPPv2N5faiss3gpu19ToGpuClonerMultiple19ToGpuClonerMultipleERNSt6vectorIP20GpuResourcesProviderEERNSt6vectorIiEERK24GpuMultipleClonerOptions"></span><span id="faiss::gpu::ToGpuClonerMultiple::ToGpuClonerMultiple__std::vector:GpuResourcesProviderP:R.std::vector:i:R.GpuMultipleClonerOptionsCR"></span><span class="target" id="structfaiss_1_1gpu_1_1ToGpuClonerMultiple_1a3335f799be19f7b19cd895c12cec74aa"></span><code class="sig-name descname">ToGpuClonerMultiple</code><span class="sig-paren">(</span>std::vector&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a>*&gt; &amp;<em>provider</em>, std::vector&lt;int&gt; &amp;<em>devices</em>, <em class="property">const</em> <a class="reference internal" href="../file/GpuClonerOptions_8h.html#_CPPv4N5faiss3gpu24GpuMultipleClonerOptionsE" title="faiss::gpu::GpuMultipleClonerOptions">GpuMultipleClonerOptions</a> &amp;<em>options</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu19ToGpuClonerMultiple19ToGpuClonerMultipleERKNSt6vectorI11ToGpuClonerEERK24GpuMultipleClonerOptions">
<span id="_CPPv3N5faiss3gpu19ToGpuClonerMultiple19ToGpuClonerMultipleERKNSt6vectorI11ToGpuClonerEERK24GpuMultipleClonerOptions"></span><span id="_CPPv2N5faiss3gpu19ToGpuClonerMultiple19ToGpuClonerMultipleERKNSt6vectorI11ToGpuClonerEERK24GpuMultipleClonerOptions"></span><span id="faiss::gpu::ToGpuClonerMultiple::ToGpuClonerMultiple__std::vector:ToGpuCloner:CR.GpuMultipleClonerOptionsCR"></span><span class="target" id="structfaiss_1_1gpu_1_1ToGpuClonerMultiple_1aadb501df2f2cd16d4a09cba558f239e1"></span><code class="sig-name descname">ToGpuClonerMultiple</code><span class="sig-paren">(</span><em class="property">const</em> std::vector&lt;<a class="reference internal" href="../file/GpuCloner_8h.html#_CPPv4N5faiss3gpu11ToGpuClonerE" title="faiss::gpu::ToGpuCloner">ToGpuCloner</a>&gt; &amp;<em>sub_cloners</em>, <em class="property">const</em> <a class="reference internal" href="../file/GpuClonerOptions_8h.html#_CPPv4N5faiss3gpu24GpuMultipleClonerOptionsE" title="faiss::gpu::GpuMultipleClonerOptions">GpuMultipleClonerOptions</a> &amp;<em>options</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu19ToGpuClonerMultiple14copy_ivf_shardEPK8IndexIVFP8IndexIVFll">
<span id="_CPPv3N5faiss3gpu19ToGpuClonerMultiple14copy_ivf_shardEPK8IndexIVFP8IndexIVFll"></span><span id="_CPPv2N5faiss3gpu19ToGpuClonerMultiple14copy_ivf_shardEPK8IndexIVFP8IndexIVFll"></span><span id="faiss::gpu::ToGpuClonerMultiple::copy_ivf_shard__IndexIVFCP.IndexIVFP.l.l"></span><span class="target" id="structfaiss_1_1gpu_1_1ToGpuClonerMultiple_1a84da27fde8ad58baa5473b4f9c5c3e77"></span>void <code class="sig-name descname">copy_ivf_shard</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> *<em>index_ivf</em>, <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> *<em>idx2</em>, long <em>n</em>, long <em>i</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu19ToGpuClonerMultiple21clone_Index_to_shardsEPK5Index">
<span id="_CPPv3N5faiss3gpu19ToGpuClonerMultiple21clone_Index_to_shardsEPK5Index"></span><span id="_CPPv2N5faiss3gpu19ToGpuClonerMultiple21clone_Index_to_shardsEPK5Index"></span><span id="faiss::gpu::ToGpuClonerMultiple::clone_Index_to_shards__IndexCP"></span><span class="target" id="structfaiss_1_1gpu_1_1ToGpuClonerMultiple_1a71f1471f9d5e56bd73be48c575041a66"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">clone_Index_to_shards</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu19ToGpuClonerMultiple11clone_IndexEPK5Index">
<span id="_CPPv3N5faiss3gpu19ToGpuClonerMultiple11clone_IndexEPK5Index"></span><span id="_CPPv2N5faiss3gpu19ToGpuClonerMultiple11clone_IndexEPK5Index"></span><span id="faiss::gpu::ToGpuClonerMultiple::clone_Index__IndexCP"></span><span class="target" id="structfaiss_1_1gpu_1_1ToGpuClonerMultiple_1a6704701942e76bff3e2445c41d67deff"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">clone_Index</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>main function </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu19ToGpuClonerMultiple21clone_VectorTransformEPK15VectorTransform">
<span id="_CPPv3N5faiss3gpu19ToGpuClonerMultiple21clone_VectorTransformEPK15VectorTransform"></span><span id="_CPPv2N5faiss3gpu19ToGpuClonerMultiple21clone_VectorTransformEPK15VectorTransform"></span><span id="faiss::gpu::ToGpuClonerMultiple::clone_VectorTransform__VectorTransformCP"></span><span class="target" id="structfaiss_1_1Cloner_1a6d0153062dcfde3da36a7ee845f0378e"></span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss15VectorTransformE" title="faiss::VectorTransform">VectorTransform</a> *<code class="sig-name descname">clone_VectorTransform</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss15VectorTransformE" title="faiss::VectorTransform">VectorTransform</a>*<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu19ToGpuClonerMultiple14clone_IndexIVFEPK8IndexIVF">
<span id="_CPPv3N5faiss3gpu19ToGpuClonerMultiple14clone_IndexIVFEPK8IndexIVF"></span><span id="_CPPv2N5faiss3gpu19ToGpuClonerMultiple14clone_IndexIVFEPK8IndexIVF"></span><span id="faiss::gpu::ToGpuClonerMultiple::clone_IndexIVF__IndexIVFCP"></span><span class="target" id="structfaiss_1_1Cloner_1a900cc361b28631b47359b1df41fda0cf"></span><a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> *<code class="sig-name descname">clone_IndexIVF</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a>*<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu19ToGpuClonerMultiple11sub_clonersE">
<span id="_CPPv3N5faiss3gpu19ToGpuClonerMultiple11sub_clonersE"></span><span id="_CPPv2N5faiss3gpu19ToGpuClonerMultiple11sub_clonersE"></span><span id="faiss::gpu::ToGpuClonerMultiple::sub_cloners__std::vector:ToGpuCloner:"></span><span class="target" id="structfaiss_1_1gpu_1_1ToGpuClonerMultiple_1a3b5d36b13444e6ae297be3612c3b2979"></span>std::vector&lt;<a class="reference internal" href="../file/GpuCloner_8h.html#_CPPv4N5faiss3gpu11ToGpuClonerE" title="faiss::gpu::ToGpuCloner">ToGpuCloner</a>&gt; <code class="sig-name descname">sub_cloners</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu19ToGpuClonerMultiple5shardE">
<span id="_CPPv3N5faiss3gpu19ToGpuClonerMultiple5shardE"></span><span id="_CPPv2N5faiss3gpu19ToGpuClonerMultiple5shardE"></span><span id="faiss::gpu::ToGpuClonerMultiple::shard__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuMultipleClonerOptions_1a7c5bd7a840f6641d5d68699f4416d79d"></span>bool <code class="sig-name descname">shard</code><br /></dt>
<dd><p>Whether to shard the index across GPUs, versus replication across GPUs </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu19ToGpuClonerMultiple10shard_typeE">
<span id="_CPPv3N5faiss3gpu19ToGpuClonerMultiple10shard_typeE"></span><span id="_CPPv2N5faiss3gpu19ToGpuClonerMultiple10shard_typeE"></span><span id="faiss::gpu::ToGpuClonerMultiple::shard_type__i"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuMultipleClonerOptions_1a9548f823297298b0a78109dec7feb45e"></span>int <code class="sig-name descname">shard_type</code><br /></dt>
<dd><p><a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1ada0c2daaf628138ad21c77eb616fbbae"><span class="std std-ref">IndexIVF::copy_subset_to</span></a> subset type. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu19ToGpuClonerMultiple14indicesOptionsE">
<span id="_CPPv3N5faiss3gpu19ToGpuClonerMultiple14indicesOptionsE"></span><span id="_CPPv2N5faiss3gpu19ToGpuClonerMultiple14indicesOptionsE"></span><span id="faiss::gpu::ToGpuClonerMultiple::indicesOptions__IndicesOptions"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1ad960ac51b7cc607fcb1a1b07efc32a9e"></span><a class="reference internal" href="../file/GpuIndicesOptions_8h.html#_CPPv4N5faiss3gpu14IndicesOptionsE" title="faiss::gpu::IndicesOptions">IndicesOptions</a> <code class="sig-name descname">indicesOptions</code><br /></dt>
<dd><p>how should indices be stored on index types that support indices (anything but GpuIndexFlat*)? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu19ToGpuClonerMultiple25useFloat16CoarseQuantizerE">
<span id="_CPPv3N5faiss3gpu19ToGpuClonerMultiple25useFloat16CoarseQuantizerE"></span><span id="_CPPv2N5faiss3gpu19ToGpuClonerMultiple25useFloat16CoarseQuantizerE"></span><span id="faiss::gpu::ToGpuClonerMultiple::useFloat16CoarseQuantizer__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1a85f3093908b6e9a503c24bb226b17b1b"></span>bool <code class="sig-name descname">useFloat16CoarseQuantizer</code><br /></dt>
<dd><p>is the coarse quantizer in float16? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu19ToGpuClonerMultiple10useFloat16E">
<span id="_CPPv3N5faiss3gpu19ToGpuClonerMultiple10useFloat16E"></span><span id="_CPPv2N5faiss3gpu19ToGpuClonerMultiple10useFloat16E"></span><span id="faiss::gpu::ToGpuClonerMultiple::useFloat16__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1ac7cc57d6091d6a79ea6020bf8d1fbe27"></span>bool <code class="sig-name descname">useFloat16</code><br /></dt>
<dd><p>for <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuIndexIVFFlat"><span class="std std-ref">GpuIndexIVFFlat</span></a>, is storage in float16? for <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuIndexIVFPQ"><span class="std std-ref">GpuIndexIVFPQ</span></a>, are intermediate calculations in float16? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu19ToGpuClonerMultiple14usePrecomputedE">
<span id="_CPPv3N5faiss3gpu19ToGpuClonerMultiple14usePrecomputedE"></span><span id="_CPPv2N5faiss3gpu19ToGpuClonerMultiple14usePrecomputedE"></span><span id="faiss::gpu::ToGpuClonerMultiple::usePrecomputed__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1abc9c607f2dfc9f23942a523fb49c63fe"></span>bool <code class="sig-name descname">usePrecomputed</code><br /></dt>
<dd><p>use precomputed tables? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu19ToGpuClonerMultiple11reserveVecsE">
<span id="_CPPv3N5faiss3gpu19ToGpuClonerMultiple11reserveVecsE"></span><span id="_CPPv2N5faiss3gpu19ToGpuClonerMultiple11reserveVecsE"></span><span id="faiss::gpu::ToGpuClonerMultiple::reserveVecs__l"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1ab60dd87e51af59373a48d73852573f04"></span>long <code class="sig-name descname">reserveVecs</code><br /></dt>
<dd><p>reserve vectors in the invfiles? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu19ToGpuClonerMultiple15storeTransposedE">
<span id="_CPPv3N5faiss3gpu19ToGpuClonerMultiple15storeTransposedE"></span><span id="_CPPv2N5faiss3gpu19ToGpuClonerMultiple15storeTransposedE"></span><span id="faiss::gpu::ToGpuClonerMultiple::storeTransposed__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1a5f2470ec5b2a8fe7aae0542f113b781d"></span>bool <code class="sig-name descname">storeTransposed</code><br /></dt>
<dd><p>For <a class="reference internal" href="#classfaiss_1_1gpu_1_1GpuIndexFlat"><span class="std std-ref">GpuIndexFlat</span></a>, store data in transposed layout? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu19ToGpuClonerMultiple7verboseE">
<span id="_CPPv3N5faiss3gpu19ToGpuClonerMultiple7verboseE"></span><span id="_CPPv2N5faiss3gpu19ToGpuClonerMultiple7verboseE"></span><span id="faiss::gpu::ToGpuClonerMultiple::verbose__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1abc7d0451773e0f2f640338533abc1397"></span>bool <code class="sig-name descname">verbose</code><br /></dt>
<dd><p>Set verbose options on the index. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu5utilsE">
<span id="_CPPv3N5faiss3gpu5utilsE"></span><span id="_CPPv2N5faiss3gpu5utilsE"></span><span id="faiss::gpu::utils"></span><span class="target" id="namespacefaiss_1_1gpu_1_1utils"></span><em class="property">namespace </em><code class="sig-name descname">utils</code><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Functions</p>
<dl class="cpp function">
<dt>
<span class="target" id="StaticUtils_8h_1a3bc4691d4731a93fbf5fcec46f5cf04d"></span><code class="sig-name descname">template&lt;typename U, typename V&gt; constexpr __host__ __device__ auto divDown (U a, V b) -&gt; decltype(a+b)</code></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="StaticUtils_8h_1a91e56461afb8b046dba4fdd8000e95af"></span><code class="sig-name descname">template&lt;typename U, typename V&gt; constexpr __host__ __device__ auto divUp (U a, V b) -&gt; decltype(a+b)</code></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="StaticUtils_8h_1afbb2f1d0a5843abf8c3a836bfb387ab4"></span><code class="sig-name descname">template&lt;typename U, typename V&gt; constexpr __host__ __device__ auto roundDown (U a, V b) -&gt; decltype(a+b)</code></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="StaticUtils_8h_1a1f24706c84852e436a8b5dcad7d9f252"></span><code class="sig-name descname">template&lt;typename U, typename V&gt; constexpr __host__ __device__ auto roundUp (U a, V b) -&gt; decltype(a+b)</code></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="StaticUtils_8h_1a1f3e4845c081c122a447cc5f520b7a93"></span><code class="sig-name descname">template&lt;class T&gt; constexpr __host__ __device__ T pow (T n, T power)</code></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="StaticUtils_8h_1aa90afbafb948f4fa36a2414120ff208c"></span><code class="sig-name descname">template&lt;class T&gt; constexpr __host__ __device__ T pow2 (T n)</code></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="StaticUtils_8h_1aee56435daf563a79585c93c44e5375db"></span><code class="sig-name descname">template&lt;typename T&gt; constexpr __host__ __device__ int log2 (T n, int p=0)</code></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="StaticUtils_8h_1a4d2f892d9242bffb150b3743b95eac33"></span><code class="sig-name descname">template&lt;typename T&gt; constexpr __host__ __device__ bool isPowerOf2 (T v)</code></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="StaticUtils_8h_1ab55ab9059fa19bc3270a50dfe239a077"></span><code class="sig-name descname">template&lt;typename T&gt; constexpr __host__ __device__ T nextHighestPowerOf2 (T v)</code></dt>
<dd></dd></dl>

</div>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="namespacefaiss_1_1gpu_1_1utils.html" class="btn btn-neutral float-right" title="Namespace faiss::gpu::utils" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="namespacefaiss.html" class="btn btn-neutral float-left" title="Namespace faiss" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright Facebook, Inc. and its affiliates..

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>